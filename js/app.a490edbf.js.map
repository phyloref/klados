{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/specifiers/Specifier.vue?c3a1","webpack:///src/components/phylogeny/Phylotree.vue","webpack:///./src/components/phylogeny/Phylotree.vue","webpack:///./src/App.vue?43be","webpack:///./src/store/modules/phyloref.js","webpack:///./src/components/phyx/PhyxView.vue","webpack:///src/App.vue","webpack:///./src/store/modules/citations.js","webpack:///./src/components/icons/ModifiedIcon.vue?c3e8","webpack:///./src/components/cards/ModifiedCard.vue?76d5","webpack:///./src/components/modals/AboutCurationToolModal.vue?ff55","webpack:///./src/App.vue?1160","webpack:///./src/store/modules/resolution.js","webpack:///src/components/phyloref/PhylorefView.vue","webpack:///./src/components/cards/ModifiedCard.vue","webpack:///./src/components/phylogeny/Phylotree.vue?c2a4","webpack:///./src/App.vue","webpack:///./src/components/modals/AdvancedOptionsModal.vue?8fe7","webpack:///./src/components/modals/AboutCurationToolModal.vue?840f","webpack:///./src/components/sidebar/Sidebar.vue","webpack:///src/components/TopNavigationBar.vue","webpack:///./src/components/phyloref/PhylorefView.vue","webpack:///./src/components/phylogeny/PhylogenyView.vue?8e70","webpack:///./src/components/modals/AdvancedOptionsModal.vue?9a46","webpack:///./src/App.vue?bff9","webpack:///./src/store/index.js","webpack:///./node_modules/moment/locale sync ^\\.\\/.*$","webpack:///./src/components/icons/ModifiedIcon.vue?10ae","webpack:///src/components/icons/ModifiedIcon.vue","webpack:///./src/components/modals/AboutCurationToolModal.vue?484c","webpack:///./src/main.js","webpack:///./src/components/sidebar/Sidebar.vue?ca1f","webpack:///./src/components/TopNavigationBar.vue?d79a","webpack:///./src/components/phyx/PhyxView.vue?2da8","webpack:///./src/components/phyloref/PhylorefView.vue?f147","webpack:///./src/components/phyx/PhyxView.vue?c984","webpack:///./src/App.vue?1fb6","webpack:///src/components/citations/Citation.vue","webpack:///./src/components/citations/Citation.vue?4382","webpack:///./src/components/modals/AdvancedOptionsModal.vue?11d2","webpack:///src/components/phyx/PhyxView.vue","webpack:///./src/components/phylogeny/Phylotree.vue?ec67","webpack:///./src/components/specifiers/Specifier.vue","webpack:///./src/components/phyx/PhyxView.vue?46cb","webpack:///./src/components/citations/Citation.vue?2265","webpack:///src/components/sidebar/Sidebar.vue","webpack:///./src/components/phyloref/PhylorefView.vue?f51d","webpack:///src/components/phylogeny/PhylogenyView.vue","webpack:///./src/components/specifiers/Specifier.vue?85d2","webpack:///./src/components/phylogeny/Phylotree.vue?53d0","webpack:///./src/store/modules/phylogeny.js","webpack:///src/components/modals/AboutCurationToolModal.vue","webpack:///./src/components/specifiers/Specifier.vue?c837","webpack:///./src/components/citations/Citation.vue?87ab","webpack:///./src/components/phylogeny/PhylogenyView.vue","webpack:///./src/components/TopNavigationBar.vue?5e12","webpack:///./src/components/cards/ModifiedCard.vue?6f2d","webpack:///./src/components/phyloref/PhylorefView.vue?c50d","webpack:///./src/components/phylogeny/Phylotree.vue?ad27","webpack:///./src/components/specifiers/Specifier.vue?d64a","webpack:///./src/components/icons/ModifiedIcon.vue?bcb7","webpack:///src/components/cards/ModifiedCard.vue","webpack:///./src/components/TopNavigationBar.vue","webpack:///./src/components/phylogeny/PhylogenyView.vue?56a5","webpack:///./src/config.js","webpack:///./src/components/modals/AboutCurationToolModal.vue","webpack:///src/components/modals/AdvancedOptionsModal.vue","webpack:///./src/components/cards/ModifiedCard.vue?d72c","webpack:///./src/components/sidebar/Sidebar.vue?db0f","webpack:///./src/components/phylogeny/PhylogenyView.vue?fae5","webpack:///./src/store/modules/ui.js","webpack:///./src/components/icons/ModifiedIcon.vue","webpack:///./src/components/sidebar/Sidebar.vue?8b72","webpack:///./src/components/TopNavigationBar.vue?a2b3","webpack:///./src/store/modules/phyx.js","webpack:///./src/components/citations/Citation.vue?f34d","webpack:///src/components/specifiers/Specifier.vue","webpack:///./src/components/citations/Citation.vue","webpack:///./src/components/modals/AdvancedOptionsModal.vue"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","props","phylogeny","phyloref","spacingX","type","default","phylogenyIndex","selectedNodeLabel","required","pinningNodes","pinningNodeChildrenIRIs","computed","reasoningResults","newickAsString","parsedNewick","d3","newickErrors","tree","svg","options","transitions","style_nodes","textLabel","text","attr","node","newick","element","some","getNodeLabelsMatchedBySpecifier","specifier","includes","style_edges","watch","mounted","methods","recurseNodes","func","nextID","child","nodeCount","redrawTree","font_size","size","$","spacing_x","update","render","_vm","this","_c","_self","_v","attrs","on","$event","$store","commit","staticClass","staticRenderFns","getters","getPhylorefType","internalSpecifierCount","internalSpecifiers","externalSpecifierCount","externalSpecifiers","mutations","setPhylorefProps","state","payload","has","Error","Vue","set","label","cladeDefinition","curatorComments","expectedResolution","phylogenyId","addExternalSpecifier","addInternalSpecifier","deleteSpecifier","PhylorefWrapper","setSpecifierProps","keys","forEach","delete","cloneDeep","setSpecifierType","indexOf","specifierType","setSpecifierPart","specifierPart","scientificName","occurrenceID","updateSpecifierExternalReference","externalReferences","fromExternalReference","toExternalReference","addToSpecifier","externalReference","includesSpecimens","specimen","scientificNames","deleteFromSpecifier","phylorefs","phyx","title","directives","rawName","expression","domProps","target","composing","$set","_e","phyxCurator","phyxCuratorEmail","phyxCuratorORCID","getDefaultNomenCodeURI","defaultNomenclaturalCodeURI","_l","nomenCodes","nomenCode","nomenCodeIndex","uri","_s","phylogenies","getPhylogenyLabel","phylorefIndex","deletePhyloref","getPhylorefLabel","getPhylorefExpectedNodeLabel","hasReasoningResults","getNodeLabelsResolvedByPhyloref","exportAsCSV","_m","deletePhylogeny","description","components","TopNavigationBar","Sidebar","PhyxView","PhylogenyView","PhylorefView","AboutCurationToolModal","AdvancedOptionsModal","version","display","currentPhyx","loadedPhyx","console","created","isNonEmptyString","str","isString","trim","CitationWrapper","citation","isEmpty","authors","authorsAsStrings","authorsAndTitle","join","year","editorLists","editors","editorsAsStrings","seriesEditors","seriesEditorsAsStrings","section_title","additionalInfo","figure","doisAsStrings","map","doi","urlsAsStrings","url","isbns","isbn","journal","journalIssue","number","pages","issns","issn","volume","publisher","city","Array","isArray","author","filter","editor","series_editors","identifier","identifiers","id","dois","concat","reduce","acc","val","link","urls","firstURL","firstDOI","encodeURI","getWrappedCitation","setCitations","citationKey","citations","component","undefined","getBaseURIForPhylogeny","rootState","getBaseURIForPhyloref","getPhylogenyId","getPhylorefId","getResolvedNodesForPhylogeny","flagReturnShortURIs","phylorefURI","nodesResolved","phylogenyURI","nodeURIs","results","iri","replace","getExpectedResolution","getExpectedNodeLabel","nodeLabel","allNodeLabels","PhylogenyWrapper","getNodeLabels","setReasoningResults","actions","setExpectedResolution","context","expectedResolutionData","currentExpectedResolution","currentExpectedResolutionForPhylogeny","ModifiedCard","Phylotree","Citation","Specifier","selectedPhylorefLabel","selectedCladeDefinition","selectedCuratorComments","computedPhylorefType","noSpecifiers","selectedPhylogeny","selectedPhyloref","nodeType","getSpecifierLabel","getResolvedNodes","dataChanged","message","loadPhyxFromFileInputById","examplePHYXURLs","example","loadPhyxFromURL","downloadAsJSON","downloadAsJSONLD","downloadAsNQuads","reasonOverPhyloreferences","reasoningInProgress","class","active","specifierIndex","selectedSpecifier","dispatch","modifiers","index","staticStyle","resolution","String","use","Vuex","debug","process","Store","CURATION_TOOL_VERSION","ui","strict","webpackContext","req","webpackContextResolve","e","code","resolve","library","FontAwesomeIcon","compare","compareTo","require","$config","BootstrapVue","VueResize","config","productionTip","el","store","h","App","BIcon","BIconTrash","citationsExpanded","newDOI","deleteCitation","getCitationsFromProps","updateCitations","toggleCitationExpanded","citationIndex","wrappedCitation","email","orcid","getNodesById","nodeId","wrappedPhyloref","header","rows","autoBom","specifierClass","nomenclaturalCodeObj","shortName","enteredNomenclaturalCode","specifierLabel","expand","$$selectedVal","selected","_value","multiple","enteredVerbatimLabel","updateSpecifier","taxonNameWrapped","nameComplete","genusPart","specificEpithet","infraspecificEpithet","enteredOccurrenceID","specimenWrapped","institutionCode","collectionCode","catalogNumber","ModifiedIcon","downloadFilenameForPhyx","promptAndSetDict","dict","done","fail","alert","fileInputId","fr","wrapped","outerThis","asJSONLD","jsonldGzipped","algorithm","secret","headers","error","always","phylogenyIdError","phylogenyLabel","phylogenyDescription","phylogenyNewick","phylogenyNewickErrors","errors","parenLevels","setPhylogenyProps","changePhylogenyId","oldPhylogenyId","rootGetters","phylogenyWithDuplicateID","find","$forceUpdate","errorIndex","JPHYLOREF_SUBMISSION_URL","JPHYLOREF_X_HUB_SIGNATURE_SECRET","OPEN_TREE_ABOUT_URL","OPEN_TREE_TNRS_MATCH_NAMES_URL","OPEN_TREE_INDUCED_SUBTREE_URL","JSONParsingError","phyxAsJSON","changeDisplay","newDisplay","style","color","loadedPhyxChanged","isEqual","TaxonNameWrapper","UNKNOWN_CODE","getDownloadFilenameForPhyx","DEFAULT_DOWNLOAD_FILENAME","phylorefLabels","replaceAll","setCurrentPhyx","setLoadedPhyx","JSON","parse","stringify","createEmptyPhyloref","createEmptyPhylogeny","createPhylogeny","setDefaultNomenCodeURI","duplicatePhyloref","setCurator","createPhylogenyFromOpenTree","createOTTPhylogenyWithCitation","jQuery","ajax","dataType","err","log","success","date_created","substring","Date","getFullYear","synth_id","taxonomy_version","citedPhylogeny","phylogenyCitation","taxonConceptNames","flatMap","specifiers","TaxonConceptWrapper","wrappedTC","namesToQuery","from","Set","names","contentType","ottIds","matches","taxon","ott_id","ott_ids","innerData","supporting_studies","regexErrorMessage","test","responseJSON","unknownOttIdReasons","unknown","knownOttIds","innerErr","TaxonomicUnitWrapper","remoteSpecifier","remoteSpecifierId","enteredScientificName","scname","occurID","getSpecifierClass","tunit","recalculateEntered","toString","split","edition","disabled"],"mappings":"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","file":"js/app.a490edbf.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/klados/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=style&index=0&id=45ac9538&prod&lang=css&\"","<template>\n  <div>\n    <template v-if=\"newickErrors\">\n      <p>\n        <strong>Error parsing phylogeny.</strong>\n        Please\n        <a\n          href=\"javascript: void\"\n          @click=\"$store.commit('changeDisplay', {phylogeny})\"\n        >\n          edit the phylogeny\n        </a>\n        to fix this error.\n      </p>\n    </template>\n    <div\n      v-else\n      class=\"phylotreeContainer\"\n    >\n      <svg\n        :id=\"'phylogeny' + phylogenyIndex\"\n        class=\"col-md-12 phylogeny\"\n      />\n      <ResizeObserver @notify=\"redrawTree\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * This component can be used to insert a phylogeny. It includes code for highlighing\n * the expecting and reasoned clade for a particular phyloreference.\n */\n\nimport { uniqueId, has } from 'lodash';\nimport { PhylogenyWrapper, PhylorefWrapper } from '@phyloref/phyx';\n\n/*\n * Note that this requires the Phylotree Javascript to be loaded in the HTML\n * header: I haven't figured out how to include phylotree.js from within Vue CLI yet.\n */\n\nexport default {\n  name: 'Phylotree',\n  props: {\n    phylogeny: Object, // The phylogeny to render.\n    phyloref: Object, // The phyloreference to highlight.\n    spacingX: { // Spacing in the X axis in pixels.\n      type: Number,\n      default: 20,\n    },\n    phylogenyIndex: { // An index number of the phylogeny. Will be used to set up HTML DOM IDs.\n      type: String,\n      default: uniqueId(),\n    },\n    selectedNodeLabel: { // The selected node label. If not set, we display all node labels.\n      type: String,\n      required: false,\n    },\n  },\n  data() {\n    return {\n      // List of pinning nodes to highlight for a particular phylogeny.\n      pinningNodes: [],\n      // List of pinning nodes and all their children, so the entire clade can be\n      // highlighted as needed.\n      pinningNodeChildrenIRIs: new Set(),\n    };\n  },\n  computed: {\n    reasoningResults() {\n      // Included so we can watch this for changes, see `watch` below.\n      return this.$store.state.resolution.reasoningResults;\n    },\n    newickAsString() {\n      // Returns the Newick string of this phylogeny.\n      return this.phylogeny.newick || '()';\n    },\n    parsedNewick() {\n      return new PhylogenyWrapper(this.phylogeny).getParsedNewickWithIRIs(\n        this.$store.getters.getPhylogenyId(this.phylogeny),\n        d3.layout.newick_parser,\n      );\n    },\n    newickErrors() {\n      // Check to see if the newick could actually be parsed.\n      if (!has(this.parsedNewick, 'json') || this.parsedNewick.json === null) {\n        return (has(this.parsedNewick, 'error') ? this.parsedNewick.error : 'unknown error');\n      }\n      return undefined;\n    },\n    tree() {\n      // Set up Phylotree.\n      const tree = d3.layout.phylotree()\n        .svg(d3.select(`#phylogeny${this.phylogenyIndex}`))\n        .options({\n          'internal-names': false,\n          transitions: false,\n          'left-right-spacing': 'fit-to-size',\n          'top-bottom-spacing': 'fixed-step',\n        })\n        .style_nodes((element, data) => {\n          // Instructions used to style nodes in Phylotree\n          // - element: The D3 element of the node being styled\n          // - data: The data associated with the node being styled\n\n          // Wrap the phylogeny so we can call methods on it.\n          const wrappedPhylogeny = new PhylogenyWrapper(this.phylogeny || {});\n\n          // Wrap the phyloref is there is one.\n          const wrappedPhyloref = new PhylorefWrapper(this.phyloref || {});\n\n          // Make sure we don't already have an internal label node on this SVG node!\n          let textLabel = element.selectAll('text');\n\n          if (has(data, 'name') && data.name !== '' && data.children) {\n            // If the internal label has the same label as the currently\n            // selected phyloreference, add an 'id' so we can jump to it\n            // and a CSS class to render it differently from other labels.\n            if (\n              // Display a label if:\n              //  (1) No selectedNodeLabel was provided to us (i.e. display all node labels), or\n              //  (2) We are currently rendering the selectedNodeLabel.\n              !this.selectedNodeLabel\n              || this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()\n            ) {\n              if (textLabel.empty()) textLabel = element.append('text');\n              textLabel.classed('internal-label', true)\n                .text(data.name)\n                .attr('dx', '0.3em')\n                .attr('dy', '0.35em');\n\n              // Is this the currently selected internal label?\n              if (this.selectedNodeLabel && this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()) {\n                textLabel.attr('id', `current_expected_label_phylogeny_${this.phylogenyIndex}`);\n                textLabel.classed('selected-internal-label', true);\n              }\n            } else if (!textLabel.empty()) textLabel.remove();\n          }\n\n          // Remove any previously added custom menu items.\n          data.menu_items = [];\n\n          // Add a custom menu item to allow us to rename this node.\n          d3.layout.phylotree.add_custom_menu(data,\n            node => 'Rename this node',\n            () => {\n              const node = data;\n              const existingName = node.name || '(none)';\n              const newName = window.prompt(`Rename node named '${existingName}' to:`);\n              // Apparently IE7 and IE8 will return the string 'undefined' if the user doesn't\n              // enter anything.\n              if (!newName || newName == 'undefined') {\n                // Remove the current label.\n                node.name = '';\n              } else {\n                // Set the new label.\n                node.name = newName;\n              }\n\n              // Export the entire phylogeny as a Newick string, and store that\n              // in the phylogeny object.\n              this.$store.commit('setPhylogenyProps', {\n                phylogeny: this.phylogeny,\n                newick: tree.get_newick((n) => {\n                  // There appears to be a bug in the version of Phylotree.js we\n                  // use in which leaf nodes are duplicated if we just return n.name\n                  // here. So we return undefined for leaf nodes and n.name for\n                  // everything else. I'll investigate this more deeply in\n                  // https://github.com/phyloref/klados/issues/200.\n                  if (!tree.is_leafnode(n)) return n.name;\n                  return undefined;\n                }),\n              });\n            },\n            node => true, // We can replace this with a condition that indicates whether this node should be displayed.\n          );\n\n          // If the internal label has the same IRI as the currently selected\n          // phyloreference's reasoned node, further mark it as the resolved node.\n          //\n          // Note that this node might NOT be labeled, in which case we need to\n          // label it now!\n          if (\n            this.phyloref !== undefined && has(data, '@id')\n            && this.$store.getters.getResolvedNodesForPhylogeny(this.phylogeny, this.phyloref).includes(data['@id'])\n          ) {\n            // We found another pinning node!\n            this.pinningNodes.push(data);\n            this.recurseNodes(data, node => this.pinningNodeChildrenIRIs.add(node['@id']));\n\n            // Mark this node as the pinning node.\n            element.classed('pinning-node', true);\n\n            // Make the pinning node circle larger (twice its usual size of 3).\n            element.select('circle').attr('r', 6);\n\n            // Set its id to 'current_pinning_node_phylogeny{{phylogenyIndex}}'\n            element.attr('id', `current_pinning_node_phylogeny_${this.phylogenyIndex}`);\n          }\n\n          // Maybe this isn't a pinning node, but it is a child of a pinning node.\n          if (\n            has(data, '@id')\n            && this.pinningNodeChildrenIRIs.has(data['@id'])\n          ) {\n            // Apply a class.\n            // Note that this applies to the resolved-node too.\n            element.classed('descendant-of-pinning-node-node', true);\n          }\n\n          if (data.name !== undefined && data.children === undefined) {\n            // Labeled leaf node! Look for taxonomic units.\n            const tunits = wrappedPhylogeny.getTaxonomicUnitsForNodeLabel(data.name);\n\n            if (tunits.length === 0) {\n              element.classed('terminal-node-without-tunits', true);\n            } else if (this.phyloref !== undefined) {\n              // If this is a terminal node, we should set its ID to\n              // `current_expected_label_phylogeny${phylogenyIndex}` if it is\n              // the currently expected node label.\n              if (\n                has(this.phyloref, 'label')\n                && this.selectedNodeLabel && this.selectedNodeLabel.toLowerCase() === data.name.toLowerCase()\n              ) {\n                textLabel.attr('id', `current_expected_label_phylogeny_${this.phylogenyIndex}`);\n              }\n\n              // We should highlight internal specifiers.\n              if (has(this.phyloref, 'internalSpecifiers')) {\n                if (this.phyloref.internalSpecifiers\n                  .some(specifier => wrappedPhylogeny\n                    .getNodeLabelsMatchedBySpecifier(specifier)\n                    .includes(data.name))\n                ) {\n                  element.classed('internal-specifier-node', true);\n                }\n              }\n\n              // We should highlight external specifiers.\n              if (has(this.phyloref, 'externalSpecifiers')) {\n                if (this.phyloref.externalSpecifiers\n                  .some(specifier => wrappedPhylogeny\n                    .getNodeLabelsMatchedBySpecifier(specifier)\n                    .includes(data.name))\n                ) {\n                  element.classed('external-specifier-node', true);\n                }\n              }\n            }\n          }\n        })\n        .style_edges((element, data) => {\n          // Is the parent a descendant of a pinning node? If so, we need to\n          // select this branch!\n          if (\n            has(data, 'source')\n            && has(data.source, '@id')\n            && this.pinningNodeChildrenIRIs.has(data.source['@id'])\n          ) {\n            // Apply a class to this branch.\n            element.classed('descendant-of-pinning-node-branch', true);\n          } else {\n            element.classed('descendant-of-pinning-node-branch', false);\n          }\n        });\n      tree(this.parsedNewick);\n      return tree;\n    },\n  },\n  watch: {\n    phyloref() {\n      // We need to redraw the tree when phyloref changes.\n      this.redrawTree();\n    },\n    reasoningResults() {\n      // If reasoning occurs, we'll need to redraw this tree.\n      this.redrawTree();\n    },\n    phylogeny() {\n      // If the phylogeny changed, redraw the tree.\n      this.redrawTree();\n    },\n    selectedNodeLabel() {\n      // If the selected node label changed, redraw the tree.\n      this.redrawTree();\n    },\n    newickAsString() {\n      // If the newick changes, redraw the tree.\n      this.redrawTree();\n    },\n  },\n  mounted() {\n    // Redraw the tree when this component is loaded for the first time.\n    this.redrawTree();\n  },\n  methods: {\n    recurseNodes(node, func, nodeCount = 0, parentCount = undefined) {\n      // Recurse through PhyloTree nodes, executing function on each node.\n      //  - node: The node to recurse from. The function will be called on node\n      //          *before* being called on its children.\n      //  - func: The function to call on `node` and all of its children.\n      //  - nodeCount: `node` will be called with this nodeCount. All of its\n      //          children will be called with consecutively increasing nodeCounts.\n      //  - parentCount: The nodeCount associated with the parent of this node\n      //          within this run of recurseNodes. For instance, immediate children\n      //          of `node` will have a parentCount of 0. By default, `node` itself\n      //          will have a parentCount of `undefined`.\n      // When the function `func` is called, it is given three arguments:\n      //  - The current node object (initially: `node`)\n      //  - The count of the current node object (initially: `nodeCount`)\n      //  - The parent count of the current node object (initially: `parentCount`)\n      func(node, nodeCount, parentCount);\n\n      let nextID = nodeCount + 1;\n\n      // Recurse through all children of this node.\n      if (has(node, 'children')) {\n        node.children.forEach((child) => {\n          nextID = this.recurseNodes(\n            child,\n            func,\n            nextID,\n            nodeCount,\n          );\n        });\n      }\n\n      return nextID;\n    },\n    redrawTree() {\n      // Reset the pinning node information before redrawing.\n      this.pinningNodes = [];\n      this.pinningNodeChildrenIRIs = new Set();\n\n      // Draw the tree.\n      this.tree\n        .font_size(16) // Weirdly enough, this is in px, not pt.\n        .size([\n          // height\n          0,\n          // width\n          $(`#phylogeny${this.phylogenyIndex}`).innerWidth(),\n          // We need more space because our fonts are bigger than the default.\n        ])\n        .spacing_x(this.spacingX)\n        .update();\n    },\n  },\n};\n</script>\n\n<style>\n.phylogeny {\n  width: 100%;\n}\n.phylotreeContainer {\n  /* Required for Vue-Resize to track its size */\n  position: relative;\n}\n\n/*\n * Classes for phylogeny SVG elements\n */\n\n/*\n * Phylotree .node refers to the SVG groups that contain both the\n * node itself as well as the text label next to it. This is confusing,\n * but we will try to use that consistently below: *-node refers to the group\n * that includes both the node as well as the label with it, while *-label\n * refers only to the labels next to the nodes.\n */\n.node {\n  font-size: 12pt !important;\n}\n\n/* Labels for internal nodes, whether phylorefs or not */\n.internal-label {\n  font-family: serif;\n  font-size: 16pt;\n  font-style: italic;\n\n  text-anchor: start; /* Align text so it starts at the coordinates provided */\n  alignment-baseline: middle;\n}\n\n/* Node label for an internal specifier */\n.internal-specifier-node text {\n    font-weight: bolder;\n    fill: rgb(0, 24, 168) !important;\n}\n\n/* Node label for an external specifier */\n.external-specifier-node text {\n    font-weight: bolder;\n    fill: rgb(0, 24, 168) !important;\n}\n\n/* Node label for a terminal node without taxonomic units */\n.terminal-node-without-tunits {\n}\n\n/* The selected internal label on a phylogeny, whether determined to be the pinning node or not. */\n.selected-internal-label {\n    font-size: 16pt;\n    fill: rgb(0, 24, 168);\n}\n\n/*\n * An additional class for nodes that are the pinning node. When the phyloreference\n * resolves to a single terminal node, it will be laid out in this way, rather\n * than as an .internal-specifier-node.\n */\n.pinning-node text {\n    fill: black !important;\n    font-weight: bolder;\n}\n\n/*\n * The descendant-of-pinning-node class instructions below apply to the entire resolved node,\n * which includes the circle as well as the text label. We want to coordinate\n * colours between:\n *  - The circle that appears next to the node label,\n *  - The node label, whether internal or terminal, and\n *  - The branches descending from the pinning node.\n *\n * Note that .internal-specifier-node is set up to override this formatting, so\n * internal node labels will be formatted differently from other terminals\n * descending from the pinning node.\n */\n.descendant-of-pinning-node-node circle {\n  fill: rgb(0, 24, 168);\n}\n\n.descendant-of-pinning-node-node text {\n}\n\n.descendant-of-pinning-node-branch {\n  stroke: rgb(0, 24, 168);\n}\n\n/*\n * Create a table class for a fixed size body.\n * Based on https://stackoverflow.com/a/23518856/27310\n */\n.table-fixed-height {\n}\n\n.table-fixed-height thead {\n    display: block;\n    width: 100%;\n}\n\n.table-fixed-height tbody {\n    display: block;\n    width: 100%;\n    height: 15em;\n    overflow-y: scroll;\n    z-index: -1;\n}\n\n.table-fixed-height tr {\n    width: 100%;\n    display: inline-table;\n    table-layout: fixed;\n}\n\n/*\n * The following code is stolen from Bootstrap 3.3, which is a Phylotree.js\n * dependency. Since we otherwise use Bootstrap 4+, we need to override this\n * here so the menu works.\n *\n * We apply it only to subclasses of #d3_layout_phylotree_context_menu to limit\n * their fallout on other elements.\n */\n#d3_layout_phylotree_context_menu.dropdown-menu {\n position: absolute;\n top: 100%;\n left: 0;\n z-index: 1000;\n display: none;\n float: left;\n min-width: 160px;\n padding: 5px 0;\n margin: 2px 0 0;\n font-size: 14px;\n text-align: left;\n list-style: none;\n background-color: #fff;\n -webkit-background-clip: padding-box;\n         background-clip: padding-box;\n border: 1px solid #ccc;\n border: 1px solid rgba(0, 0, 0, .15);\n border-radius: 4px;\n -webkit-box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n         box-shadow: 0 6px 12px rgba(0, 0, 0, .175);\n}\n#d3_layout_phylotree_context_menu.dropdown-menu.pull-right {\n right: 0;\n left: auto;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu .divider {\n height: 1px;\n margin: 9px 0;\n overflow: hidden;\n background-color: #e5e5e5;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a {\n display: block;\n padding: 3px 20px;\n clear: both;\n font-weight: normal;\n line-height: 1.42857143;\n color: #333;\n white-space: nowrap;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > li > a:focus {\n color: #262626;\n text-decoration: none;\n background-color: #f5f5f5;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a,\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .active > a:focus {\n color: #fff;\n text-decoration: none;\n background-color: #337ab7;\n outline: 0;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:focus {\n color: #777;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:hover,\n#d3_layout_phylotree_context_menu.dropdown-menu > .disabled > a:focus {\n text-decoration: none;\n cursor: not-allowed;\n background-color: transparent;\n background-image: none;\n filter: progid:DXImageTransform.Microsoft.gradient(enabled = false);\n}\n.open > #d3_layout_phylotree_context_menu.dropdown-menu {\n display: block;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu-right {\n right: 0;\n left: auto;\n}\n#d3_layout_phylotree_context_menu.dropdown-menu-left {\n right: auto;\n left: 0;\n}\n#d3_layout_phylotree_context_menu.dropdown-header {\n display: block;\n padding: 3px 20px;\n font-size: 12px;\n line-height: 1.42857143;\n color: #777;\n white-space: nowrap;\n}\n#d3_layout_phylotree_context_menu.dropdown-backdrop {\n position: fixed;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n z-index: 990;\n}\n\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.newickErrors)?[_c('p',[_c('strong',[_vm._v(\"Error parsing phylogeny.\")]),_vm._v(\"\\n      Please\\n      \"),_c('a',{attrs:{\"href\":\"javascript: void\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phylogeny: _vm.phylogeny})}}},[_vm._v(\"\\n        edit the phylogeny\\n      \")]),_vm._v(\"\\n      to fix this error.\\n    \")])]:_c('div',{staticClass:\"phylotreeContainer\"},[_c('svg',{staticClass:\"col-md-12 phylogeny\",attrs:{\"id\":'phylogeny' + _vm.phylogenyIndex}}),_c('ResizeObserver',{on:{\"notify\":_vm.redrawTree}})],1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=template&id=4f6b036a&\"","/*\n * Store module for modifying phyloreferences.\n */\n\nimport Vue from 'vue';\nimport { PhylorefWrapper } from '@phyloref/phyx';\nimport { has, keys, cloneDeep } from 'lodash';\n\nexport default {\n  getters: {\n    getPhylorefType: () => (phyloref) => {\n      const internalSpecifierCount = (phyloref.internalSpecifiers || []).length;\n      const externalSpecifierCount = (phyloref.externalSpecifiers || []).length;\n\n      if (externalSpecifierCount > 0) {\n        if (internalSpecifierCount > 0) return 'Maximum clade definition';\n      } else if (internalSpecifierCount > 0) {\n        if (internalSpecifierCount > 1) return 'Minimum clade definition';\n        return 'Invalid definition (single internal specifier cannot be resolved)';\n      }\n\n      return 'Invalid definition (must have at least one internal specifier)';\n    },\n  },\n  mutations: {\n    setPhylorefProps(state, payload) {\n      // Set one or more properties on a phyloreference.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('setPhylorefProps needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (has(payload, 'label')) {\n        Vue.set(payload.phyloref, 'label', payload.label);\n      }\n      if (has(payload, 'cladeDefinition')) {\n        Vue.set(payload.phyloref, 'cladeDefinition', payload.cladeDefinition);\n      }\n      if (has(payload, 'curatorComments')) {\n        Vue.set(payload.phyloref, 'curatorComments', payload.curatorComments);\n      }\n      if (has(payload, 'expectedResolution')) {\n        if (!has(payload, 'phylogenyId')) {\n          throw new Error('setPhylorefProps used to set expectedResolution needs a phylogeny ID to set using the \"phylogenyId\" argument');\n        }\n\n        if (!has(payload.phyloref, 'expectedResolution')) Vue.set(payload.phyloref, 'expectedResolution', {});\n        Vue.set(payload.phyloref.expectedResolution, payload.phylogenyId, payload.expectedResolution);\n      }\n    },\n\n    addExternalSpecifier(state, payload) {\n      // Add an empty specifier to a particular phyloreference as an external specifier.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('addSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      if (!has(payload.phyloref, 'externalSpecifiers')) {\n        Vue.set(payload.phyloref, 'externalSpecifiers', []);\n      }\n\n      payload.phyloref.externalSpecifiers.push({});\n    },\n\n    addInternalSpecifier(state, payload) {\n      // Add an empty specifier to a particular phyloreference as an internal specifier.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('addSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      if (!has(payload.phyloref, 'internalSpecifiers')) {\n        Vue.set(payload.phyloref, 'internalSpecifiers', []);\n      }\n\n      payload.phyloref.internalSpecifiers.push({});\n    },\n\n    deleteSpecifier(state, payload) {\n      // Delete a specifier from a phyloreference.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('deleteSpecifier needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (!has(payload, 'specifier')) {\n        throw new Error('deleteSpecifier needs a specifier to delete using the \"specifier\" argument');\n      }\n\n      new PhylorefWrapper(payload.phyloref).deleteSpecifier(payload.specifier);\n    },\n\n    setSpecifierProps(state, payload) {\n      // Set one or more properties on a specifier.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('setSpecifierProps needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      if (!has(payload, 'props')) {\n        throw new Error('setSpecifierProps needs properties to set this specifier to using the \"props\" argument');\n      }\n\n      const specifier = payload.specifier;\n      const props = payload.props;\n\n      // Delete all existing keys in this specifier.\n      keys(specifier).forEach(key => Vue.delete(specifier, key));\n\n      // Add all new keys from the payload.\n      keys(props).forEach(key => Vue.set(specifier, key, cloneDeep(props[key])));\n    },\n\n    setSpecifierType(state, payload) {\n      // Change the type of a specifier. Since we maintain separate internalSpecifiers\n      // and externalSpecifiers arrays, we may need to delete the specifier from one\n      // array and add it to the other.\n\n      if (!has(payload, 'phyloref')) {\n        throw new Error('setSpecifierType needs a phyloref to modify using the \"phyloref\" argument');\n      }\n      if (!has(payload, 'specifier')) {\n        throw new Error('setSpecifierType needs a specifier to modify using the \"specifier\" argument');\n      }\n      if (!has(payload, 'specifierType')) {\n        throw new Error('setSpecifierType needs a specifierType to set to using the \"specifierType\" argument');\n      }\n\n      // Remove this specifier from this phyloreference.\n      if (has(payload.phyloref, 'internalSpecifiers') && payload.phyloref.internalSpecifiers.includes(payload.specifier)) {\n        payload.phyloref.internalSpecifiers.splice(\n          payload.phyloref.internalSpecifiers.indexOf(payload.specifier),\n          1,\n        );\n      }\n      if (has(payload.phyloref, 'externalSpecifiers') && payload.phyloref.externalSpecifiers.includes(payload.specifier)) {\n        payload.phyloref.externalSpecifiers.splice(\n          payload.phyloref.externalSpecifiers.indexOf(payload.specifier),\n          1,\n        );\n      }\n\n      // Reinsert it into the correct place.\n      if (payload.specifierType === 'Internal') {\n        if (has(payload.phyloref, 'internalSpecifiers')) {\n          payload.phyloref.internalSpecifiers.push(payload.specifier);\n        } else {\n          Vue.set(payload.phyloref, 'internalSpecifiers', [payload.specifier]);\n        }\n      } else if (payload.specifierType === 'External') {\n        if (has(payload.phyloref, 'externalSpecifiers')) {\n          payload.phyloref.externalSpecifiers.push(payload.specifier);\n        } else {\n          Vue.set(payload.phyloref, 'externalSpecifiers', [payload.specifier]);\n        }\n      } else {\n        throw new Error(`Unknown specifier type: ${payload.specifierType}`);\n      }\n    },\n\n    setSpecifierPart(state, payload) {\n      // Replaces one or more specifier part with a new value. Note that values\n      // can only be scientific names or occurrence IDs; external references use\n      // updateSpecifierExternalReference().\n      if (!has(payload, 'specifierPart')) {\n        throw new Error('setSpecifierPart needs a specifier part to modify using the \"specifierPart\" argument');\n      }\n\n      if (has(payload, 'scientificName')) {\n        Vue.set(payload.specifierPart, 'scientificName', payload.scientificName);\n      }\n      if (has(payload, 'occurrenceID')) {\n        Vue.set(payload.specifierPart, 'occurrenceID', payload.occurrenceID);\n      }\n    },\n\n    updateSpecifierExternalReference(state, payload) {\n      // Given a specifier, replace one external reference with another.\n      if (!has(payload, 'specifier')) {\n        throw new Error('updateSpecifierExternalReference needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      if (!has(payload.specifier, 'externalReferences')) {\n        Vue.set(payload.specifier, 'externalReferences', []);\n      }\n\n      if (has(payload, 'fromExternalReference')) {\n        if (payload.specifier.externalReferences.includes(payload.fromExternalReference)) {\n          payload.specifier.externalReferences.splice(\n            payload.specifier.externalReferences.indexOf(payload.fromExternalReference),\n            1,\n          );\n        }\n      }\n\n      if (has(payload, 'toExternalReference')) {\n        payload.specifier.externalReferences.push(payload.toExternalReference);\n      }\n    },\n\n    addToSpecifier(state, payload) {\n      // Add a new external reference, specimen or scientific name to a phyloreference.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('addToSpecifier needs a specifier to modify using the \"specifier\" argument');\n      }\n\n      // Add external reference (if one is provided).\n      if (has(payload, 'externalReference')) {\n        if (!has(payload.specifier, 'externalReferences')) {\n          Vue.set(payload.specifier, 'externalReferences', []);\n        }\n\n        payload.specifier.externalReferences.push(payload.externalReference);\n      }\n\n      // Add specimen (if one is provided).\n      if (has(payload, 'specimen')) {\n        if (!has(payload.specifier, 'includesSpecimens')) {\n          Vue.set(payload.specifier, 'includesSpecimens', []);\n        }\n\n        payload.specifier.includesSpecimens.push(payload.specimen);\n      }\n\n      // Add scientific name (if one is provided).\n      if (has(payload, 'scientificName')) {\n        if (!has(payload.specifier, 'scientificNames')) {\n          Vue.set(payload.specifier, 'scientificNames', []);\n        }\n\n        payload.specifier.scientificNames.push(payload.scientificName);\n      }\n    },\n\n    deleteFromSpecifier(state, payload) {\n      // Delete a scientific name, specimen or external reference from a given specifier.\n\n      if (!has(payload, 'specifier')) {\n        throw new Error('deleteFromSpecifier needs a specifier to modify using the \"specifier\" argument');\n      }\n      if (has(payload, 'scientificName')) {\n        if (!has(payload.specifier, 'scientificNames')) Vue.set(payload.specifier, 'scientificNames', []);\n        if (payload.specifier.scientificNames.includes(payload.scientificName)) {\n          payload.specifier.scientificNames.splice(\n            payload.specifier.scientificNames.indexOf(payload.scientificName),\n            1,\n          );\n        }\n      }\n      if (has(payload, 'specimen')) {\n        if (!has(payload.specifier, 'includesSpecimens')) Vue.set(payload.specifier, 'includesSpecimens', []);\n        if (payload.specifier.includesSpecimens.includes(payload.specimen)) {\n          payload.specifier.includesSpecimens.splice(\n            payload.specifier.includesSpecimens.indexOf(payload.specimen),\n            1,\n          );\n        }\n      }\n      if (has(payload, 'externalReference')) {\n        if (!has(payload.specifier, 'externalReferences')) Vue.set(payload.specifier, 'externalReferences', []);\n        if (payload.specifier.externalReferences.includes(payload.externalReference)) {\n          payload.specifier.externalReferences.splice(\n            payload.specifier.externalReferences.indexOf(payload.externalReference),\n            1,\n          );\n        }\n      }\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"card border-dark\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phyloreference collection\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[(_vm.phylorefs.length > 1 || _vm.phyx.title)?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"phyx-label\"}},[_vm._v(\"\\n            Collection name\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyx.title),expression:\"phyx.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"phyx-label\",\"type\":\"text\",\"placeholder\":\"Enter title here\"},domProps:{\"value\":(_vm.phyx.title)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.phyx, \"title\", $event.target.value)}}})])]):_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"curator-name\"}},[_vm._v(\"\\n            Curated by\\n          \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCurator),expression:\"phyxCurator\"}],staticClass:\"form-control\",attrs:{\"id\":\"curator-name\",\"type\":\"text\",\"placeholder\":\"Curator name\"},domProps:{\"value\":(_vm.phyxCurator)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phyxCurator=$event.target.value}}})]),_c('div',{staticClass:\"col-md-3\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCuratorEmail),expression:\"phyxCuratorEmail\"}],staticClass:\"form-control\",attrs:{\"id\":\"curator-email\",\"type\":\"email\",\"placeholder\":\"Curator e-mail address\"},domProps:{\"value\":(_vm.phyxCuratorEmail)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phyxCuratorEmail=$event.target.value}}})]),_c('div',{staticClass:\"col-md-3 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phyxCuratorORCID),expression:\"phyxCuratorORCID\"}],staticClass:\"form-control\",attrs:{\"id\":\"external-reference\",\"placeholder\":\"Curator ORCID\"},domProps:{\"value\":(_vm.phyxCuratorORCID)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phyxCuratorORCID=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"target\":\"_blank\",\"href\":'https://orcid.org/' + _vm.phyxCuratorORCID}},[_vm._v(\"\\n                Open in new window\\n              \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"default-nomen-code\"}},[_vm._v(\"\\n            Default nomenclatural code\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{staticClass:\"form-control\",attrs:{\"id\":\"nomen-code\"},domProps:{\"value\":_vm.$store.getters.getDefaultNomenCodeURI},on:{\"change\":function($event){return _vm.$store.commit('setDefaultNomenCodeURI', { defaultNomenclaturalCodeURI: $event.target.value })}}},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('option',{domProps:{\"value\":nomenCode.uri}},[_vm._v(\"\\n                \"+_vm._s(nomenCode.label)+\"\\n              \")])}),0)])])])])]),_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phyloreferences in this file\\n    \")]),_c('div',{staticClass:\"card-body p-0\"},[_c('table',{staticClass:\"table table-hover table-flush\"},[_c('thead',[_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"Phyloreference\")]),_c('th',[_vm._v(\"Type\")]),_c('th',[_vm._v(\"Internal specifiers\")]),_c('th',[_vm._v(\"External specifiers\")]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('th',[_vm._v(\"\\n            \"+_vm._s(_vm.getPhylogenyLabel(phylogeny))+\"\\n          \")])})],2),_c('tbody',[(_vm.phylorefs.length === 0)?_c('tr',{staticClass:\"bg-white\"},[_c('td',{attrs:{\"colspan\":4 + _vm.phylogenies.length}},[_c('Center',[_c('em',[_vm._v(\"No phyloreferences in this file\")])])],1)]):_vm._e(),_vm._l((_vm.phylorefs),function(phyloref,phylorefIndex){return _c('tr',[_c('td',[_c('button',{staticClass:\"btn btn-sm btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deletePhyloref(phyloref)}}},[_vm._v(\"\\n                \\n              \")])]),_c('td',[_c('a',{attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref })}}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPhylorefLabel(phyloref))+\"\\n              \")])]),_c('td',[_vm._v(_vm._s(_vm.$store.getters.getPhylorefType(phyloref)))]),_c('td',[_vm._v(_vm._s((phyloref.internalSpecifiers || []).length))]),_c('td',[_vm._v(_vm._s((phyloref.externalSpecifiers || []).length))]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('td',[(!_vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))?[_c('strong',[_vm._v(\"No expected node\")]),(_vm.hasReasoningResults(phyloref))?[(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"did not resolve to any node\")])]:(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"resolved to multiple nodes: \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)))])]:[_vm._v(\"\\n                    and resolved to \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\")+\"\\n                  \")]]:_vm._e()]:[_vm._v(\"\\n                Expected to resolve to node \"+_vm._s(_vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))+\"\\n                \"),(_vm.hasReasoningResults(phyloref))?[(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"did not resolve to any node\")])]:(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1)?[_vm._v(\"\\n                    but \"),_c('strong',[_vm._v(\"resolved to multiple nodes: \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)))])]:[_vm._v(\"\\n                    and resolved\\n                    \"),(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0] === _vm.getPhylorefExpectedNodeLabel(phyloref, phylogeny))?[_vm._v(\"\\n                      correctly\\n                    \")]:[_c('strong',[_vm._v(\"incorrectly\")])],_vm._v(\"\\n                    to \"+_vm._s(_vm.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\")+\"\\n                  \")]]:_vm._e()]],2)})],2)})],2)])]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phyx file management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhyloref')}}},[_vm._v(\"\\n          Add phyloreference\\n        \")]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.exportAsCSV()}}},[_vm._v(\"\\n          Export as CSV\\n        \")])])])]),_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header border-dark\"},[_vm._v(\"\\n      Phylogenies in this file\\n    \")]),_c('div',{staticClass:\"card-body p-0\"},[_c('table',{staticClass:\"table table-hover table-flush\"},[_vm._m(0),_c('tbody',[(_vm.phylogenies.length === 0)?_c('tr',{staticClass:\"bg-white\"},[_c('td',{attrs:{\"colspan\":3}},[_c('Center',[_c('em',[_vm._v(\"No phylogenies in this file\")])])],1)]):_vm._e(),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('tr',[_c('td',[_c('button',{staticClass:\"btn btn-sm btn-danger\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.deletePhylogeny(phylogeny)}}},[_vm._v(\"\\n                \\n              \")])]),_c('td',[_c('a',{attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phylogeny })}}},[_vm._v(\"\\n                \"+_vm._s(_vm.getPhylogenyLabel(phylogeny))+\"\\n              \")])]),_c('td',[_vm._v(\"\\n              \"+_vm._s(phylogeny.description)+\"\\n            \")])])})],2)])]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phylogeny management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhylogeny')}}},[_vm._v(\"\\n          Add phylogeny\\n        \")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('thead',[_c('th',[_vm._v(\"\")]),_c('th',[_vm._v(\"Phylogeny\")]),_c('th',[_vm._v(\"Description\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <TopNavigationBar :version=\"version\" />\n    <div id=\"wrapper\">\n      <Sidebar />\n      <div id=\"page-content-wrapper\">\n        <template v-if=\"display.phyloref\">\n          <PhylorefView\n            :phyloref=\"display.phyloref\"\n            :specifier=\"display.specifier\"\n          />\n        </template>\n        <template v-else-if=\"display.phylogeny\">\n          <PhylogenyView :phylogeny=\"display.phylogeny\" />\n        </template>\n        <template v-else>\n          <PhyxView />\n        </template>\n      </div>\n    </div>\n\n    <!-- All modals are included here -->\n    <AboutCurationToolModal />\n    <AdvancedOptionsModal />\n  </div>\n</template>\n\n<script>\n/*\n * Lays out the entire page, including inserting the (hidden) modals so they can be displayed.\n */\n\nimport { isEqual } from 'lodash';\nimport { mapState } from 'vuex';\n\n// Navigation controls.\nimport TopNavigationBar from './components/TopNavigationBar.vue';\nimport Sidebar from './components/sidebar/Sidebar.vue';\n\n// At any point, one of these views will be displayed.\nimport PhylogenyView from './components/phylogeny/PhylogenyView.vue';\nimport PhylorefView from './components/phyloref/PhylorefView.vue';\nimport PhyxView from './components/phyx/PhyxView.vue';\n\n// Modal dialogs to be displayed above the UI.\nimport AboutCurationToolModal from './components/modals/AboutCurationToolModal.vue';\nimport AdvancedOptionsModal from './components/modals/AdvancedOptionsModal.vue';\n\nexport default {\n  name: 'App',\n  components: {\n    TopNavigationBar,\n    Sidebar,\n    PhyxView,\n    PhylogenyView,\n    PhylorefView,\n    AboutCurationToolModal,\n    AdvancedOptionsModal,\n  },\n  data: () => ({\n    version: process.env.VUE_APP_VERSION,\n  }),\n  computed: mapState({\n    display: state => state.ui.display,\n    currentPhyx: state => state.phyx.currentPhyx,\n    loadedPhyx: state => state.phyx.loadedPhyx,\n  }),\n  watch: {\n    currentPhyx() {\n      // If currentPhyx changes, reasoning results can no longer be trusted.\n      // So reset them!\n      console.log('currentPhyx changed; resetting resolution results.');\n      this.$store.commit('setReasoningResults', undefined);\n    },\n  },\n  created() {\n    // If someone tries to navigate away from the window while the\n    // PHYX has been modified, ask users to confirm before leaving.\n    // Confirmation message to display to the user. Note that modern\n    // browsers do not display this message, but provide a generic\n    // \"content has changed\" dialog instead.\n    $(window).on('beforeunload', () => {\n      const confirmationMessage = 'Your modifications have not been saved and will be lost if you close Klados. Confirm to discard your changes, or cancel to return to Klados.';\n\n      if (!isEqual(this.loadedPhyx, this.currentPhyx)) return confirmationMessage;\n      return false;\n    });\n  },\n};\n</script>\n\n<style>\n/*\n * Classes for overall design.\n */\n\n#wrapper {\n  padding-top: 64px;\n  padding-left: 250px;\n  margin-bottom: 10px;\n  transition: all 0.4s ease 0s;\n}\n\n#sidebar-wrapper {\n  font-size: 80%;\n  margin-left: -250px;\n  padding: 0px 5px;\n  position: fixed;\n  padding-top: 64px;\n  bottom: 0px;\n  left: 250px;\n  width: 250px;\n  height: 100%;\n  overflow-y: auto;\n  z-index: 1000;\n  transition: all 0.4s ease 0s;\n}\n\n#page-content-wrapper {\n  width: 100%;\n  padding: 0px 10px;\n}\n</style>\n","/*\n * Store module for handling citations.\n *\n * Note that citations are located as keys on objects (for example, a phyloreference\n * can have both a primaryPhylogenyCitation as well as a phylogenyCitation). Thus,\n * citations are referred to by an object (which exists elsewhere in the Vuex store)\n * and the key for the citation.\n *\n * The format for citations we use is based on BibJSON (http://okfnlabs.org/bibjson/),\n * since that is essentially what Regnum uses. This is surprisingly poorly supported,\n * except for the Citation.JS library (https://citation.js.org/), but I haven't been\n * able to get it working on Vue JS yet. Therefore, mostly, I've implemented a\n * basic CitationWrapper here, we'll replace it with Citations.JS or another proper\n * library when we can. We might switch over to CSL-JSON eventually (see issue\n * https://github.com/phyloref/clade-ontology/issues/69).\n */\n\nimport Vue from 'vue';\nimport { has, isEmpty, isString } from 'lodash';\n\nfunction isNonEmptyString(str) {\n  // Helper method: checks to see if a provided object (1) is a string, that\n  // (2) is non-empty after trimming.\n  if (!isString(str)) return false;\n  if (str.trim().length === 0) return false;\n  return true;\n}\n\nclass CitationWrapper {\n  // Wraps a Citation in a Phyx document. Should be moved to phyx.js.\n\n  constructor(citation) {\n    // Store the citation we're wrapping.\n    this.citation = citation;\n  }\n\n  toString() {\n    // Return this citation in a string representation.\n    if (!this.citation || isEmpty(this.citation)) return undefined;\n\n    let authors = this.authorsAsStrings;\n    if (authors.length === 0) authors = ['Anonymous'];\n    if (authors.length > 2) authors = [`${authors[0]} et al`];\n    let authorsAndTitle = `${authors.join(' and ')} (${this.citation.year || 'n.d.'}) ${this.citation.title || 'Untitled'}`;\n\n    const editorLists = [];\n    const editors = this.editorsAsStrings;\n    if (editors.length > 0) editorLists.push(`eds: ${editors.join(' and ')}`);\n\n    const seriesEditors = this.seriesEditorsAsStrings;\n    if (seriesEditors.length > 0) editorLists.push(`series eds: ${seriesEditors.join(' and ')}`);\n\n    if (editorLists.length > 0) authorsAndTitle += ` [${editorLists.join(', ')}]`;\n\n    if (has(this.citation, 'section_title')) {\n      authorsAndTitle += ` (section: ${this.citation.section_title})`;\n    }\n\n    // Additional info stores details that should be at the end of the figure number,\n    // DOIs, URLs, ISBNs and so on.\n    let additionalInfo = ' ';\n    if (has(this.citation, 'figure')) additionalInfo += ` fig ${this.citation.figure}`;\n\n    // Add DOIs and URLs.\n    additionalInfo += this.doisAsStrings.map(doi => ` doi: ${doi}`).join('');\n    additionalInfo += this.urlsAsStrings.map(url => ` URL: ${url}`).join('');\n\n    additionalInfo += this.isbns.map(isbn => ` ISBN: ${isbn}`).join('');\n\n    // A citation for a journal article should be different from others.\n    if (has(this.citation, 'journal') && this.citation.type === 'article') {\n      const journal = this.citation.journal;\n      const journalIssue = (has(journal, 'number')) ? `(${journal.number})` : '';\n      const pages = (has(this.citation, 'pages')) ? `:${this.citation.pages}` : '';\n      additionalInfo += this.issns.map(issn => `ISSN: ${issn} `).join('');\n      return `${authorsAndTitle} ${journal.name || 'Unknown journal'} ${journal.volume || 'Unknown volume'}${journalIssue}${pages}${additionalInfo}`;\n    }\n\n    // If we are here, this must be a book or a book_section.\n    if (has(this.citation, 'pages')) additionalInfo += ` pages: ${this.citation.pages}`;\n\n    if (has(this.citation, 'publisher') && has(this.citation, 'city')) {\n      return `${authorsAndTitle} ${this.citation.publisher}, ${this.citation.city}${additionalInfo}`;\n    }\n\n    if (has(this.citation, 'publisher')) {\n      return `${authorsAndTitle} ${this.citation.publisher}${additionalInfo}`;\n    }\n\n    return `${authorsAndTitle}${additionalInfo}`;\n  }\n\n  get authors() {\n    // Return a list of authors (as author objects) for this citation.\n    const citation = this.citation;\n\n    if (has(citation, 'authors')) {\n      // Is there more than one author?\n      if (Array.isArray(citation.authors)) {\n        return citation.authors;\n      }\n\n      // If not, make an array out of that one author.\n      return [citation.authors];\n    }\n\n    return [];\n  }\n\n  set authors(authors) {\n    // Set the list of authors (as author objects).\n    Vue.set(this.citation, 'authors', authors);\n  }\n\n  get authorsAsStrings() {\n    // Return a list of author names.\n    return this.authors.map(author => author.name);\n  }\n\n  set authorsAsStrings(authorsAsStrings) {\n    // Set a list of author names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'authors', authorsAsStrings.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get editorsAsStrings() {\n    // Return a list of editor names.\n    if (!has(this.citation, 'editors')) return [];\n    return this.citation.editors.map(editor => editor.name);\n  }\n\n  set editorsAsStrings(editors) {\n    // Set a list of editor names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'editors', editors.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get seriesEditorsAsStrings() {\n    // Return a list of series editor names.\n    if (!has(this.citation, 'series_editors')) return [];\n    return this.citation.series_editors.map(editor => editor.name);\n  }\n\n  set seriesEditorsAsStrings(editors) {\n    // Set a list of series editor names.\n    // TODO parse names back into first and last name (https://github.com/phyloref/curation-tool/issues/145)\n    Vue.set(this.citation, 'series_editors', editors.filter(isNonEmptyString).map(name => ({ name })));\n  }\n\n  get identifiers() {\n    // Returns a list of identifiers for this citation.\n    const citation = this.citation;\n\n    if (has(citation, 'identifier')) {\n      // Are there more than one identifier?\n      if (Array.isArray(citation.identifier)) {\n        return citation.identifier;\n      }\n\n      // If not, make an array out of that one identifier.\n      return [citation.identifier];\n    }\n\n    // No identifiers!\n    return [];\n  }\n\n  set identifiers(identifiers) {\n    // Set the list of identifiers for this citation.\n    Vue.set(this.citation, 'identifier', identifiers);\n  }\n\n  get doisAsStrings() {\n    // Return a list of DOIs for this citation.\n    return this.identifiers\n      .filter(id => has(id, 'type') && id.type === 'doi' && has(id, 'id') && !isEmpty(id.id))\n      .map(id => id.id);\n  }\n\n  set doisAsStrings(dois) {\n    this.identifiers = this.identifiers\n      // Remove all current DOIs while leaving other identifiers untouched.\n      .filter(id => has(id, 'type') && id.type !== 'doi')\n      // Replace them with the provided DOIs.\n      .concat(dois.filter(isNonEmptyString).map(doi => ({ type: 'doi', id: doi })));\n  }\n\n  get isbns() {\n    // Return a list of ISBNs for this citation.\n    return this.identifiers.map((identifier) => {\n      if (has(identifier, 'type') && identifier.type === 'isbn' && has(identifier, 'id') && !isEmpty(identifier.id)) {\n        return [identifier.id];\n      }\n\n      return [];\n    }).reduce((acc, val) => acc.concat(val), []);\n  }\n\n  set isbns(isbns) {\n    // Set a list of ISBNs for this citation.\n    this.identifiers = this.identifiers\n      .filter(identifier => has(identifier, 'type') && identifier.type !== 'isbn')\n      .concat(isbns.filter(isNonEmptyString).map(isbn => ({ type: 'isbn', id: isbn })));\n  }\n\n  get issns() {\n    // Return a list of ISSNs for this citation.\n    return this.identifiers.map((identifier) => {\n      if (has(identifier, 'type') && identifier.type === 'issn' && has(identifier, 'id') && !isEmpty(identifier.id)) {\n        return [identifier.id];\n      }\n\n      return [];\n    }).reduce((acc, val) => acc.concat(val), []);\n  }\n\n  set issns(issns) {\n    // Set a list of ISSNs for this citation.\n    this.identifiers = this.identifiers\n      .filter(identifier => has(identifier, 'type') && identifier.type !== 'issn')\n      .concat(issns.filter(isNonEmptyString).map(issn => ({ type: 'issn', id: issn })));\n  }\n\n  get firstDOI() {\n    // Return the first DOI of this citation (used to provide a URL to access it).\n    const dois = this.doisAsStrings || [];\n    if (dois.length > 0) return dois[0];\n    return undefined;\n  }\n\n  get urlsAsStrings() {\n    // Return a list of URLs in this citation.\n    if (has(this.citation, 'link')) return this.citation.link.map(link => link.url);\n    return [];\n  }\n\n  set urlsAsStrings(urls) {\n    // Set the list of URLs in this citation.\n    Vue.set(this.citation, 'link', urls.filter(isNonEmptyString).map(url => ({ url })));\n  }\n\n  get firstURL() {\n    // Return the first URL in the list of citations (used to provide a URL for buttons).\n    if (this.urlsAsStrings.length > 0) return this.urlsAsStrings[0];\n    return undefined;\n  }\n\n  get url() {\n    // Get a URL for this citation, whether from the list of URLs or the list of DOIs.\n    if (this.firstURL) return this.firstURL;\n\n    // If we don't have a URL, look for a DOI.\n    if (this.firstDOI) return `http://doi.org/${encodeURI(this.firstDOI)}`;\n\n    // If we don't have a DOI, look for an ISBN or ISSN.\n    if (this.isbns.length > 0) return `https://www.worldcat.org/search?q=bn%3A${encodeURI(this.isbns[0])}`;\n    if (this.issns.length > 0) return `https://www.worldcat.org/search?q=n2%3A${encodeURI(this.issns[0])}`;\n\n    // If all else fails, try title searches.\n    if (has(this.citation, 'type') && has(this.citation, 'title')) {\n      // We should check articles against CrossRef.\n      if (this.citation.type === 'article') return `https://search.crossref.org/?q=${encodeURI(this.citation.title)}`;\n\n      // We should search book and book sections against WorldCat.\n      return `https://www.worldcat.org/search?q=${encodeURI(this.citation.title)}`;\n    }\n\n    return undefined;\n  }\n\n  get journal() {\n    // Return the journal of this citation. If one doesn't exist, create it and\n    // return it.\n    if (has(this.citation, 'journal')) return this.citation.journal;\n    Vue.set(this.citation, 'journal', {});\n    return this.citation.journal;\n  }\n}\n\nexport default {\n  getters: {\n    // Get a wrapped citation for a given citation.\n    getWrappedCitation: () => citation => new CitationWrapper(citation),\n  },\n  mutations: {\n    // Update the value of a citation, using object-citationKey so we can change\n    // it anywhere in the Vuex state.\n    setCitations(state, payload) {\n      Vue.set(\n        payload.object,\n        payload.citationKey,\n        payload.citations,\n      );\n    },\n  },\n};\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=template&id=014d92a1&\"","import { render, staticRenderFns } from \"./ModifiedCard.vue?vue&type=template&id=3d1fb5ea&\"\nimport script from \"./ModifiedCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifiedCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./AboutCurationToolModal.vue?vue&type=template&id=7380edb9&\"\nimport script from \"./AboutCurationToolModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AboutCurationToolModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","/**\n * This state module provides methods to store and retrieve the resolution results\n * of phyloreferences from JPhyloRef.\n */\n\nimport Vue from 'vue';\nimport { has, cloneDeep } from 'lodash';\n\nimport { PhyxWrapper, PhylogenyWrapper } from '@phyloref/phyx';\n\nexport default {\n  state: {\n    // The reasoning results returned by JPhyloRef.\n    reasoningResults: undefined,\n  },\n  getters: {\n    // TODO: the following base URIs need to be in this form because that's how they are rendered in the Phyx file.\n    // We previously used methods in phyx.js to coordinate these, but they were removed during a previous cleanup.\n    // So we should probably put them back.\n\n    // Return a base URI for a given phylogeny.\n    getBaseURIForPhylogeny: (state, getters, rootState) => phylogeny => `#phylogeny${rootState.phyx.currentPhyx.phylogenies.indexOf(phylogeny)}`,\n    // Return a base URI for a given phyloreference.\n    getBaseURIForPhyloref: (state, getters, rootState) => phyloref => `#phyloref${rootState.phyx.currentPhyx.phylorefs.indexOf(phyloref)}`,\n    // Return the identifier for a given phylogeny. We will use getBaseURIForPhylogeny()\n    // unless one has already been set.\n    getPhylogenyId: (state, getters) => (phylogeny) => {\n      if (has(phylogeny, '@id')) return phylogeny['@id'];\n      return getters.getBaseURIForPhylogeny(phylogeny);\n    },\n    // Return the identifier for a given phyloref. We will use getBaseURIForPhyloref()\n    // unless one has already been set.\n    getPhylorefId: (state, getters) => (phyloref) => {\n      if (has(phyloref, '@id')) return phyloref['@id'];\n      return getters.getBaseURIForPhyloref(phyloref);\n    },\n    getResolvedNodesForPhylogeny: (state, getters) => (\n      phylogeny,\n      phyloref,\n      flagReturnShortURIs = false,\n    ) => {\n      // Return a list of nodes that were resolved for phyloref `phyloref` on\n      // phylogeny `phylogeny`.\n      // - flagReturnNodeURI: if true, the entire URI will be returned, otherwise\n      // just the node number will be returned.\n\n      // Do we have reasoning results for this phyloreference?\n      const phylorefURI = getters.getPhylorefId(phyloref);\n      if (\n        !has(state.reasoningResults, 'phylorefs')\n         || !has(state.reasoningResults.phylorefs, phylorefURI)\n      ) return [];\n\n      // Identify the resolved nodes.\n      const nodesResolved = state.reasoningResults.phylorefs[phylorefURI];\n      const phylogenyURI = getters.getPhylogenyId(phylogeny);\n\n      // We look for the phylogeny URI (e.g. \"#phylogeny1\") in the node resolved\n      // URI. To make sure that we don't accidentally match \"#phylogeny12\", we\n      // also look for the '_' after the phylogeny URI.\n      const nodeURIs = nodesResolved.filter(uri => uri.includes(`${phylogenyURI}_`));\n\n      // Either return the URIs as-is or remove the phylogeny URI (so we return e.g. \"node21\").\n      if (!flagReturnShortURIs) return nodeURIs;\n      const results = nodeURIs.map(iri => iri.replace(`${phylogenyURI}_`, ''));\n\n      // console.log('getResolvedNodesForPhylogeny:', phylogeny, phyloref, results);\n\n      return results;\n    },\n    getExpectedResolution: (state, getters) => (phyloref, phylogeny) => {\n      // Return the expected resolution information for a particular phyloref on\n      // a particular phylogeny.\n      if (!has(phyloref, 'expectedResolution')) return {};\n\n      const phylogenyId = getters.getPhylogenyId(phylogeny);\n      if (has(phyloref.expectedResolution, phylogenyId)) {\n        return phyloref.expectedResolution[phylogenyId];\n      }\n\n      return {};\n    },\n    getExpectedNodeLabel: (state, getters) => (phyloref, phylogeny) => {\n      // Return a list of nodes that this phyloreference is expected to resolve to.\n      const expectedResolution = getters.getExpectedResolution(phyloref, phylogeny);\n\n      if (has(expectedResolution, 'nodeLabel')) {\n        return expectedResolution.nodeLabel;\n      }\n\n      // Is there a node on the phylogeny with the same label as this phyloreference?\n      const allNodeLabels = new PhylogenyWrapper(phylogeny).getNodeLabels();\n      if (phyloref.label && allNodeLabels.includes(phyloref.label)) {\n        return phyloref.label;\n      }\n\n      // No expected node labels!\n      return undefined;\n    },\n  },\n  mutations: {\n    setReasoningResults(state, payload) {\n      // Sets the \"reasoning results\" -- the results of reasoning returned by JPhyloRef.\n      Vue.set(state, 'reasoningResults', payload);\n    },\n  },\n  actions: {\n    setExpectedResolution(context, payload) {\n      const {\n        phylogeny,\n        phyloref,\n        expectedResolutionData,\n      } = payload;\n\n      // If this phylogeny does not already have an '@id', we should set it\n      // so we don't lose track of the connection between these entities.\n      let phylogenyId = phylogeny['@id'];\n      if (!phylogenyId) {\n        phylogenyId = context.getters.getPhylogenyId(phylogeny);\n        context.commit('setPhylogenyProps', {\n          phylogeny,\n          '@id': phylogenyId,\n        });\n      }\n\n      // What is the current expectedResolution look like?\n      const currentExpectedResolution = cloneDeep(phyloref.expectedResolution || {});\n      const currentExpectedResolutionForPhylogeny = currentExpectedResolution[phylogenyId] || {};\n\n      // What needs to change?\n      if (has(expectedResolutionData, 'description')) {\n        currentExpectedResolutionForPhylogeny.description = expectedResolutionData.description;\n      }\n\n      if (has(expectedResolutionData, 'nodeLabel')) {\n        // We need to toggle a node label as included or excluded from the\n        // expected resolution.\n        currentExpectedResolutionForPhylogeny.nodeLabel = expectedResolutionData.nodeLabel;\n      }\n\n      // Because JSON-LD won't be able to interpret an object whose keys are not\n      // properties, we need to add a reference to the phylogenyId in the object itself.\n      expectedResolutionData.phylogenyId = phylogenyId;\n\n      // Replace the current expected resolution.\n      context.commit('setPhylorefProps', {\n        phyloref,\n        expectedResolution: currentExpectedResolutionForPhylogeny,\n        phylogenyId,\n      });\n    },\n  },\n};\n","<template>\n  <div>\n    <!-- Add a warning if this phyloreference has changed -->\n    <ModifiedCard\n      message=\"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.\"\n      :compare=\"selectedPhyloref\"\n      :compare-to=\"loadedPhyx.phylorefs[currentPhyx.phylorefs.indexOf(selectedPhyloref)]\"\n    />\n\n    <!-- Phyloreference information -->\n    <div\n      v-if=\"!display.phylogeny\"\n      class=\"card\"\n    >\n      <h5 class=\"card-header\">\n        Phyloreference information\n      </h5>\n\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyloreference label -->\n          <div class=\"form-group row\">\n            <label\n              for=\"label\"\n              class=\"col-form-label col-md-2\"\n            >\n              Label\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"label\"\n                v-model=\"selectedPhylorefLabel\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Phyloreference label\"\n              >\n            </div>\n          </div>\n\n          <!-- TODO add definition authors here -->\n\n          <!-- Pre-existing definition source -->\n          <Citation\n            label=\"Name published in\"\n            :object=\"selectedPhyloref\"\n            citation-key=\"dwc:namePublishedIn\"\n          />\n\n          <!-- Phyloreference clade definition -->\n          <div class=\"form-group row\">\n            <label\n              for=\"definition\"\n              class=\"col-form-label col-md-2\"\n            >\n              Definition in free-form text\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"definition\"\n                v-model.lazy=\"selectedCladeDefinition\"\n                class=\"form-control\"\n                rows=\"6\"\n                placeholder=\"Phylogenetic clade definition\"\n              />\n            </div>\n          </div>\n\n          <!-- Phyloref definition source -->\n          <Citation\n            label=\"Definition published in\"\n            :object=\"selectedPhyloref\"\n            citation-key=\"definitionSource\"\n          />\n\n          <!-- Phyloreference curator comments -->\n          <div class=\"form-group row\">\n            <label\n              for=\"curator-comments\"\n              class=\"col-form-label col-md-2\"\n            >\n              Curator comments\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"curator-comments\"\n                v-model.lazy=\"selectedCuratorComments\"\n                class=\"form-control\"\n                rows=\"2\"\n                placeholder=\"e.g. 'Specifier X not included in reference phylogeny'\"\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Phyloreference management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            @click=\"$store.commit('duplicatePhyloref', { phyloref: selectedPhyloref })\"\n          >\n            Duplicate phyloreference\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card mt-2\">\n      <h5 class=\"card-header\">\n        Specifiers\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyloreference type -->\n          <div class=\"form-group row\">\n            <label\n              for=\"phyloref-type\"\n              class=\"col-form-label col-md-2\"\n            >\n              Phyloreference type\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phyloref-type\"\n                v-model=\"computedPhylorefType\"\n                type=\"text\"\n                readonly\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n        </form>\n\n        <h5>Internal specifiers</h5>\n\n        <template v-if=\"!selectedPhyloref.internalSpecifiers || selectedPhyloref.internalSpecifiers.length === 0\">\n          <p><em>No internal specifiers in this phyloreference.</em></p>\n        </template>\n        <div\n          v-for=\"(specifier, index) of selectedPhyloref.internalSpecifiers\"\n          class=\"form-row input-group\"\n        >\n          <Specifier\n            :key=\"'internal' + index\"\n            :phyloref=\"selectedPhyloref\"\n            :remote-specifier=\"specifier\"\n            :remote-specifier-id=\"'internal' + index\"\n          />\n        </div>\n\n        <h5 class=\"mt-2\">\n          External specifiers\n        </h5>\n\n        <template v-if=\"!selectedPhyloref.externalSpecifiers || selectedPhyloref.externalSpecifiers.length === 0\">\n          <p><em>No external specifiers in this phyloreference.</em></p>\n        </template>\n        <div\n          v-for=\"(specifier, index) of selectedPhyloref.externalSpecifiers\"\n          class=\"form-row input-group\"\n        >\n          <Specifier\n            :key=\"'external' + index\"\n            :phyloref=\"selectedPhyloref\"\n            :remote-specifier=\"specifier\"\n            :remote-specifier-id=\"'external' + index\"\n          />\n        </div>\n      </div>\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Internal specifier management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('addInternalSpecifier', { phyloref: selectedPhyloref })\"\n          >\n            Add internal specifier\n          </button>\n        </div>\n        <div\n          class=\"btn-group ml-2\"\n          role=\"group\"\n          area-label=\"External specifier management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('addExternalSpecifier', { phyloref: selectedPhyloref })\"\n          >\n            Add external specifier\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!--\n      Panel with information on expected and actual resolution\n      We should:\n        - display all phylogenies when looking up a phyloreference or specifiers\n        - display only the selected phylogeny when it's selected\n    -->\n    <template v-for=\"(phylogeny, phylogenyIndex) of currentPhyx.phylogenies\">\n      <template v-if=\"selectedPhylogeny === undefined || selectedPhylogeny === phylogeny\">\n        <div class=\"card mt-2\">\n          <h5 class=\"card-header\">\n            Expected and actual resolution <span v-if=\"display.phylogeny\">\n              of {{ phyloref.label || 'unlabeled phyloreference' }}\n            </span> on {{ phylogeny.label || `Phylogeny ${phylogenyIndex + 1}` }}\n          </h5>\n          <div class=\"card-body\">\n            <!-- Reference phylogeny information -->\n            <Citation\n              label=\"Reference phylogeny\"\n              :object=\"phylogeny\"\n              citation-key=\"primaryPhylogenyCitation\"\n            />\n\n            <!-- Expected resolution information -->\n            <div class=\"form-group row\">\n              <label\n                :for=\"'expected-resolution-' + phylogenyIndex\"\n                class=\"col-form-label col-md-2\"\n              >\n                Expected resolution in free-form text\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  :id=\"'expected-resolution-' + phylogenyIndex\"\n                  :value=\"getExpectedResolution(phylogeny).description\"\n                  rows=\"3\"\n                  class=\"form-control\"\n                  placeholder=\"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'\"\n                  @change=\"setExpectedResolution(phylogeny, {'description': $event.target.value})\"\n                />\n              </div>\n            </div>\n\n            <div class=\"form-group row\">\n              <!-- Node(s) this phyloreference is expected to resolve to -->\n              <label\n                for=\"expected-nodes\"\n                class=\"col-form-label col-md-2\"\n              >\n                Expected nodes\n              </label>\n\n              <div class=\"input-group col-md-10 pb-2\">\n                <!-- Display the phylogeny where this node is expected to match -->\n                <div class=\"input-group-prepend\">\n                  <a\n                    class=\"btn btn-outline-secondary\"\n                    :href=\"'#current_expected_label_phylogeny_' + phylogenyIndex\"\n                    title=\"Click here to jump to the expected label\"\n                    role=\"button\"\n                  >Go to node</a>\n                </div>\n\n                <!-- Display the matching node(s) -->\n                <template v-if=\"!getExpectedNodeLabel(phylogeny)\">\n                  <!-- We matched no nodes -->\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    :value=\"'No node labeled \\'' + selectedPhylorefLabel + '\\' found in phylogeny'\"\n                  >\n                </template>\n\n                <template v-if=\"getExpectedNodeLabel(phylogeny)\">\n                  <!-- We matched exactly one node -->\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    :value=\"getExpectedNodeLabel(phylogeny)\"\n                  >\n                </template>\n\n                <!-- Display a dropdown menu that allows the modified label to be changed. -->\n                <div class=\"input-group-append\">\n                  <button\n                    id=\"expected-nodes-dropdown\"\n                    type=\"button\"\n                    class=\"btn btn-outline-secondary dropdown-toggle\"\n                    data-toggle=\"dropdown\"\n                    aria-haspopup=\"true\"\n                    aria-expanded=\"false\"\n                  >\n                    Change <span class=\"caret\" />\n                  </button>\n                  <div\n                    class=\"dropdown-menu dropright\"\n                    aria-labelledby=\"expected-nodes-dropdown\"\n                    style=\"height: 30em; overflow: visible scroll;\"\n                  >\n                    <a class=\"dropdown-header\">\n                      Labeled internal nodes in this phylogeny\n                    </a>\n                    <a\n                      v-for=\"nodeLabel of getNodeLabels(phylogeny, 'internal')\"\n                      class=\"dropdown-item\"\n                      :class=\"{active: getExpectedNodeLabel(phylogeny) === nodeLabel}\"\n                      href=\"#selected-phyloref\"\n                      @click=\"setExpectedResolution(phylogeny, {nodeLabel})\"\n                    >\n                      {{ nodeLabel }}\n                    </a>\n                    <div class=\"dropdown-divider\" />\n                    <a class=\"dropdown-header\">\n                      Labeled terminal nodes in this phylogeny\n                    </a>\n                    <a\n                      v-for=\"nodeLabel of getNodeLabels(phylogeny, 'terminal')\"\n                      class=\"dropdown-item\"\n                      :class=\"{active: getExpectedNodeLabel(phylogeny) === nodeLabel}\"\n                      href=\"#selected-phyloref\"\n                      @click=\"setExpectedResolution(phylogeny, {nodeLabel})\"\n                    >\n                      {{ nodeLabel }}\n                    </a>\n                  </div>\n                </div>\n              </div>\n\n              <!-- Node(s) this phyloreference actually resolved to -->\n              <label\n                for=\"actual-nodes\"\n                class=\"col-form-label col-md-2 pb-2\"\n              >\n                Actual resolved nodes\n              </label>\n\n              <div class=\"input-group col-md-10 pb-2\">\n                <!-- Display the phylogeny where this node is expected to match -->\n                <div class=\"input-group-prepend\">\n                  <a\n                    class=\"btn btn-outline-secondary\"\n                    :href=\"'#current_pinning_node_phylogeny_' + phylogenyIndex\"\n                    title=\"Click here to jump to this node\"\n                    role=\"button\"\n                  >Go to node</a>\n                </div>\n\n                <!-- Display the matching node(s) -->\n                <template v-if=\"!$store.state.resolution.reasoningResults\">\n                  <input\n                    readonly\n                    type=\"text\"\n                    class=\"form-control\"\n                    value=\"Click 'Reason' to reason over all phyloreferences.\"\n                  >\n                </template>\n                <template v-else>\n                  <template v-if=\"getResolvedNodes(phylogeny).length === 0\">\n                    <!-- We matched no nodes -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"'No nodes could be resolved'\"\n                    >\n                  </template>\n                  <template v-if=\"getResolvedNodes(phylogeny).length === 1\">\n                    <!-- We matched exactly one node -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"getResolvedNodes(phylogeny)[0]\"\n                    >\n                  </template>\n                  <template v-if=\"getResolvedNodes(phylogeny).length > 1\">\n                    <!-- We matched more than one node -->\n                    <input\n                      readonly\n                      type=\"text\"\n                      class=\"form-control\"\n                      :value=\"getResolvedNodes(phylogeny).length + ' nodes matched: ' + getResolvedNodes(phylogeny).join(', ')\"\n                    >\n                  </template>\n                </template>\n              </div>\n            </div>\n\n            <!-- Display the phylogeny -->\n            <div\n              class=\"card mt-4 p-2\"\n            >\n              <Phylotree\n                :phylogeny-index=\"String(phylogenyIndex)\"\n                :phylogeny=\"phylogeny\"\n                :phyloref=\"selectedPhyloref\"\n                :newick=\"phylogeny.newick\"\n                :selected-node-label=\"getExpectedNodeLabel(phylogeny)\"\n              />\n            </div>\n          </div>\n        </div>\n      </template>\n    </template>\n  </div>\n</template>\n\n<script>\n/*\n * A view for displaying a phyloreference and how it resolves on all phylogenies.\n */\n\nimport Vue from 'vue';\nimport { mapState } from 'vuex';\nimport { has, cloneDeep } from 'lodash';\nimport { PhylogenyWrapper, PhylorefWrapper } from '@phyloref/phyx';\n\nimport ModifiedCard from '../cards/ModifiedCard.vue';\nimport Phylotree from '../phylogeny/Phylotree.vue';\nimport Citation from '../citations/Citation.vue';\nimport Specifier from '../specifiers/Specifier.vue';\n\nexport default {\n  name: 'PhylorefView',\n  components: {\n    ModifiedCard,\n    Phylotree,\n    Citation,\n    Specifier,\n  },\n  computed: {\n    /*\n     * The following properties allow you to get or set phyloref label, clade definition or curator comments.\n     */\n    selectedPhylorefLabel: {\n      get() { return this.selectedPhyloref.label; },\n      set(label) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, label }); },\n    },\n    selectedCladeDefinition: {\n      get() { return this.selectedPhyloref.cladeDefinition; },\n      set(cladeDefinition) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, cladeDefinition }); },\n    },\n    selectedCuratorComments: {\n      get() { return this.selectedPhyloref.curatorComments; },\n      set(curatorComments) { this.$store.commit('setPhylorefProps', { phyloref: this.selectedPhyloref, curatorComments }); },\n    },\n    computedPhylorefType() {\n      // Return the type of phyloreference based on internal/external specifier structure.\n      return this.$store.getters.getPhylorefType(this.selectedPhyloref);\n    },\n    phylorefURI() {\n      // Get the base URI of this phyloreference.\n      return this.$store.getters.getPhylorefId(this.selectedPhyloref);\n    },\n    noSpecifiers() {\n      // Return true if no specifiers are present.\n      return (\n        (this.selectedPhyloref.internalSpecifiers || []).length === 0\n        && (this.selectedPhyloref.externalSpecifiers || []).length === 0\n      );\n    },\n\n    ...mapState({\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n      display: state => state.ui.display,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n      selectedPhyloref: state => state.ui.display.phyloref,\n    }),\n  },\n  methods: {\n    getExpectedResolution(phylogeny) {\n      // Get the expected resolution information for this phyloreference on\n      // a particular phylogeny.\n      return this.$store.getters.getExpectedResolution(\n        this.selectedPhyloref,\n        phylogeny,\n      );\n    },\n    setExpectedResolution(phylogeny, payload) {\n      // Set the expected resolution information for this phyloreference on\n      // a particular phylogeny.\n      this.$store.dispatch('setExpectedResolution', {\n        phyloref: this.selectedPhyloref,\n        phylogeny,\n        expectedResolutionData: payload,\n      });\n    },\n    getNodeLabels(phylogeny, nodeType) {\n      // Return a list of node labels in a particular phylogeny.\n      return new PhylogenyWrapper(phylogeny).getNodeLabels(nodeType).sort();\n    },\n    getExpectedNodeLabel(phylogeny) {\n      // Return the node label we expect this phyloref to resolve to on the\n      // specified phylogeny.\n      return this.$store.getters.getExpectedNodeLabel(\n        this.selectedPhyloref,\n        phylogeny,\n      );\n    },\n    getSpecifierLabel(specifier) {\n      // Return the specifier label of a particular specifier.\n      return PhylorefWrapper.getSpecifierLabel(specifier);\n    },\n    getResolvedNodes(phylogeny, flagReturnShortURIs = true) {\n      // Return the list of nodes on a particular phylogeny that this phyloreference\n      // has been determined to resolve on by JPhyloRef.\n      return this.$store.getters.getResolvedNodesForPhylogeny(phylogeny, this.selectedPhyloref, flagReturnShortURIs);\n    },\n  },\n};\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.dataChanged)?_c('div',{staticClass:\"card mb-2 border-dark\"},[_c('div',{staticClass:\"card-body bg-warning\"},[_vm._v(\"\\n    \"+_vm._s(_vm.message)+\"\\n  \")])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=template&id=4ca24e9a&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"app\"}},[_c('TopNavigationBar',{attrs:{\"version\":_vm.version}}),_c('div',{attrs:{\"id\":\"wrapper\"}},[_c('Sidebar'),_c('div',{attrs:{\"id\":\"page-content-wrapper\"}},[(_vm.display.phyloref)?[_c('PhylorefView',{attrs:{\"phyloref\":_vm.display.phyloref,\"specifier\":_vm.display.specifier}})]:(_vm.display.phylogeny)?[_c('PhylogenyView',{attrs:{\"phylogeny\":_vm.display.phylogeny}})]:[_c('PhyxView')]],2)],1),_c('AboutCurationToolModal'),_c('AdvancedOptionsModal')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./AdvancedOptionsModal.vue?vue&type=template&id=7c24260a&\"\nimport script from \"./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{attrs:{\"id\":\"sidebar-wrapper\"}},[_c('div',{staticClass:\"card bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Actions\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('#file-input').trigger('click')\"}},[_vm._v(\"\\n        Read from local JSON file\\n      \")]),_c('input',{staticClass:\"d-none\",attrs:{\"id\":\"file-input\",\"type\":\"file\"},on:{\"change\":function($event){return _vm.loadPhyxFromFileInputById('#file-input')}}}),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('.phyx-examples').toggleClass('d-none')\"}},[_vm._v(\"\\n        Read an example file\\n      \")]),_vm._l((_vm.examplePHYXURLs),function(example){return _c('a',{staticClass:\"list-group-item list-group-item-action phyx-examples d-none small\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.loadPhyxFromURL(example.url)}}},[_vm._v(\"\\n         \"+_vm._s(example.title)+\"\\n      \")])}),_vm._m(0),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.downloadAsJSON()}}},[_vm._v(\"\\n        Save\\n        \"),_c('ModifiedIcon',{attrs:{\"message\":\"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":_vm.currentPhyx,\"compare-to\":_vm.loadedPhyx}})],1),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.downloadAsJSONLD()}}},[_vm._v(\"\\n        Export as JSON-LD\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.downloadAsNQuads()}}},[_vm._v(\"\\n        Export as ontology\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action start-reasoning\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.reasonOverPhyloreferences()}}},[(_vm.reasoningInProgress)?_c('span',[_vm._v(\"\\n          (Reasoning in progress)\\n        \")]):_c('span',[_vm._v(\"\\n          Resolve against phylogenies\\n        \")])]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('#advanced-options').modal()\"}},[_vm._v(\"\\n        Advanced\\n      \")])],2)]),_c('div',{staticClass:\"card mt-2 bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Phyloreferences\\n      \")]),_c('a',{staticClass:\"list-group-item list-group-item-action\",class:{active: !_vm.selectedPhyloref && !_vm.selectedPhylogeny},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {})}}},[_c('em',[_vm._v(\"Summary\")])]),_vm._l((_vm.phylorefs),function(phyloref,phylorefIndex){return [_c('a',{staticClass:\"h6 list-group-item list-group-item-action border-dark\",class:{active: _vm.selectedPhyloref === phyloref},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phyloref})}}},[(phyloref.label)?_c('span',[_vm._v(\"\\n            \"+_vm._s(phyloref.label)+\"\\n          \")]):_c('span',[_vm._v(\"\\n            \"+_vm._s('Phyloreference ' + (phylorefIndex + 1))+\"\\n          \")]),_c('ModifiedIcon',{attrs:{\"message\":\"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":phyloref,\"compare-to\":_vm.loadedPhyx.phylorefs[phylorefIndex]}})],1),(_vm.selectedPhyloref === phyloref)?[_vm._l((phyloref.internalSpecifiers),function(specifier,specifierIndex){return _c('a',{staticClass:\"list-group-item list-group-item-action\",class:{'active border-dark': _vm.selectedSpecifier === specifier},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref, specifier })}}},[_vm._v(\"\\n             \"),_c('strong',[_vm._v(\"Internal:\")]),_vm._v(\" \"+_vm._s(_vm.getSpecifierLabel(specifier))+\"\\n          \")])}),_vm._l((phyloref.externalSpecifiers),function(specifier,specifierIndex){return _c('a',{staticClass:\"list-group-item list-group-item-action\",class:{'active border-dark': _vm.selectedSpecifier === specifier},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', { phyloref, specifier })}}},[_vm._v(\"\\n             \"),_c('strong',[_vm._v(\"External:\")]),_vm._v(\" \"+_vm._s(_vm.getSpecifierLabel(specifier))+\"\\n          \")])}),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('addSpecifier', { phyloref })}}},[_vm._v(\"\\n             \"),_c('em',[_vm._v(\"Add specifier\")])])]:_vm._e()]}),_c('a',{staticClass:\"list-group-item list-group-item-action border-dark\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhyloref')}}},[_c('em',[_vm._v(\"Add phyloreference\")])])],2)]),_c('div',{staticClass:\"card mt-2 bg-dark\"},[_c('div',{staticClass:\"list-group list-group-flush\"},[_c('a',{staticClass:\"list-group-item list-group-item-action bg-dark text-light disabled\",attrs:{\"href\":\"javascript: void(0)\"}},[_vm._v(\"\\n        Phylogenies\\n      \")]),_vm._l((_vm.phylogenies),function(phylogeny,phylogenyIndex){return _c('a',{staticClass:\"h6 list-group-item list-group-item-action border-dark\",class:{active: _vm.selectedPhylogeny === phylogeny},attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('changeDisplay', {phylogeny})}}},[_vm._v(\"\\n        \"+_vm._s(phylogeny.label || `Phylogeny ${phylogenyIndex + 1}`)+\"\\n\\n        \"),_c('ModifiedIcon',{attrs:{\"message\":\"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.\",\"compare\":phylogeny,\"compare-to\":_vm.loadedPhyx.phylogenies[phylogenyIndex]}})],1)}),_c('a',{staticClass:\"list-group-item list-group-item-action border-dark\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.commit('createEmptyPhylogeny')}}},[_c('em',[_vm._v(\"Add phylogeny\")])]),_c('a',{staticClass:\"list-group-item list-group-item-action\",attrs:{\"href\":\"javascript: void(0)\"},on:{\"click\":function($event){return _vm.$store.dispatch('createPhylogenyFromOpenTree')}}},[_c('em',[_vm._v(\"Add Open Tree of Life phylogeny\")])])],2)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('a',{staticClass:\"list-group-item list-group-item-action phyx-examples d-none small\",attrs:{\"href\":\"javascript: void(0)\",\"onclick\":\"$('.phyx-examples').toggleClass('d-none')\"}},[_c('em',[_vm._v(\"Close list of examples\")])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- Navigation bar at the top of the page -->\n    <nav class=\"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top\">\n      <a\n        class=\"navbar-brand\"\n        href=\"index.html\"\n      >\n        Klados\n      </a>\n      <small class=\"text-white\">{{ version }}</small>\n      <div class=\"collapse navbar-collapse\">\n        <ul class=\"navbar-nav\">\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              href=\"#\"\n              onclick=\"$('#about-curation-tool').modal()\"\n            >\n              About this tool\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://www.phyloref.org/\"\n            >\n              Phyloreferencing website\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://github.com/phyloref/curation-tool\"\n            >\n              Github repository\n            </a>\n          </li>\n          <li class=\"nav-item\">\n            <a\n              class=\"nav-link\"\n              target=\"_blank\"\n              href=\"https://github.com/phyloref/curation-tool/issues\"\n            >\n              Report bug\n            </a>\n          </li>\n        </ul>\n      </div>\n    </nav>\n  </div>\n</template>\n\n<script>\n\n/*\n * The top navigation bar provides links to Phyloreferencing resources,\n * the about-us modal, and a link to report bugs.\n */\n\nexport default {\n  name: 'TopNavigationBar',\n  props: {\n    version: {\n      type: String,\n      default: '(unversioned)',\n    },\n  },\n};\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('ModifiedCard',{attrs:{\"message\":\"This phyloreference has been modified since being loaded! Use 'Save' to save your changes.\",\"compare\":_vm.selectedPhyloref,\"compare-to\":_vm.loadedPhyx.phylorefs[_vm.currentPhyx.phylorefs.indexOf(_vm.selectedPhyloref)]}}),(!_vm.display.phylogeny)?_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phyloreference information\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"label\"}},[_vm._v(\"\\n            Label\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedPhylorefLabel),expression:\"selectedPhylorefLabel\"}],staticClass:\"form-control\",attrs:{\"id\":\"label\",\"type\":\"text\",\"placeholder\":\"Phyloreference label\"},domProps:{\"value\":(_vm.selectedPhylorefLabel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.selectedPhylorefLabel=$event.target.value}}})])]),_c('Citation',{attrs:{\"label\":\"Name published in\",\"object\":_vm.selectedPhyloref,\"citation-key\":\"dwc:namePublishedIn\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"definition\"}},[_vm._v(\"\\n            Definition in free-form text\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.selectedCladeDefinition),expression:\"selectedCladeDefinition\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"definition\",\"rows\":\"6\",\"placeholder\":\"Phylogenetic clade definition\"},domProps:{\"value\":(_vm.selectedCladeDefinition)},on:{\"change\":function($event){_vm.selectedCladeDefinition=$event.target.value}}})])]),_c('Citation',{attrs:{\"label\":\"Definition published in\",\"object\":_vm.selectedPhyloref,\"citation-key\":\"definitionSource\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"curator-comments\"}},[_vm._v(\"\\n            Curator comments\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.selectedCuratorComments),expression:\"selectedCuratorComments\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"curator-comments\",\"rows\":\"2\",\"placeholder\":\"e.g. 'Specifier X not included in reference phylogeny'\"},domProps:{\"value\":(_vm.selectedCuratorComments)},on:{\"change\":function($event){_vm.selectedCuratorComments=$event.target.value}}})])])],1)]),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Phyloreference management\"}},[_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.$store.commit('duplicatePhyloref', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"\\n          Duplicate phyloreference\\n        \")])])])]):_vm._e(),_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Specifiers\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"phyloref-type\"}},[_vm._v(\"\\n            Phyloreference type\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.computedPhylorefType),expression:\"computedPhylorefType\"}],staticClass:\"form-control\",attrs:{\"id\":\"phyloref-type\",\"type\":\"text\",\"readonly\":\"\"},domProps:{\"value\":(_vm.computedPhylorefType)},on:{\"input\":function($event){if($event.target.composing)return;_vm.computedPhylorefType=$event.target.value}}})])])]),_c('h5',[_vm._v(\"Internal specifiers\")]),(!_vm.selectedPhyloref.internalSpecifiers || _vm.selectedPhyloref.internalSpecifiers.length === 0)?[_vm._m(0)]:_vm._e(),_vm._l((_vm.selectedPhyloref.internalSpecifiers),function(specifier,index){return _c('div',{staticClass:\"form-row input-group\"},[_c('Specifier',{key:'internal' + index,attrs:{\"phyloref\":_vm.selectedPhyloref,\"remote-specifier\":specifier,\"remote-specifier-id\":'internal' + index}})],1)}),_c('h5',{staticClass:\"mt-2\"},[_vm._v(\"\\n        External specifiers\\n      \")]),(!_vm.selectedPhyloref.externalSpecifiers || _vm.selectedPhyloref.externalSpecifiers.length === 0)?[_vm._m(1)]:_vm._e(),_vm._l((_vm.selectedPhyloref.externalSpecifiers),function(specifier,index){return _c('div',{staticClass:\"form-row input-group\"},[_c('Specifier',{key:'external' + index,attrs:{\"phyloref\":_vm.selectedPhyloref,\"remote-specifier\":specifier,\"remote-specifier-id\":'external' + index}})],1)})],2),_c('div',{staticClass:\"card-footer\"},[_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"area-label\":\"Internal specifier management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('addInternalSpecifier', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"\\n          Add internal specifier\\n        \")])]),_c('div',{staticClass:\"btn-group ml-2\",attrs:{\"role\":\"group\",\"area-label\":\"External specifier management\"}},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.$store.commit('addExternalSpecifier', { phyloref: _vm.selectedPhyloref })}}},[_vm._v(\"\\n          Add external specifier\\n        \")])])])]),_vm._l((_vm.currentPhyx.phylogenies),function(phylogeny,phylogenyIndex){return [(_vm.selectedPhylogeny === undefined || _vm.selectedPhylogeny === phylogeny)?[_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n          Expected and actual resolution \"),(_vm.display.phylogeny)?_c('span',[_vm._v(\"\\n            of \"+_vm._s(_vm.phyloref.label || 'unlabeled phyloreference')+\"\\n          \")]):_vm._e(),_vm._v(\" on \"+_vm._s(phylogeny.label || `Phylogeny ${phylogenyIndex + 1}`)+\"\\n        \")]),_c('div',{staticClass:\"card-body\"},[_c('Citation',{attrs:{\"label\":\"Reference phylogeny\",\"object\":phylogeny,\"citation-key\":\"primaryPhylogenyCitation\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":'expected-resolution-' + phylogenyIndex}},[_vm._v(\"\\n              Expected resolution in free-form text\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":'expected-resolution-' + phylogenyIndex,\"rows\":\"3\",\"placeholder\":\"e.g. 'Should resolve to clade X in fig 3 of Smith 2003'\"},domProps:{\"value\":_vm.getExpectedResolution(phylogeny).description},on:{\"change\":function($event){return _vm.setExpectedResolution(phylogeny, {'description': $event.target.value})}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"expected-nodes\"}},[_vm._v(\"\\n              Expected nodes\\n            \")]),_c('div',{staticClass:\"input-group col-md-10 pb-2\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":'#current_expected_label_phylogeny_' + phylogenyIndex,\"title\":\"Click here to jump to the expected label\",\"role\":\"button\"}},[_vm._v(\"Go to node\")])]),(!_vm.getExpectedNodeLabel(phylogeny))?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":'No node labeled \\'' + _vm.selectedPhylorefLabel + '\\' found in phylogeny'}})]:_vm._e(),(_vm.getExpectedNodeLabel(phylogeny))?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getExpectedNodeLabel(phylogeny)}})]:_vm._e(),_c('div',{staticClass:\"input-group-append\"},[_vm._m(2,true),_c('div',{staticClass:\"dropdown-menu dropright\",staticStyle:{\"height\":\"30em\",\"overflow\":\"visible scroll\"},attrs:{\"aria-labelledby\":\"expected-nodes-dropdown\"}},[_c('a',{staticClass:\"dropdown-header\"},[_vm._v(\"\\n                    Labeled internal nodes in this phylogeny\\n                  \")]),_vm._l((_vm.getNodeLabels(phylogeny, 'internal')),function(nodeLabel){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.getExpectedNodeLabel(phylogeny) === nodeLabel},attrs:{\"href\":\"#selected-phyloref\"},on:{\"click\":function($event){return _vm.setExpectedResolution(phylogeny, {nodeLabel})}}},[_vm._v(\"\\n                    \"+_vm._s(nodeLabel)+\"\\n                  \")])}),_c('div',{staticClass:\"dropdown-divider\"}),_c('a',{staticClass:\"dropdown-header\"},[_vm._v(\"\\n                    Labeled terminal nodes in this phylogeny\\n                  \")]),_vm._l((_vm.getNodeLabels(phylogeny, 'terminal')),function(nodeLabel){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.getExpectedNodeLabel(phylogeny) === nodeLabel},attrs:{\"href\":\"#selected-phyloref\"},on:{\"click\":function($event){return _vm.setExpectedResolution(phylogeny, {nodeLabel})}}},[_vm._v(\"\\n                    \"+_vm._s(nodeLabel)+\"\\n                  \")])})],2)])],2),_c('label',{staticClass:\"col-form-label col-md-2 pb-2\",attrs:{\"for\":\"actual-nodes\"}},[_vm._v(\"\\n              Actual resolved nodes\\n            \")]),_c('div',{staticClass:\"input-group col-md-10 pb-2\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"href\":'#current_pinning_node_phylogeny_' + phylogenyIndex,\"title\":\"Click here to jump to this node\",\"role\":\"button\"}},[_vm._v(\"Go to node\")])]),(!_vm.$store.state.resolution.reasoningResults)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\",\"value\":\"Click 'Reason' to reason over all phyloreferences.\"}})]:[(_vm.getResolvedNodes(phylogeny).length === 0)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":'No nodes could be resolved'}})]:_vm._e(),(_vm.getResolvedNodes(phylogeny).length === 1)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getResolvedNodes(phylogeny)[0]}})]:_vm._e(),(_vm.getResolvedNodes(phylogeny).length > 1)?[_c('input',{staticClass:\"form-control\",attrs:{\"readonly\":\"\",\"type\":\"text\"},domProps:{\"value\":_vm.getResolvedNodes(phylogeny).length + ' nodes matched: ' + _vm.getResolvedNodes(phylogeny).join(', ')}})]:_vm._e()]],2)]),_c('div',{staticClass:\"card mt-4 p-2\"},[_c('Phylotree',{attrs:{\"phylogeny-index\":String(phylogenyIndex),\"phylogeny\":phylogeny,\"phyloref\":_vm.selectedPhyloref,\"newick\":phylogeny.newick,\"selected-node-label\":_vm.getExpectedNodeLabel(phylogeny)}})],1)],1)])]:_vm._e()]})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('em',[_vm._v(\"No internal specifiers in this phyloreference.\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('p',[_c('em',[_vm._v(\"No external specifiers in this phyloreference.\")])])\n},function (){var _vm=this,_c=_vm._self._c;return _c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"id\":\"expected-nodes-dropdown\",\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n                  Change \"),_c('span',{staticClass:\"caret\"})])\n}]\n\nexport { render, staticRenderFns }","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=template&id=a6b14168&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4f6b036a&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&id=4f6b036a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Include Vue and Vuex to set up them up correctly.\nimport Vue from 'vue';\nimport Vuex from 'vuex';\n\n// Import individual store modules.\nimport phylogeny from './modules/phylogeny';\nimport phyloref from './modules/phyloref';\nimport phyx from './modules/phyx';\nimport resolution from './modules/resolution';\nimport ui from './modules/ui';\nimport citations from './modules/citations';\n\nVue.use(Vuex);\n\nconst debug = process.env.NODE_ENV !== 'production';\n\nexport default new Vuex.Store({\n  state: {\n    CURATION_TOOL_VERSION: '0.1',\n  },\n  modules: {\n    phylogeny, phyloref, phyx, ui, citations, resolution,\n  },\n  strict: debug,\n});\n","var map = {\n\t\"./af\": \"2bfb\",\n\t\"./af.js\": \"2bfb\",\n\t\"./ar\": \"8e73\",\n\t\"./ar-dz\": \"a356\",\n\t\"./ar-dz.js\": \"a356\",\n\t\"./ar-kw\": \"423e\",\n\t\"./ar-kw.js\": \"423e\",\n\t\"./ar-ly\": \"1cfd\",\n\t\"./ar-ly.js\": \"1cfd\",\n\t\"./ar-ma\": \"0a84\",\n\t\"./ar-ma.js\": \"0a84\",\n\t\"./ar-sa\": \"8230\",\n\t\"./ar-sa.js\": \"8230\",\n\t\"./ar-tn\": \"6d83\",\n\t\"./ar-tn.js\": \"6d83\",\n\t\"./ar.js\": \"8e73\",\n\t\"./az\": \"485c\",\n\t\"./az.js\": \"485c\",\n\t\"./be\": \"1fc1\",\n\t\"./be.js\": \"1fc1\",\n\t\"./bg\": \"84aa\",\n\t\"./bg.js\": \"84aa\",\n\t\"./bm\": \"a7fa\",\n\t\"./bm.js\": \"a7fa\",\n\t\"./bn\": \"9043\",\n\t\"./bn-bd\": \"9686\",\n\t\"./bn-bd.js\": \"9686\",\n\t\"./bn.js\": \"9043\",\n\t\"./bo\": \"d26a\",\n\t\"./bo.js\": \"d26a\",\n\t\"./br\": \"6887\",\n\t\"./br.js\": \"6887\",\n\t\"./bs\": \"2554\",\n\t\"./bs.js\": \"2554\",\n\t\"./ca\": \"d716\",\n\t\"./ca.js\": \"d716\",\n\t\"./cs\": \"3c0d\",\n\t\"./cs.js\": \"3c0d\",\n\t\"./cv\": \"03ec\",\n\t\"./cv.js\": \"03ec\",\n\t\"./cy\": \"9797\",\n\t\"./cy.js\": \"9797\",\n\t\"./da\": \"0f14\",\n\t\"./da.js\": \"0f14\",\n\t\"./de\": \"b469\",\n\t\"./de-at\": \"b3eb\",\n\t\"./de-at.js\": \"b3eb\",\n\t\"./de-ch\": \"bb71\",\n\t\"./de-ch.js\": \"bb71\",\n\t\"./de.js\": \"b469\",\n\t\"./dv\": \"598a\",\n\t\"./dv.js\": \"598a\",\n\t\"./el\": \"8d47\",\n\t\"./el.js\": \"8d47\",\n\t\"./en-au\": \"0e6b\",\n\t\"./en-au.js\": \"0e6b\",\n\t\"./en-ca\": \"3886\",\n\t\"./en-ca.js\": \"3886\",\n\t\"./en-gb\": \"39a6\",\n\t\"./en-gb.js\": \"39a6\",\n\t\"./en-ie\": \"e1d3\",\n\t\"./en-ie.js\": \"e1d3\",\n\t\"./en-il\": \"7333\",\n\t\"./en-il.js\": \"7333\",\n\t\"./en-in\": \"ec2e\",\n\t\"./en-in.js\": \"ec2e\",\n\t\"./en-nz\": \"6f50\",\n\t\"./en-nz.js\": \"6f50\",\n\t\"./en-sg\": \"b7e9\",\n\t\"./en-sg.js\": \"b7e9\",\n\t\"./eo\": \"65db\",\n\t\"./eo.js\": \"65db\",\n\t\"./es\": \"898b\",\n\t\"./es-do\": \"0a3c\",\n\t\"./es-do.js\": \"0a3c\",\n\t\"./es-mx\": \"b5b7\",\n\t\"./es-mx.js\": \"b5b7\",\n\t\"./es-us\": \"55c9\",\n\t\"./es-us.js\": \"55c9\",\n\t\"./es.js\": \"898b\",\n\t\"./et\": \"ec18\",\n\t\"./et.js\": \"ec18\",\n\t\"./eu\": \"0ff2\",\n\t\"./eu.js\": \"0ff2\",\n\t\"./fa\": \"8df4\",\n\t\"./fa.js\": \"8df4\",\n\t\"./fi\": \"81e9\",\n\t\"./fi.js\": \"81e9\",\n\t\"./fil\": \"d69a\",\n\t\"./fil.js\": \"d69a\",\n\t\"./fo\": \"0721\",\n\t\"./fo.js\": \"0721\",\n\t\"./fr\": \"9f26\",\n\t\"./fr-ca\": \"d9f8\",\n\t\"./fr-ca.js\": \"d9f8\",\n\t\"./fr-ch\": \"0e49\",\n\t\"./fr-ch.js\": \"0e49\",\n\t\"./fr.js\": \"9f26\",\n\t\"./fy\": \"7118\",\n\t\"./fy.js\": \"7118\",\n\t\"./ga\": \"5120\",\n\t\"./ga.js\": \"5120\",\n\t\"./gd\": \"f6b4\",\n\t\"./gd.js\": \"f6b4\",\n\t\"./gl\": \"8840\",\n\t\"./gl.js\": \"8840\",\n\t\"./gom-deva\": \"aaf2\",\n\t\"./gom-deva.js\": \"aaf2\",\n\t\"./gom-latn\": \"0caa\",\n\t\"./gom-latn.js\": \"0caa\",\n\t\"./gu\": \"e0c5\",\n\t\"./gu.js\": \"e0c5\",\n\t\"./he\": \"c7aa\",\n\t\"./he.js\": \"c7aa\",\n\t\"./hi\": \"dc4d\",\n\t\"./hi.js\": \"dc4d\",\n\t\"./hr\": \"4ba9\",\n\t\"./hr.js\": \"4ba9\",\n\t\"./hu\": \"5b14\",\n\t\"./hu.js\": \"5b14\",\n\t\"./hy-am\": \"d6b6\",\n\t\"./hy-am.js\": \"d6b6\",\n\t\"./id\": \"5038\",\n\t\"./id.js\": \"5038\",\n\t\"./is\": \"0558\",\n\t\"./is.js\": \"0558\",\n\t\"./it\": \"6e98\",\n\t\"./it-ch\": \"6f12\",\n\t\"./it-ch.js\": \"6f12\",\n\t\"./it.js\": \"6e98\",\n\t\"./ja\": \"079e\",\n\t\"./ja.js\": \"079e\",\n\t\"./jv\": \"b540\",\n\t\"./jv.js\": \"b540\",\n\t\"./ka\": \"201b\",\n\t\"./ka.js\": \"201b\",\n\t\"./kk\": \"6d79\",\n\t\"./kk.js\": \"6d79\",\n\t\"./km\": \"e81d\",\n\t\"./km.js\": \"e81d\",\n\t\"./kn\": \"3e92\",\n\t\"./kn.js\": \"3e92\",\n\t\"./ko\": \"22f8\",\n\t\"./ko.js\": \"22f8\",\n\t\"./ku\": \"2421\",\n\t\"./ku.js\": \"2421\",\n\t\"./ky\": \"9609\",\n\t\"./ky.js\": \"9609\",\n\t\"./lb\": \"440c\",\n\t\"./lb.js\": \"440c\",\n\t\"./lo\": \"b29d\",\n\t\"./lo.js\": \"b29d\",\n\t\"./lt\": \"26f9\",\n\t\"./lt.js\": \"26f9\",\n\t\"./lv\": \"b97c\",\n\t\"./lv.js\": \"b97c\",\n\t\"./me\": \"293c\",\n\t\"./me.js\": \"293c\",\n\t\"./mi\": \"688b\",\n\t\"./mi.js\": \"688b\",\n\t\"./mk\": \"6909\",\n\t\"./mk.js\": \"6909\",\n\t\"./ml\": \"02fb\",\n\t\"./ml.js\": \"02fb\",\n\t\"./mn\": \"958b\",\n\t\"./mn.js\": \"958b\",\n\t\"./mr\": \"39bd\",\n\t\"./mr.js\": \"39bd\",\n\t\"./ms\": \"ebe4\",\n\t\"./ms-my\": \"6403\",\n\t\"./ms-my.js\": \"6403\",\n\t\"./ms.js\": \"ebe4\",\n\t\"./mt\": \"1b45\",\n\t\"./mt.js\": \"1b45\",\n\t\"./my\": \"8689\",\n\t\"./my.js\": \"8689\",\n\t\"./nb\": \"6ce3\",\n\t\"./nb.js\": \"6ce3\",\n\t\"./ne\": \"3a39\",\n\t\"./ne.js\": \"3a39\",\n\t\"./nl\": \"facd\",\n\t\"./nl-be\": \"db29\",\n\t\"./nl-be.js\": \"db29\",\n\t\"./nl.js\": \"facd\",\n\t\"./nn\": \"b84c\",\n\t\"./nn.js\": \"b84c\",\n\t\"./oc-lnc\": \"167b\",\n\t\"./oc-lnc.js\": \"167b\",\n\t\"./pa-in\": \"f3ff\",\n\t\"./pa-in.js\": \"f3ff\",\n\t\"./pl\": \"8d57\",\n\t\"./pl.js\": \"8d57\",\n\t\"./pt\": \"f260\",\n\t\"./pt-br\": \"d2d4\",\n\t\"./pt-br.js\": \"d2d4\",\n\t\"./pt.js\": \"f260\",\n\t\"./ro\": \"972c\",\n\t\"./ro.js\": \"972c\",\n\t\"./ru\": \"957c\",\n\t\"./ru.js\": \"957c\",\n\t\"./sd\": \"6784\",\n\t\"./sd.js\": \"6784\",\n\t\"./se\": \"ffff\",\n\t\"./se.js\": \"ffff\",\n\t\"./si\": \"eda5\",\n\t\"./si.js\": \"eda5\",\n\t\"./sk\": \"7be6\",\n\t\"./sk.js\": \"7be6\",\n\t\"./sl\": \"8155\",\n\t\"./sl.js\": \"8155\",\n\t\"./sq\": \"c8f3\",\n\t\"./sq.js\": \"c8f3\",\n\t\"./sr\": \"cf1e\",\n\t\"./sr-cyrl\": \"13e9\",\n\t\"./sr-cyrl.js\": \"13e9\",\n\t\"./sr.js\": \"cf1e\",\n\t\"./ss\": \"52bd\",\n\t\"./ss.js\": \"52bd\",\n\t\"./sv\": \"5fbd\",\n\t\"./sv.js\": \"5fbd\",\n\t\"./sw\": \"74dc\",\n\t\"./sw.js\": \"74dc\",\n\t\"./ta\": \"3de5\",\n\t\"./ta.js\": \"3de5\",\n\t\"./te\": \"5cbb\",\n\t\"./te.js\": \"5cbb\",\n\t\"./tet\": \"576c\",\n\t\"./tet.js\": \"576c\",\n\t\"./tg\": \"3b1b\",\n\t\"./tg.js\": \"3b1b\",\n\t\"./th\": \"10e8\",\n\t\"./th.js\": \"10e8\",\n\t\"./tk\": \"5aff\",\n\t\"./tk.js\": \"5aff\",\n\t\"./tl-ph\": \"0f38\",\n\t\"./tl-ph.js\": \"0f38\",\n\t\"./tlh\": \"cf75\",\n\t\"./tlh.js\": \"cf75\",\n\t\"./tr\": \"0e81\",\n\t\"./tr.js\": \"0e81\",\n\t\"./tzl\": \"cf51\",\n\t\"./tzl.js\": \"cf51\",\n\t\"./tzm\": \"c109\",\n\t\"./tzm-latn\": \"b53d\",\n\t\"./tzm-latn.js\": \"b53d\",\n\t\"./tzm.js\": \"c109\",\n\t\"./ug-cn\": \"6117\",\n\t\"./ug-cn.js\": \"6117\",\n\t\"./uk\": \"ada2\",\n\t\"./uk.js\": \"ada2\",\n\t\"./ur\": \"5294\",\n\t\"./ur.js\": \"5294\",\n\t\"./uz\": \"2e8c\",\n\t\"./uz-latn\": \"010e\",\n\t\"./uz-latn.js\": \"010e\",\n\t\"./uz.js\": \"2e8c\",\n\t\"./vi\": \"2921\",\n\t\"./vi.js\": \"2921\",\n\t\"./x-pseudo\": \"fd7e\",\n\t\"./x-pseudo.js\": \"fd7e\",\n\t\"./yo\": \"7f33\",\n\t\"./yo.js\": \"7f33\",\n\t\"./zh-cn\": \"5c3a\",\n\t\"./zh-cn.js\": \"5c3a\",\n\t\"./zh-hk\": \"49ab\",\n\t\"./zh-hk.js\": \"49ab\",\n\t\"./zh-mo\": \"3a6c\",\n\t\"./zh-mo.js\": \"3a6c\",\n\t\"./zh-tw\": \"90ea\",\n\t\"./zh-tw.js\": \"90ea\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"4678\";","import { render, staticRenderFns } from \"./ModifiedIcon.vue?vue&type=template&id=014d92a1&\"\nimport script from \"./ModifiedIcon.vue?vue&type=script&lang=js&\"\nexport * from \"./ModifiedIcon.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div\n    v-if=\"dataChanged\"\n    class=\"float-right\"\n    :title=\"message\"\n  >\n    <FontAwesomeIcon\n      size=\"lg\"\n      icon=\"exclamation-circle\"\n      :style=\"{ color: '#FF8200' }\"\n    />\n  </div>\n</template>\n\n<script>\n/*\n * Creates an icon with a warning if a variable has changed in value as compared\n * to a comparison object. The icon is floated to the right and will display the\n * specified message if you hover over it.\n *\n */\n\nimport { isEqual } from 'lodash';\n\n// Use icons from Font Awesome.\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faExclamationCircle,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\n\n// Set up exclamation circle for FontAwesome.\nlibrary.add(faExclamationCircle);\n\nexport default {\n  name: 'ModifiedIcon',\n  components: {\n    FontAwesomeIcon,\n  },\n  props: {\n    message: {\n      type: String,\n      default: 'This element has changed! Please remember to save it.',\n    },\n    compare: Object, /* Object to check for changes. */\n    compareTo: Object, /* Changes will be determined by comparing this to this.compare */\n  },\n  computed: {\n    dataChanged() { return !isEqual(this.compare, this.compareTo); },\n  },\n};\n</script>\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutCurationToolModal.vue?vue&type=template&id=7380edb9&\"","// Import Vue.\nimport Vue from 'vue';\n\n// Import Bootstrap.\nimport 'bootstrap';\nimport BootstrapVue from 'bootstrap-vue';\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap-vue/dist/bootstrap-vue.min.css';\n\n// Use vue-resize to track when phylogenies are resized.\nimport VueResize from 'vue-resize';\nimport 'vue-resize/dist/vue-resize.css';\n\n// Import the main Vue file.\nimport App from './App.vue';\n\n// Import our Vuex store.\nimport store from './store';\n\n// Set up JQuery as a global.\nwindow.$ = require('jquery');\n\n// Load configuration from the 'src/config.js' file included with the source.\nVue.prototype.$config = require('./config.js');\n\n// Add additional features to Vue.\nVue.use(BootstrapVue);\nVue.use(VueResize);\n\n// Turn off the Vue production tip on the console on Vue startup.\nVue.config.productionTip = false;\n\n// Set up Vue object.\nexport default new Vue({\n  el: '#app',\n  store,\n  render: h => h(App),\n});\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=template&id=1cf3bd14&\"","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=template&id=bc8fc69c&\"","import { render, staticRenderFns } from \"./PhylorefView.vue?vue&type=template&id=29d5459b&\"\nimport script from \"./PhylorefView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhylorefView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./PhyxView.vue?vue&type=template&id=bc8fc69c&\"\nimport script from \"./PhyxView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhyxView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&id=4f6b036a&prod&lang=css&\"","<template>\n  <div class=\"form-group row\">\n    <label class=\"col-form-label col-md-2\">\n      {{ label }}\n    </label>\n    <div class=\"col-md-10\">\n      <template v-if=\"citations.length === 0\">\n        <a\n          class=\"form-control-plaintext\"\n          href=\"javascript:;\"\n          @click=\"citations.push({})\"\n        >\n          Add citation\n        </a>\n      </template>\n      <template v-for=\"(citation, citationIndex) of citations\">\n        <div class=\"input-group\">\n          <input\n            type=\"text\"\n            readonly\n            class=\"form-control hand-cursor\"\n            placeholder=\"Citation\"\n            :value=\"wrappedCitation(citation).toString() || 'Empty citation, click to enter'\"\n            @click=\"toggleCitationExpanded(citationIndex)\"\n          >\n          <div class=\"input-group-append\">\n            <a\n              v-if=\"wrappedCitation(citation).url\"\n              class=\"btn btn-primary\"\n              target=\"_blank\"\n              :href=\"wrappedCitation(citation).url\"\n            >\n              Open cited work\n            </a>\n            <a\n              class=\"btn btn-secondary\"\n              href=\"javascript:;\"\n              @click=\"toggleCitationExpanded(citationIndex)\"\n            >\n              <template v-if=\"citationsExpanded.includes(citationIndex)\">\n                Close\n              </template>\n              <template v-else>\n                Expand\n              </template>\n            </a>\n            <a\n              class=\"btn btn-danger\"\n              href=\"javascript:;\"\n              @click=\"deleteCitation(citationIndex)\"\n            >\n              <b-icon icon=\"trash\" />\n            </a>\n          </div>\n        </div>\n        <div\n          v-if=\"citationsExpanded.includes(citationIndex)\"\n          class=\"card mt-1\"\n        >\n          <div class=\"card-body\">\n            <h5 class=\"card-title\">\n              Citation details\n            </h5>\n\n            <!-- Citation type -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"citation-type\"\n              >\n                Citation type\n              </label>\n              <div class=\"col-md-10\">\n                <select\n                  id=\"citation-type\"\n                  v-model=\"citation.type\"\n                  class=\"form-control\"\n                  @change=\"updateCitations()\"\n                >\n                  <option value=\"article\">\n                    Article\n                  </option>\n                  <option value=\"book\">\n                    Book\n                  </option>\n                  <option value=\"book_section\">\n                    Book section\n                  </option>\n                  <option value=\"misc\">\n                    Miscellaneous\n                  </option>\n                </select>\n              </div>\n            </div>\n\n            <!-- Authors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"authors\"\n              >\n                Authors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"authors\"\n                  rows=\"3\"\n                  class=\"form-control\"\n                  placeholder=\"Enter authors here\"\n                  :value=\"wrappedCitation(citation).authorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).authorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Editors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"editors\"\n              >\n                Editors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"editors\"\n                  rows=\"2\"\n                  class=\"form-control\"\n                  placeholder=\"Enter editors here\"\n                  :value=\"wrappedCitation(citation).editorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).editorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Series editors (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"series-editors\"\n              >\n                Series editors (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <textarea\n                  id=\"series-editors\"\n                  rows=\"2\"\n                  class=\"form-control\"\n                  placeholder=\"Enter series editors here\"\n                  :value=\"wrappedCitation(citation).seriesEditorsAsStrings.join('\\n')\"\n                  @change=\"wrappedCitation(citation).seriesEditorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations();\"\n                />\n              </div>\n            </div>\n\n            <!-- Title -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"title\"\n              >\n                Title\n              </label>\n              <div class=\"col-md-10\">\n                <input\n                  id=\"title\"\n                  v-model=\"citation.title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter title here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Section title -->\n            <div\n              v-if=\"citation.type === 'book_section'\"\n              class=\"form-group row\"\n            >\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"section-title\"\n              >\n                Section title\n              </label>\n              <div class=\"col-md-10\">\n                <input\n                  id=\"section-title\"\n                  v-model=\"citation.section_title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter section title here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Publication year -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"year\"\n              >\n                Year\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"year\"\n                  v-model=\"citation.year\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter year here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Edition -->\n              <template v-if=\"citation.type !== 'article'\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"edition\"\n                >\n                  Edition\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"edition\"\n                    v-model=\"citation.edition\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter edition here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </template>\n            </div>\n\n            <!-- Pages and figure -->\n            <div class=\"form-group row\">\n              <!-- Pages -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"pages\"\n              >\n                Pages\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"pages\"\n                  v-model=\"citation.pages\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter pages here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Figure -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"figure\"\n              >\n                Figure\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"figure\"\n                  v-model=\"citation.figure\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter figure number here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- Only for article entries! -->\n            <template v-if=\"citation.type === 'article'\">\n              <!-- Journal title -->\n              <div class=\"form-group row\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-title\"\n                >\n                  Journal title\n                </label>\n                <div class=\"col-md-10\">\n                  <input\n                    id=\"journal-title\"\n                    v-model=\"wrappedCitation(citation).journal.name\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal title here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </div>\n\n              <!-- Journal volume and issue -->\n              <div class=\"form-group row\">\n                <!-- Journal volume -->\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-volume\"\n                >\n                  Volume\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"journal-volume\"\n                    v-model=\"wrappedCitation(citation).journal.volume\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal volume number here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n\n                <!-- Journal issue/number -->\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"journal-issue\"\n                >\n                  Issue number\n                </label>\n                <div class=\"col-md-4\">\n                  <input\n                    id=\"journal-issue\"\n                    v-model=\"wrappedCitation(citation).journal.number\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"Enter journal issue number here\"\n                    @change=\"updateCitations()\"\n                  >\n                </div>\n              </div>\n\n              <!-- ISSNs (one per line) -->\n              <div class=\"form-group row\">\n                <label\n                  class=\"col-form-label col-md-2\"\n                  for=\"issns\"\n                >\n                  ISSNs (one per line)\n                </label>\n                <div class=\"col-md-10\">\n                  <div class=\"input-group\">\n                    <textarea\n                      id=\"issns\"\n                      rows=\"1\"\n                      class=\"form-control\"\n                      placeholder=\"Enter ISSNs here\"\n                      :value=\"wrappedCitation(wrappedCitation(citation).journal).issns.join('\\n')\"\n                      @change=\"wrappedCitation(wrappedCitation(citation).journal).issns = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                    />\n                    <div class=\"input-group-append\">\n                      <a\n                        class=\"btn btn-outline-secondary align-middle\"\n                        target=\"_blank\"\n                        style=\"vertical-align: middle\"\n                        :href=\"'https://www.worldcat.org/search?q=n2%3A' + wrappedCitation(wrappedCitation(citation).journal).issns[0]\"\n                        :class=\"{disabled: (wrappedCitation(wrappedCitation(citation).journal).issns || []).length === 0}\"\n                      >\n                        Open in new window\n                      </a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </template>\n\n            <!-- ISBNs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"isbns\"\n              >\n                ISBNs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"isbns\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter ISBNs here\"\n                    :value=\"wrappedCitation(wrappedCitation(citation).journal).isbns.join('\\n')\"\n                    @change=\"wrappedCitation(wrappedCitation(citation).journal).isbns = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"'https://www.worldcat.org/search?q=bn%3A' + wrappedCitation(wrappedCitation(citation).journal).isbns[0]\"\n                      :class=\"{disabled: (wrappedCitation(wrappedCitation(citation).journal).isbns || []).length === 0}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- Publisher and city -->\n            <div class=\"form-group row\">\n              <!-- Publisher -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"publisher\"\n              >\n                Publisher\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"publisher\"\n                  v-model=\"citation.publisher\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter publisher here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n\n              <!-- Publication city -->\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"city\"\n              >\n                City\n              </label>\n              <div class=\"col-md-4\">\n                <input\n                  id=\"city\"\n                  v-model=\"citation.city\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"Enter publication city here\"\n                  @change=\"updateCitations()\"\n                >\n              </div>\n            </div>\n\n            <!-- DOIs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"doi\"\n              >\n                DOIs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"doi\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter DOIs here\"\n                    :value=\"wrappedCitation(citation).doisAsStrings.join('\\n')\"\n                    @change=\"wrappedCitation(citation).doisAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"wrappedCitation(citation).firstDOI ? 'http://doi.org/' + wrappedCitation(citation).firstDOI : undefined\"\n                      :class=\"{disabled: !wrappedCitation(citation).firstDOI}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <!-- URLs (one per line) -->\n            <div class=\"form-group row\">\n              <label\n                class=\"col-form-label col-md-2\"\n                for=\"urls\"\n              >\n                URLs (one per line)\n              </label>\n              <div class=\"col-md-10\">\n                <div class=\"input-group\">\n                  <textarea\n                    id=\"urls\"\n                    rows=\"1\"\n                    class=\"form-control\"\n                    placeholder=\"Enter URLs here\"\n                    :value=\"wrappedCitation(citation).urlsAsStrings.join('\\n')\"\n                    @change=\"wrappedCitation(citation).urlsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); updateCitations()\"\n                  />\n                  <div class=\"input-group-append\">\n                    <a\n                      class=\"btn btn-outline-secondary align-middle\"\n                      target=\"_blank\"\n                      style=\"vertical-align: middle\"\n                      :href=\"wrappedCitation(citation).firstURL\"\n                      :class=\"{disabled: !wrappedCitation(citation).firstURL}\"\n                    >\n                      Open in new window\n                    </a>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </template>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Displays a citation as a textfield/expanded field.\n */\n\nimport Vue from 'vue';\nimport { BIcon, BIconTrash } from 'bootstrap-vue';\nimport {\n  has, isEmpty, isEqual, cloneDeep, pickBy,\n} from 'lodash';\n\nexport default {\n  name: 'Citation',\n  components: {\n    BIcon,\n    BIconTrash,\n  },\n  props: {\n    label: { /* The label for this citation */\n      type: String,\n      default: 'Citation',\n    },\n    object: { /* The object containing the citation to display and edit */\n      type: Object,\n      required: true,\n    },\n    citationKey: { /* The key on the object containing the citation to display and edit */\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    // Set up a citations variable that has to be an array. It may actually be a\n    // single object in the JSON file; in that case, we convert it into an array.\n    // In any case, we want to clone it -- changes in this component shouldn't\n    // propagate to the model directly, but should go through this.updateCitations().\n    const citations = this.getCitationsFromProps();\n\n    return {\n      // Which citations have been expanded (by index).\n      citationsExpanded: [],\n\n      // Copy of the citations provided to this component.\n      citations,\n\n      // Items used to store new items.\n      newDOI: '',\n    };\n  },\n  watch: {\n    citations() {\n      this.updateCitations();\n    },\n    object() {\n      this.citations = this.getCitationsFromProps();\n    },\n    citationKey() {\n      this.citations = this.getCitationsFromProps();\n    },\n  },\n  methods: {\n    deleteCitation(index) {\n      // Remove the citation at a particular index from the input citations.\n      // eslint-disable-next-line no-restricted-globals\n      if (confirm('Are you sure you wish to delete this citation?')) {\n        if (Array.isArray(this.object[this.citationKey])) {\n          this.object[this.citationKey].splice(index, 1);\n        } else {\n          Vue.delete(this.object, this.citationKey);\n        }\n      }\n    },\n    getCitationsFromProps() {\n      // Returns the citations from the properties provided to this object.\n      //\n      // The trick is that this needs to always be an array, so we turn it into\n      // an array of a single element if we need to.\n\n      if (Array.isArray(this.object[this.citationKey])) {\n        return cloneDeep(this.object[this.citationKey]);\n      } if (isEmpty(this.object[this.citationKey])) {\n        return [];\n      }\n\n      return [cloneDeep(this.object[this.citationKey])];\n    },\n    updateCitations() {\n      // If our citations have changed, update the state of the citation they\n      // point to.\n      if (isEmpty(this.citations)) return;\n\n      // Exception: this component will ALWAYS add a 'journal' key to the citation,\n      // even if it is empty. We should eliminate that to make the comparison.\n      const ourCitations = cloneDeep(this.citations).map(\n        (citation) => {\n          if (has(citation, 'journal') && isEqual(pickBy(citation.journal), {})) {\n            delete citation.journal;\n          }\n          return citation;\n        },\n      );\n\n      // Exception: we *always* store citations as an array, but\n      // this.object[this.citationKey] might be an object. Let's check for that.\n      if (isEqual(ourCitations, this.object[this.citationKey])) return;\n      if (ourCitations.length === 1) {\n        if (isEqual(ourCitations[0], this.object[this.citationKey])) return;\n\n        console.log('Updating citations as ', ourCitations[0], ' differs from ', this.object[this.citationKey]);\n        this.$store.commit('setCitations', {\n          object: this.object,\n          citationKey: this.citationKey,\n          citations: ourCitations[0],\n        });\n      } else {\n        console.log('Updating citations as ', ourCitations, ' differs from ', this.object[this.citationKey]);\n        this.$store.commit('setCitations', {\n          object: this.object,\n          citationKey: this.citationKey,\n          citations: ourCitations,\n        });\n      }\n    },\n    toggleCitationExpanded(citationIndex) {\n      // Given the index of a citation, either expand it or collapse it.\n      // (The citation is expanded if its index is in the citationsExpanded list)\n      if (this.citationsExpanded.includes(citationIndex)) this.citationsExpanded = this.citationsExpanded.filter(index => index !== citationIndex);\n      else this.citationsExpanded.push(citationIndex);\n    },\n    wrappedCitation(citation) {\n      // Return the citation\n      return this.$store.getters.getWrappedCitation(citation);\n    },\n  },\n};\n</script>\n\n<style>\n.hand-cursor {\n  cursor: pointer;\n}\n</style>\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=style&index=0&id=ae9cde0e&prod&lang=css&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdvancedOptionsModal.vue?vue&type=template&id=7c24260a&\"","<template>\n  <div>\n    <div class=\"card border-dark\">\n      <h5 class=\"card-header border-dark\">\n        Phyloreference collection\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <!-- Phyx collection name (if we have more than one phyloref!) -->\n          <div\n            v-if=\"phylorefs.length > 1 || phyx.title\"\n            class=\"form-group row\"\n          >\n            <label\n              for=\"phyx-label\"\n              class=\"col-form-label col-md-2\"\n            >\n              Collection name\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phyx-label\"\n                v-model=\"phyx.title\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter title here\"\n              >\n            </div>\n          </div>\n\n          <!-- Curated by information -->\n          <div class=\"form-group row\">\n            <label\n              for=\"curator-name\"\n              class=\"col-form-label col-md-2\"\n            >\n              Curated by\n            </label>\n            <div class=\"col-md-4\">\n              <input\n                id=\"curator-name\"\n                v-model=\"phyxCurator\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Curator name\"\n              >\n            </div>\n            <div class=\"col-md-3\">\n              <input\n                id=\"curator-email\"\n                v-model=\"phyxCuratorEmail\"\n                type=\"email\"\n                class=\"form-control\"\n                placeholder=\"Curator e-mail address\"\n              >\n            </div>\n            <div class=\"col-md-3 input-group\">\n              <input\n                id=\"external-reference\"\n                v-model=\"phyxCuratorORCID\"\n                class=\"form-control\"\n                placeholder=\"Curator ORCID\"\n              >\n              <div class=\"input-group-append\">\n                <a\n                  class=\"btn btn-outline-secondary\"\n                  target=\"_blank\"\n                  :href=\"'https://orcid.org/' + phyxCuratorORCID\"\n                >\n                  Open in new window\n                </a>\n              </div>\n            </div>\n          </div>\n\n          <!-- Default nomenclatural code -->\n          <div class=\"form-group row\">\n            <label\n              for=\"default-nomen-code\"\n              class=\"col-form-label col-md-2\"\n            >\n              Default nomenclatural code\n            </label>\n            <div class=\"col-md-10\">\n              <select\n                id=\"nomen-code\"\n                :value=\"$store.getters.getDefaultNomenCodeURI\"\n                class=\"form-control\"\n                @change=\"$store.commit('setDefaultNomenCodeURI', { defaultNomenclaturalCodeURI: $event.target.value })\"\n              >\n                <option\n                  v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n                  :value=\"nomenCode.uri\"\n                >\n                  {{ nomenCode.label }}\n                </option>\n              </select>\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div class=\"card border-dark mt-2\">\n      <h5 class=\"card-header border-dark\">\n        Phyloreferences in this file\n      </h5>\n      <div class=\"card-body p-0\">\n        <table class=\"table table-hover table-flush\">\n          <thead>\n            <th>&nbsp;</th>\n            <th>Phyloreference</th>\n            <th>Type</th>\n            <th>Internal specifiers</th>\n            <th>External specifiers</th>\n            <th v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n              {{ getPhylogenyLabel(phylogeny) }}\n            </th>\n          </thead>\n          <tbody>\n            <tr\n              v-if=\"phylorefs.length === 0\"\n              class=\"bg-white\"\n            >\n              <td :colspan=\"4 + phylogenies.length\">\n                <Center><em>No phyloreferences in this file</em></Center>\n              </td>\n            </tr>\n            <tr v-for=\"(phyloref, phylorefIndex) of phylorefs\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-danger\"\n                  @click=\"deletePhyloref(phyloref)\"\n                >\n                  &#x2715;\n                </button>\n              </td>\n              <td>\n                <a\n                  href=\"javascript: void(0)\"\n                  @click=\"$store.commit('changeDisplay', { phyloref })\"\n                >\n                  {{ getPhylorefLabel(phyloref) }}\n                </a>\n              </td>\n              <td>{{ $store.getters.getPhylorefType(phyloref) }}</td>\n              <td>{{ (phyloref.internalSpecifiers || []).length }}</td>\n              <td>{{ (phyloref.externalSpecifiers || []).length }}</td>\n              <td v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n                <template v-if=\"!getPhylorefExpectedNodeLabel(phyloref, phylogeny)\">\n                  <strong>No expected node</strong>\n                  <template v-if=\"hasReasoningResults(phyloref)\">\n                    <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0\">\n                      but <strong>did not resolve to any node</strong>\n                    </template>\n                    <template v-else-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1\">\n                      but <strong>resolved to multiple nodes: {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) }}</strong>\n                    </template>\n                    <template v-else>\n                      and resolved to {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\" }}\n                    </template>\n                  </template>\n                </template>\n                <template v-else>\n                  Expected to resolve to node {{ getPhylorefExpectedNodeLabel(phyloref, phylogeny) }}\n                  <template v-if=\"hasReasoningResults(phyloref)\">\n                    <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length === 0\">\n                      but <strong>did not resolve to any node</strong>\n                    </template>\n                    <template v-else-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny).length > 1\">\n                      but <strong>resolved to multiple nodes: {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) }}</strong>\n                    </template>\n                    <template v-else>\n                      and resolved\n                      <template v-if=\"getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0] === getPhylorefExpectedNodeLabel(phyloref, phylogeny)\">\n                        correctly\n                      </template>\n                      <template v-else>\n                        <strong>incorrectly</strong>\n                      </template>\n                      to {{ getNodeLabelsResolvedByPhyloref(phyloref, phylogeny)[0]||\"an unlabeled node\" }}\n                    </template>\n                  </template>\n                </template>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Phyx file management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('createEmptyPhyloref')\"\n          >\n            Add phyloreference\n          </button>\n\n          <button\n            class=\"btn btn-secondary\"\n            href=\"javascript:;\"\n            @click=\"exportAsCSV()\"\n          >\n            Export as CSV\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <div class=\"card border-dark mt-2\">\n      <h5 class=\"card-header border-dark\">\n        Phylogenies in this file\n      </h5>\n      <div class=\"card-body p-0\">\n        <table class=\"table table-hover table-flush\">\n          <thead>\n            <th>&nbsp;</th>\n            <th>Phylogeny</th>\n            <th>Description</th>\n          </thead>\n          <tbody>\n            <tr\n              v-if=\"phylogenies.length === 0\"\n              class=\"bg-white\"\n            >\n              <td :colspan=\"3\">\n                <Center><em>No phylogenies in this file</em></Center>\n              </td>\n            </tr>\n            <tr v-for=\"(phylogeny, phylogenyIndex) of phylogenies\">\n              <td>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-danger\"\n                  @click=\"deletePhylogeny(phylogeny)\"\n                >\n                  &#x2715;\n                </button>\n              </td>\n              <td>\n                <a\n                  href=\"javascript: void(0)\"\n                  @click=\"$store.commit('changeDisplay', { phylogeny })\"\n                >\n                  {{ getPhylogenyLabel(phylogeny) }}\n                </a>\n              </td>\n              <td>\n                {{ phylogeny.description }}\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"card-footer\">\n        <div\n          class=\"btn-group\"\n          role=\"group\"\n          area-label=\"Phylogeny management\"\n        >\n          <button\n            class=\"btn btn-primary\"\n            href=\"javascript:;\"\n            @click=\"$store.commit('createEmptyPhylogeny')\"\n          >\n            Add phylogeny\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Display a summary of the entire Phyx file.\n */\nimport { mapState } from 'vuex';\nimport { has, max, range } from 'lodash';\nimport { stringify } from 'csv-stringify';\nimport { saveAs } from 'filesaver.js-npm';\nimport {\n  PhylorefWrapper, PhylogenyWrapper, TaxonNameWrapper, TaxonomicUnitWrapper,\n} from '@phyloref/phyx';\n\nexport default {\n  name: 'PhyxView',\n  computed: {\n    nomenCodes: () => TaxonNameWrapper.getNomenclaturalCodes(),\n    phyxCurator: {\n      get() { return this.phyx.curator; },\n      set(name) { this.$store.commit('setCurator', { name }); },\n    },\n    phyxCuratorEmail: {\n      get() { return this.phyx.curatorEmail; },\n      set(email) { this.$store.commit('setCurator', { email }); },\n    },\n    phyxCuratorORCID: {\n      get() { return this.phyx.curatorORCID; },\n      set(orcid) { this.$store.commit('setCurator', { orcid }); },\n    },\n    ...mapState({\n      phyx: state => state.phyx.currentPhyx,\n      phylorefs: state => state.phyx.currentPhyx.phylorefs,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n    }),\n  },\n  methods: {\n    getPhylogenyLabel(phylogeny) {\n      return phylogeny.label\n        || `Phylogeny ${this.phylogenies.indexOf(phylogeny) + 1}`;\n    },\n    getPhylorefLabel(phyloref) {\n      return new PhylorefWrapper(phyloref).label\n        || `Phyloref ${this.phylorefs.indexOf(phyloref) + 1}`;\n    },\n    hasReasoningResults(phyloref) {\n      if (!has(this.$store.state.resolution.reasoningResults, 'phylorefs')) return false;\n\n      const phylorefURI = this.$store.getters.getPhylorefId(phyloref);\n      return has(this.$store.state.resolution.reasoningResults.phylorefs, phylorefURI);\n    },\n    getPhylorefExpectedNodeLabel(phyloref, phylogeny) {\n      // Return a list of nodes that a phyloreference is expected to resolve to.\n      return this.$store.getters.getExpectedNodeLabel(\n        phyloref,\n        phylogeny,\n      );\n    },\n    getNodesById(phylogeny, nodeId) {\n      // Return all node labels with this nodeId in this phylogeny.\n      const parsed = new PhylogenyWrapper(phylogeny).getParsedNewickWithIRIs(\n        this.$store.getters.getPhylogenyId(phylogeny),\n        d3.layout.newick_parser,\n      );\n\n      function searchNode(node, results = []) {\n        if (has(node, '@id') && node['@id'] === nodeId) {\n          results.push(node);\n        }\n        if (has(node, 'children')) {\n          node.children.forEach(child => searchNode(child, results));\n        }\n        return results;\n      }\n\n      if (!has(parsed, 'json')) return [];\n      return searchNode(parsed.json);\n    },\n    getNodeLabelsResolvedByPhyloref(phyloref, phylogeny) {\n      // Converts node IDs to node labels, if present.\n      const resolvedNodes = this.$store.getters.getResolvedNodesForPhylogeny(\n        phylogeny, phyloref, false,\n      );\n\n      return resolvedNodes\n        .map(nodeId => this.getNodesById(phylogeny, nodeId))\n        .reduce((a, b) => a.concat(b), [])\n        .map(node => node.name || '(unlabelled)');\n    },\n    deletePhyloref(phyloref) {\n      const warningString = `Are you sure you wish to delete phyloreference '${\n        this.getPhylorefLabel(phyloref)\n      }'?`;\n      if (confirm(warningString)) {\n        this.$store.commit('deletePhyloref', { phyloref });\n      }\n    },\n    deletePhylogeny(phylogeny) {\n      const warningString = `Are you sure you wish to delete phylogeny '${\n        this.getPhylogenyLabel(phylogeny)\n      }'?`;\n      if (confirm(warningString)) {\n        this.$store.commit('deletePhylogeny', { phylogeny });\n      }\n    },\n    exportAsCSV() {\n      // Export the phyloref summary as CSV.\n\n      // Determine the maximum number of internal and external specifiers we will need to export.\n      const phylorefs = this.phylorefs;\n      const maxInternalSpecifiers = max(phylorefs.map(phyloref => phyloref.internalSpecifiers.length));\n      const maxExternalSpecifiers = max(phylorefs.map(phyloref => phyloref.externalSpecifiers.length));\n\n      // Create file header.\n      const header = [\n        'Phyloreference ID',\n        'Label',\n        'Type',\n        ...range(0, maxInternalSpecifiers).map((_, i) => `Internal specifier ${i + 1}`),\n        ...range(0, maxExternalSpecifiers).map((_, i) => `External specifier ${i + 1}`),\n        ...this.phylogenies.flatMap((phylogeny) => {\n          const label = this.getPhylogenyLabel(phylogeny);\n          return [`${label} expected`, `${label} actual`];\n        }),\n      ];\n\n      const rows = phylorefs.map((phyloref) => {\n        const wrappedPhyloref = new PhylorefWrapper(phyloref);\n\n        return [\n          this.$store.getters.getPhylorefId(phyloref),\n          wrappedPhyloref.label,\n          this.$store.getters.getPhylorefType(phyloref),\n          // Write out the internal specifier labels\n          ...(wrappedPhyloref.internalSpecifiers.map(sp => new TaxonomicUnitWrapper(sp).label)),\n          // Write out blank cells for the remaining internal specifiers\n          ...range(wrappedPhyloref.internalSpecifiers.length, maxInternalSpecifiers).map(() => ''),\n          // Write out the external specifier labels\n          ...(wrappedPhyloref.externalSpecifiers.map(sp => new TaxonomicUnitWrapper(sp).label)),\n          // Write out blank cells for the remaining external specifiers\n          ...range(wrappedPhyloref.externalSpecifiers.length, maxExternalSpecifiers).map(() => ''),\n          // Export phyloref expectation information.\n          ...this.phylogenies.map((phylogeny) => {\n            const expectedNodeLabel = this.getPhylorefExpectedNodeLabel(phyloref, phylogeny);\n            if (!expectedNodeLabel) {\n              return '';\n            }\n            return expectedNodeLabel;\n          }),\n          // Export phyloref resolution information.\n          ...this.phylogenies.map((phylogeny) => {\n            if (!this.hasReasoningResults(phyloref)) return 'Resolution not yet run';\n\n            const resolvedNodes = this.getNodeLabelsResolvedByPhyloref(phyloref, phylogeny);\n            return resolvedNodes.map(nl => (nl === '' ? 'an unlabeled node' : nl)).join('|');\n          }),\n        ];\n      });\n\n      // Convert to CSV.\n      // console.log('Output:', [header, ...rows]);\n      stringify([\n        header,\n        ...rows,\n      ], (err, csv) => {\n        if (err) {\n          console.log('Error occurred while producing CSV:', err);\n          return;\n        }\n\n        const content = [csv];\n        // console.log('Content:', content);\n\n        // Save to local hard drive.\n        const filename = `${this.$store.getters.getDownloadFilenameForPhyx}.csv`;\n        const csvFile = new Blob(content, { type: 'text/csv;charset=utf-8' });\n        // Neither Numbers.app nor Excel can read the UTF-8 BOM correctly, so we explicitly\n        // turn it off.\n        saveAs(csvFile, filename, { autoBom: false });\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=script&lang=js&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"col-md-12\"},[_c('div',{staticClass:\"input-group mb-1\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.specifierClass)+\"\\n      \")]),_c('div',{staticClass:\"dropdown-menu\"},[_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Taxon'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Taxon'}}},[_vm._v(\"Taxon\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Specimen'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Specimen'}}},[_vm._v(\"Specimen\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'External reference'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'External reference'}}},[_vm._v(\"External reference\")]),_c('a',{staticClass:\"dropdown-item\",class:{active: _vm.specifierClass === 'Apomorphy'},attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.specifierClass = 'Apomorphy'}}},[_vm._v(\"Apomorphy\")])])]),(_vm.specifierClass === 'Taxon')?_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-outline-secondary dropdown-toggle\",attrs:{\"type\":\"button\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.nomenclaturalCodeObj.shortName)+\"\\n      \")]),_c('div',{staticClass:\"dropdown-menu\"},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('a',{staticClass:\"dropdown-item\",class:{active: _vm.enteredNomenclaturalCode === nomenCode.uri },attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){_vm.enteredNomenclaturalCode = nomenCode.uri}}},[_vm._v(\"\\n          \"+_vm._s(nomenCode.label)+\"\\n        \")])}),0)]):_vm._e(),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierLabel),expression:\"specifierLabel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.specifierLabel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.specifierLabel=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary\",class:{active: _vm.expand},on:{\"click\":function($event){_vm.expand = !_vm.expand}}},[_vm._v(\"\\n        \"+_vm._s((_vm.expand) ? 'Collapse' : 'Expand')+\"\\n      \")])]),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-danger\",on:{\"click\":function($event){return _vm.deleteSpecifier()}}},[_vm._v(\"\\n        \\n      \")])])]),(_vm.expand)?_c('div',{staticClass:\"card mt-1 mb-3\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"\\n        Specifier details\\n      \")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specifier-type\"}},[_vm._v(\"\\n          Specifier type\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierType),expression:\"specifierType\"}],staticClass:\"form-control\",attrs:{\"id\":\"specifier-type\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.specifierType=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"Internal\"}},[_vm._v(\"\\n              Internal specifier\\n            \")]),_c('option',{attrs:{\"value\":\"External\"}},[_vm._v(\"\\n              External specifier\\n            \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"verbatim-specifier\"}},[_vm._v(\"\\n          Verbatim specifier\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredVerbatimLabel),expression:\"enteredVerbatimLabel\"}],staticClass:\"form-control\",attrs:{\"id\":\"verbatim-specifier\"},domProps:{\"value\":(_vm.enteredVerbatimLabel)},on:{\"change\":function($event){return _vm.updateSpecifier()},\"input\":function($event){if($event.target.composing)return;_vm.enteredVerbatimLabel=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specifier-class\"}},[_vm._v(\"\\n          Specifier class\\n        \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.specifierClass),expression:\"specifierClass\"}],staticClass:\"form-control\",attrs:{\"id\":\"specifier-class\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.specifierClass=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.updateSpecifier()}]}},[_c('option',{attrs:{\"value\":\"Taxon\"}},[_vm._v(\"\\n              Taxon\\n            \")]),_c('option',{attrs:{\"value\":\"Specimen\"}},[_vm._v(\"\\n              Specimen\\n            \")]),_c('option',{attrs:{\"value\":\"External reference\"}},[_vm._v(\"\\n              External reference\\n            \")]),_c('option',{attrs:{\"value\":\"Apomorphy\"}},[_vm._v(\"\\n              Apomorphy\\n            \")])])])]),(_vm.specifierClass === 'Taxon')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"nomen-code\"}},[_vm._v(\"\\n            Nomenclatural code\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredNomenclaturalCode),expression:\"enteredNomenclaturalCode\"}],staticClass:\"form-control\",attrs:{\"id\":\"nomen-code\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.enteredNomenclaturalCode=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.nomenCodes),function(nomenCode,nomenCodeIndex){return _c('option',{domProps:{\"value\":nomenCode.uri}},[_vm._v(\"\\n                \"+_vm._s(nomenCode.label)+\"\\n              \")])}),0)])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"name-complete\"}},[_vm._v(\"\\n            Binomial/trinomial name\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.taxonNameWrapped.nameComplete),expression:\"taxonNameWrapped.nameComplete\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"name-complete\"},domProps:{\"value\":(_vm.taxonNameWrapped.nameComplete)},on:{\"change\":function($event){return _vm.$set(_vm.taxonNameWrapped, \"nameComplete\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"genus\"}},[_vm._v(\"\\n            Genus\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.genusPart),expression:\"taxonNameWrapped.genusPart\"}],staticClass:\"form-control\",attrs:{\"id\":\"genus\"},domProps:{\"value\":(_vm.taxonNameWrapped.genusPart)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.taxonNameWrapped, \"genusPart\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"specific-epithet\"}},[_vm._v(\"\\n            Specific epithet\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.specificEpithet),expression:\"taxonNameWrapped.specificEpithet\"}],staticClass:\"form-control\",attrs:{\"id\":\"specific-epithet\"},domProps:{\"value\":(_vm.taxonNameWrapped.specificEpithet)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.taxonNameWrapped, \"specificEpithet\", $event.target.value)}}})])]),(_vm.taxonNameWrapped.infraspecificEpithet)?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"infraspecific-epithet\"}},[_vm._v(\"\\n            Infraspecific epithet\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.taxonNameWrapped.infraspecificEpithet),expression:\"taxonNameWrapped.infraspecificEpithet\"}],staticClass:\"form-control\",attrs:{\"id\":\"infraspecific-epithet\"},domProps:{\"value\":(_vm.taxonNameWrapped.infraspecificEpithet)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.taxonNameWrapped, \"infraspecificEpithet\", $event.target.value)}}})])]):_vm._e()]:_vm._e(),(_vm.specifierClass === 'Specimen')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"occurrence-id\"}},[_vm._v(\"\\n            Occurrence ID\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enteredOccurrenceID),expression:\"enteredOccurrenceID\"}],staticClass:\"form-control\",attrs:{\"id\":\"occurrence-id\",\"placeholder\":\"Enter the occurrence ID of the specimen here\"},domProps:{\"value\":(_vm.enteredOccurrenceID)},on:{\"input\":function($event){if($event.target.composing)return;_vm.enteredOccurrenceID=$event.target.value}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"collection-code\"}},[_vm._v(\"\\n            Institution code\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"collection-code\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.institutionCode}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"collection-code\"}},[_vm._v(\"\\n            Collection code\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"collection-code\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.collectionCode}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"catalog-number\"}},[_vm._v(\"\\n            Catalog number\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{staticClass:\"form-control\",attrs:{\"id\":\"catalog-number\",\"readonly\":\"\"},domProps:{\"value\":_vm.specimenWrapped.catalogNumber}})])])]:_vm._e(),(_vm.specifierClass === 'External reference')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"external-reference\"}},[_vm._v(\"\\n            External reference\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.externalReference),expression:\"externalReference\"}],staticClass:\"form-control\",attrs:{\"id\":\"external-reference\",\"placeholder\":\"Enter URI of external reference here\"},domProps:{\"value\":(_vm.externalReference)},on:{\"input\":function($event){if($event.target.composing)return;_vm.externalReference=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary\",attrs:{\"target\":\"_blank\",\"href\":_vm.externalReference}},[_vm._v(\"\\n                Open in new window\\n              \")])])])])]:_vm._e(),(_vm.specifierClass === 'Apomorphy')?[_c('p',[_vm._v(\"\\n          Apomorphy-based specifiers are not currently supported. Please enter\\n          them into the verbatim label field for now.\\n        \")])]:_vm._e()],2)]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhyxView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Citation.vue?vue&type=template&id=ae9cde0e&\"\nimport script from \"./Citation.vue?vue&type=script&lang=js&\"\nexport * from \"./Citation.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Citation.vue?vue&type=style&index=0&id=ae9cde0e&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <!-- Sidebar showing phyloreferences and phylogenies -->\n  <div id=\"sidebar-wrapper\">\n    <!-- Sidebar section: information about this particular PHYX file -->\n    <div class=\"card bg-dark\">\n      <div class=\"list-group list-group-flush\">\n        <a\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n          href=\"javascript: void(0)\"\n        >\n          Actions\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('#file-input').trigger('click')\"\n        >\n          Read from local JSON file\n        </a>\n        <input\n          id=\"file-input\"\n          type=\"file\"\n          class=\"d-none\"\n          @change=\"loadPhyxFromFileInputById('#file-input')\"\n        >\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('.phyx-examples').toggleClass('d-none')\"\n        >\n          Read an example file\n        </a>\n\n        <a\n          v-for=\"example of examplePHYXURLs\"\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action phyx-examples d-none small\"\n          @click=\"loadPhyxFromURL(example.url)\"\n        >\n          &#9679; {{ example.title }}\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action phyx-examples d-none small\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('.phyx-examples').toggleClass('d-none')\"\n        >\n          <em>Close list of examples</em>\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"downloadAsJSON()\"\n        >\n          Save\n          <ModifiedIcon\n            message=\"This Phyx file has been modified after it was loaded! Use 'Save' to save your changes.\"\n            :compare=\"currentPhyx\"\n            :compare-to=\"loadedPhyx\"\n          />\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"downloadAsJSONLD()\"\n        >\n          Export as JSON-LD\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"downloadAsNQuads()\"\n        >\n          Export as ontology\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action start-reasoning\"\n          href=\"javascript: void(0)\"\n          @click=\"reasonOverPhyloreferences()\"\n        >\n          <span v-if=\"reasoningInProgress\">\n            (Reasoning in progress)\n          </span>\n          <span v-else>\n            Resolve against phylogenies\n          </span>\n        </a>\n\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          onclick=\"$('#advanced-options').modal()\"\n        >\n          Advanced\n        </a>\n      </div>\n    </div>\n\n    <!-- Sidebar section: list of phyloreferences in PHYX file -->\n    <div class=\"card mt-2 bg-dark\">\n      <!-- List of phyloreferences -->\n      <div class=\"list-group list-group-flush\">\n        <a\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n        >\n          Phyloreferences\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          :class=\"{active: !selectedPhyloref && !selectedPhylogeny}\"\n          @click=\"$store.commit('changeDisplay', {})\"\n        >\n          <em>Summary</em>\n        </a>\n        <template v-for=\"(phyloref, phylorefIndex) of phylorefs\">\n          <a\n            href=\"javascript: void(0)\"\n            class=\"h6 list-group-item list-group-item-action border-dark\"\n            :class=\"{active: selectedPhyloref === phyloref}\"\n            @click=\"$store.commit('changeDisplay', {phyloref})\"\n          >\n            <span v-if=\"phyloref.label\">\n              {{ phyloref.label }}\n            </span>\n            <span v-else>\n              {{ 'Phyloreference ' + (phylorefIndex + 1) }}\n            </span>\n\n            <!-- Add a warning if this phyloreference has changed -->\n            <ModifiedIcon\n              message=\"This phyloreference has been modified after it was loaded! Use 'Save' to save your changes.\"\n              :compare=\"phyloref\"\n              :compare-to=\"loadedPhyx.phylorefs[phylorefIndex]\"\n            />\n          </a>\n\n          <!-- Add the following information if this phyloreference is selected -->\n          <template v-if=\"selectedPhyloref === phyloref\">\n            <a\n              v-for=\"(specifier, specifierIndex) of phyloref.internalSpecifiers\"\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              :class=\"{'active border-dark': selectedSpecifier === specifier}\"\n              @click=\"$store.commit('changeDisplay', { phyloref, specifier })\"\n            >\n              &#9679; <strong>Internal:</strong> {{ getSpecifierLabel(specifier) }}\n            </a>\n\n            <a\n              v-for=\"(specifier, specifierIndex) of phyloref.externalSpecifiers\"\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              :class=\"{'active border-dark': selectedSpecifier === specifier}\"\n              @click=\"$store.commit('changeDisplay', { phyloref, specifier })\"\n            >\n              &#9679; <strong>External:</strong> {{ getSpecifierLabel(specifier) }}\n            </a>\n            <a\n              href=\"javascript: void(0)\"\n              class=\"list-group-item list-group-item-action\"\n              @click=\"$store.commit('addSpecifier', { phyloref })\"\n            >\n              &#9679; <em>Add specifier</em>\n            </a>\n          </template>\n        </template>\n\n        <!-- Let users add phyloreferences directly from the sidebar -->\n        <a\n          class=\"list-group-item list-group-item-action border-dark\"\n          href=\"javascript: void(0)\"\n          @click=\"$store.commit('createEmptyPhyloref')\"\n        >\n          <em>Add phyloreference</em>\n        </a>\n      </div>\n    </div>\n\n    <!-- Sidebar section: list of phylogenies in PHYX file -->\n    <div class=\"card mt-2 bg-dark\">\n      <div class=\"list-group list-group-flush\">\n        <a\n          href=\"javascript: void(0)\"\n          class=\"list-group-item list-group-item-action bg-dark text-light disabled\"\n        >\n          Phylogenies\n        </a>\n        <a\n          v-for=\"(phylogeny, phylogenyIndex) of phylogenies\"\n          href=\"javascript: void(0)\"\n          class=\"h6 list-group-item list-group-item-action border-dark\"\n          :class=\"{active: selectedPhylogeny === phylogeny}\"\n          @click=\"$store.commit('changeDisplay', {phylogeny})\"\n        >\n          {{ phylogeny.label || `Phylogeny ${phylogenyIndex + 1}` }}\n\n          <!-- Add a warning if this phylogeny has changed -->\n          <ModifiedIcon\n            message=\"This phylogeny has been modified after it was loaded! Use 'Save' to save your changes.\"\n            :compare=\"phylogeny\"\n            :compare-to=\"loadedPhyx.phylogenies[phylogenyIndex]\"\n          />\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action border-dark\"\n          href=\"javascript: void(0)\"\n          @click=\"$store.commit('createEmptyPhylogeny')\"\n        >\n          <em>Add phylogeny</em>\n        </a>\n        <a\n          class=\"list-group-item list-group-item-action\"\n          href=\"javascript: void(0)\"\n          @click=\"$store.dispatch('createPhylogenyFromOpenTree')\"\n        >\n          <em>Add Open Tree of Life phylogeny</em>\n        </a>\n      </div>\n    </div>\n  </div><!-- End of sidebar -->\n</template>\n\n<script>\n/*\n * Creates the sidebar that displays:\n *  - Menu items (save, load, reason)\n *  - A list of all phyloreferences and a button to add more phylorefs.\n *  - A list of all phylogenies and a button to add more phylogenies.\n */\n\nimport Vue from 'vue';\nimport { has } from 'lodash';\nimport { mapState, mapGetters } from 'vuex';\nimport { saveAs } from 'filesaver.js-npm';\nimport { signer } from 'x-hub-signature';\nimport zlib from 'zlib';\n\nimport { PhyxWrapper, PhylorefWrapper, TaxonomicUnitWrapper } from '@phyloref/phyx';\n\nimport ModifiedIcon from '../icons/ModifiedIcon.vue';\n\nexport default {\n  name: 'Sidebar',\n  components: {\n    ModifiedIcon,\n  },\n  data() {\n    return {\n      reasoningInProgress: false, // Set when reasoning is in progress.\n    };\n  },\n  computed: {\n    downloadFilenameForPhyx() {\n      return this.$store.getters.getDownloadFilenameForPhyx;\n    },\n    examplePHYXURLs() {\n      // Returns a list of example files to display in the \"Examples\" menu.\n      return [\n        {\n          url: 'examples/brochu_2003.json',\n          title: 'Brochu 2003',\n        },\n      ];\n    },\n    ...mapGetters([\n      'phyxTitle',\n    ]),\n    ...mapState({\n      phyx: state => state.phyx,\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      phylorefs: state => state.phyx.currentPhyx.phylorefs,\n      phylogenies: state => state.phyx.currentPhyx.phylogenies,\n      selectedPhyloref: state => state.ui.display.phyloref,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n      selectedSpecifier: state => state.ui.display.specifier,\n    }),\n  },\n  methods: {\n    getSpecifierLabel(specifier) {\n      // Get the label for a particular specifier.\n      // TODO: We need to include verbatimSpecifier first because of\n      // https://github.com/phyloref/phyx.js/issues/14\n      return specifier.verbatimSpecifier || new TaxonomicUnitWrapper(specifier).label || 'Undefined specifier';\n    },\n\n    promptAndSetDict(message, dict, key) {\n      // Given a dictionary and key, we prompt the user (using window.prompt)\n      // to provide a new value for that dictionary and key. If one is provided,\n      // we replace it.\n      const response = window.prompt(message, dict[key]);\n      if (response !== undefined && response !== null) Vue.set(dict, key, response);\n    },\n\n    loadPhyxFromURL(url) {\n      // Change the current PHYX to that in the provided URL.\n\n      // Is the user sure that they want to do this?\n      if (this.$store.getters.loadedPhyxChanged) {\n        if (!confirm('The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?')) {\n          return;\n        }\n      }\n\n      $.getJSON(url)\n        .done((data) => {\n          this.$store.commit('setCurrentPhyx', data);\n          this.$store.commit('setLoadedPhyx', data);\n          // Reset the display.\n          this.$store.commit('changeDisplay', {});\n        })\n        .fail((error) => {\n          if (error.status === 200) {\n            alert(`Could not load PHYX file '${url}': file malformed, see console for details.`);\n          } else {\n            alert(`Could not load PHYX file '${url}': server error ${error.status} ${error.statusText}`);\n          }\n          // throw new Error(`Could not load PHYX file ${url}: ${error}`);\n        });\n    },\n\n    loadPhyxFromFileInputById(fileInputId) {\n      //\n      // Load a JSON file from the local file system using FileReader. fileInput\n      // needs to be an HTML element representing an <input type=\"file\"> in which\n      // the user has selected the local file they wish to load.\n      //\n      // This code is based on https://stackoverflow.com/a/21446426/27310\n\n      if (typeof window.FileReader !== 'function') {\n        alert('The FileReader API is not supported on this browser.');\n        return;\n      }\n\n      const $fileInput = $(fileInputId);\n      if (!$fileInput) {\n        alert('Programmer error: No file input element specified.');\n        return;\n      }\n\n      if (!$fileInput.prop('files')) {\n        alert('File input element found, but files property missing: try another browser?');\n        return;\n      }\n\n      if (!$fileInput.prop('files')[0]) {\n        alert('Please select a file before attempting to load it.');\n        return;\n      }\n\n      // Is the user sure that they want to do this?\n      if (this.$store.getters.loadedPhyxChanged) {\n        if (!confirm('The current Phyx file has been modified! Are you sure you want to discard these changes by loading another file?')) {\n          return;\n        }\n      }\n\n      const [file] = $fileInput.prop('files');\n      const fr = new FileReader();\n      fr.onload = ((e) => {\n        const lines = e.target.result;\n        const phyx = JSON.parse(lines);\n\n        this.$store.commit('setCurrentPhyx', phyx);\n        this.$store.commit('setLoadedPhyx', phyx);\n\n        // Reset the display.\n        this.$store.commit('changeDisplay', {});\n      });\n      fr.readAsText(file);\n    },\n\n    downloadAsJSON() {\n      // Provide the JSON file as a download to the browser.\n      const content = [JSON.stringify(this.$store.state.phyx.currentPhyx, undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonFile = new File(content, `${this.downloadFilenameForPhyx}.json`, { type: 'application/json;charset=utf-8' });\n      saveAs(jsonFile, `${this.downloadFilenameForPhyx}.json`);\n\n      // saveAs(jsonFile) doesn't report on whether the user accepted the download\n      // or not. We assume, possibly incorrectly, that they did and that the\n      // current JSON content has been saved. We therefore reset testcaseAsLoaded\n      // so we can watch for other changes.\n      //\n      // A more sophisticated API like https://github.com/jimmywarting/StreamSaver.js\n      // might be able to let us know if the file was saved correctly.\n      //\n      // Deep-copy the testcase into a 'testcaseAsLoaded' variable in our\n      // model. We deep-compare this.testcase with this.testcaseAsLoaded to\n      // determine if the loaded model has been modified.\n      this.$store.commit('setLoadedPhyx');\n    },\n\n    downloadAsJSONLD() {\n      // Exports the PHYX file as an OWL/JSON-LD file, which can be opened in\n      // Protege or converted into OWL/XML or other formats.\n      const wrapped = new PhyxWrapper(this.$store.state.phyx.currentPhyx);\n      const content = [JSON.stringify([wrapped.asJSONLD()], undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonldFile = new File(content, `${this.downloadFilenameForPhyx}.jsonld`, { type: 'application/json;charset=utf-8' });\n      saveAs(jsonldFile, `${this.downloadFilenameForPhyx}.jsonld`);\n    },\n\n    downloadAsNQuads() {\n      // Exports the PHYX file as an OWL/N-Quads file, which can be opened in\n      // Protege or converted into other RDF formats.\n      const wrapped = new PhyxWrapper(this.$store.state.phyx.currentPhyx);\n\n      // TODO: we need a baseIRI here because of https://github.com/phyloref/phyx.js/issues/113\n      // Once that is fixed in phyx.js, we can remove it here.\n      wrapped.toRDF('https://example.phyloref.org/phyx#').then((content) => {\n        // Save to local hard drive.\n        const nqFile = new File([content], `${this.downloadFilenameForPhyx}.owl`, { type: 'application/n-quads;charset=utf-8' });\n        saveAs(nqFile, `${this.downloadFilenameForPhyx}.owl`);\n      });\n    },\n\n    reasonOverPhyloreferences() {\n      // Reason over all the phyloreferences and store the results on\n      // the Vue model at vm.reasoningResults so we can access them.\n\n      // Are we already reasoning? If so, ignore.\n      if (this.reasoningInProgress) return;\n\n      // Reset the existing reasoning information.\n      this.$store.commit('setReasoningResults', undefined);\n\n      // Disable \"Reason\" buttons so they can't be reused.\n      this.reasoningInProgress = true;\n\n      // Make sure that the Reason button is updated before we convert the Phyx\n      // file into JSON-LD.\n      const outerThis = this;\n      Vue.nextTick(() => {\n        // Prepare JSON-LD file for submission.\n        const jsonld = JSON.stringify([new PhyxWrapper(\n          outerThis.$store.state.phyx.currentPhyx,\n          d3.layout.newick_parser,\n        ).asJSONLD()]);\n\n        // To improve upload speed, let's Gzip the file before upload.\n        const jsonldGzipped = zlib.gzipSync(jsonld);\n\n        // Prepare request for submission.\n        const query = $.param({\n          // Convert Gzipped data into a string in Base64.\n          jsonldGzipped: Buffer.from(jsonldGzipped).toString('base64'),\n        }).replace(/%20/g, '+'); // $.post will do this automatically,\n        // but we need to do this here so our\n        // signature works.\n\n        // Sign it with an X-Hub-Signature.\n        const sign = signer({\n          algorithm: 'sha1',\n          secret: outerThis.$config.JPHYLOREF_X_HUB_SIGNATURE_SECRET,\n        });\n        const signature = sign(new Buffer(query));\n\n        console.log('Query: ', query);\n        console.log('Signature: ', signature);\n\n        $.post({\n          url: outerThis.$config.JPHYLOREF_SUBMISSION_URL,\n          data: query,\n          headers: {\n            'X-Hub-Signature': signature,\n          },\n        }).done((data) => {\n          outerThis.$store.commit('setReasoningResults', data);\n          // console.log('Data retrieved: ', data);\n        }).fail((jqXHR, textStatus, errorThrown) => {\n          // We can try using the third argument, but it appears to be the\n          // HTTP status (e.g. 'Internal Server Error'). So we default to that,\n          // but look for a better one in the JSON response from the server, if\n          // available.\n          let error = errorThrown;\n          if (has(jqXHR, 'responseJSON') && has(jqXHR.responseJSON, 'error')) {\n            error = jqXHR.responseJSON.error;\n          }\n\n          if (error === undefined || error === '') error = 'unknown error';\n          alert(`Error occurred on server while reasoning: ${error}`);\n        }).always(() => {\n          // Reset \"Reasoning\" buttons to their usual state.\n          outerThis.reasoningInProgress = false;\n        });\n      });\n    },\n  },\n};\n</script>\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=template&id=29d5459b&\"","<template>\n  <div>\n    <!-- Add a warning if this phylogeny has changed -->\n    <ModifiedCard\n      message=\"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.\"\n      :compare=\"selectedPhylogeny\"\n      :compare-to=\"loadedPhyx.phylogenies[currentPhyx.phylogenies.indexOf(selectedPhylogeny)]\"\n    />\n\n    <div class=\"card\">\n      <h5 class=\"card-header\">\n        Phylogeny information\n      </h5>\n      <div class=\"card-body\">\n        <form>\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyId\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Identifier\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phylogenyId\"\n                v-model=\"phylogenyId\"\n                type=\"text\"\n                class=\"form-control\"\n                :class=\"{'border-danger': phylogenyIdError}\"\n                placeholder=\"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'\"\n              >\n              <p\n                v-if=\"phylogenyIdError\"\n                class=\"form-text text-danger\"\n              >\n                {{ phylogenyIdError }}\n              </p>\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyLabel\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Label\n            </label>\n            <div class=\"col-md-10\">\n              <input\n                id=\"phylogenyLabel\"\n                v-model.trim=\"phylogenyLabel\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter phylogeny name\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              for=\"phylogenyDescription\"\n              class=\"col-md-2 col-form-label\"\n            >\n              Description\n            </label>\n            <div class=\"col-md-10\">\n              <textarea\n                id=\"phylogenyDescription\"\n                v-model.trim=\"phylogenyDescription\"\n                type=\"text\"\n                class=\"form-control\"\n                placeholder=\"Enter phylogeny description\"\n              />\n            </div>\n          </div>\n\n          <!-- Primary reference phylogeny -->\n          <Citation\n            label=\"Primary reference phylogeny\"\n            :object=\"selectedPhylogeny\"\n            citation-key=\"primaryPhylogenyCitation\"\n          />\n\n          <!-- Other reference phylogeny -->\n          <Citation\n            label=\"Reference phylogeny\"\n            :object=\"selectedPhylogeny\"\n            citation-key=\"phylogenyCitation\"\n          />\n\n          <div class=\"form-group row\">\n            <label\n              for=\"newick\"\n              class=\"col-md-2 control-label\"\n            >\n              Newick\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <textarea\n                v-model.lazy=\"phylogenyNewick\"\n                rows=\"5\"\n                class=\"form-control\"\n                placeholder=\"Enter Newick string for phylogeny here\"\n              />\n            </div>\n          </div>\n        </form>\n      </div>\n    </div>\n\n    <!-- Display the list of errors encountered when parsing this Newick string -->\n    <div\n      v-if=\"phylogenyNewickErrors.length !== 0\"\n      class=\"card border-dark mt-2\"\n    >\n      <h5 class=\"card-header bg-danger\">\n        Errors occurred while parsing Newick string\n      </h5>\n      <div class=\"card-body\">\n        <template v-for=\"(error, errorIndex) of phylogenyNewickErrors\">\n          <p><strong>{{ error.title }}.</strong> {{ error.message }}</p>\n        </template>\n      </div>\n    </div>\n\n    <!-- Display the phylogeny (unless there were Newick parsing errors) -->\n    <div\n      v-if=\"phylogenyNewickErrors.length === 0\"\n      class=\"card mt-2\"\n    >\n      <h5 class=\"card-header\">\n        Phylogeny visualization\n      </h5>\n      <div class=\"card-body\">\n        <Phylotree\n          :phylogeny=\"selectedPhylogeny\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * This view displays a phylogeny and changes its title or Newick string.\n */\n\nimport { has } from 'lodash';\nimport { mapState } from 'vuex';\nimport { parse as parseNewick } from 'newick-js';\n\nimport ModifiedCard from '../cards/ModifiedCard.vue';\nimport Phylotree from './Phylotree.vue';\nimport Citation from '../citations/Citation.vue';\n\nexport default {\n  name: 'PhylogenyView',\n  components: { ModifiedCard, Phylotree, Citation },\n  data() {\n    return {\n      // Errors in the phylogenyId field.\n      phylogenyIdError: undefined,\n    };\n  },\n  computed: {\n    /*\n     * The following properties allow you to get or set the phylogeny label,\n     * description or newick string.\n     */\n    phylogenyId: {\n      // The phylogeny identifier; either a global identifier like http://doi.org/10.3014/3\n      // or a local identifier like #phylogeny1.\n      get() { return this.$store.getters.getPhylogenyId(this.selectedPhylogeny); },\n      set(id) {\n        try {\n          this.$store.dispatch('changePhylogenyId', { phylogeny: this.selectedPhylogeny, phylogenyId: id });\n        } catch (err) {\n          // If there was an error in setting phylogeny id, report that to the user.\n          this.phylogenyIdError = err;\n          return false;\n        }\n        // Clear previous phylogeny id errors.\n        this.phylogenyIdError = undefined;\n        return true;\n      },\n    },\n    phylogenyLabel: {\n      get() { return this.selectedPhylogeny.label; },\n      set(label) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, label }); },\n    },\n    phylogenyDescription: {\n      get() { return this.selectedPhylogeny.description; },\n      set(description) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, description }); },\n    },\n    phylogenyNewick: {\n      get() { return this.selectedPhylogeny.newick || '()'; },\n      set(newick) { this.$store.commit('setPhylogenyProps', { phylogeny: this.selectedPhylogeny, newick }); },\n    },\n    phylogenyNewickErrors() {\n      // Given a Newick string, return a list of errors found in parsing this\n      // string. The errors are returned as a list of objects, each of which\n      // has two properties:\n      //  - title: A short title of the error, distinct for each type of error.\n      //  - message: A longer description of the error, which might include\n      //    information specific to a particular error.\n      //\n      // We try to order errors from most helpful ('Unbalanced parentheses in\n      // Newick string') to least helpful ('Error parsing phylogeny').\n      if (!has(this.selectedPhylogeny, 'newick')) return [];\n      const newickTrimmed = this.selectedPhylogeny.newick.trim();\n      const errors = [];\n\n      // Look for an empty Newick string.\n      if (newickTrimmed === '' || newickTrimmed === '()' || newickTrimmed === '();') {\n        // None of the later errors are relevant here, so bail out now.\n        return [{\n          title: 'No phylogeny entered',\n          message: 'Click on \"Edit as Newick\" to enter a phylogeny below.',\n        }];\n      }\n\n      // Look for an unbalanced Newick string.\n      let parenLevels = 0;\n      for (let x = 0; x < newickTrimmed.length; x += 1) {\n        if (newickTrimmed[x] === '(') parenLevels += 1;\n        if (newickTrimmed[x] === ')') parenLevels -= 1;\n      }\n\n      if (parenLevels !== 0) {\n        errors.push({\n          title: 'Unbalanced parentheses in Newick string',\n          message: (parenLevels > 0\n            ? `You have ${parenLevels} too many open parentheses`\n            : `You have ${-parenLevels} too few open parentheses`\n          ),\n        });\n      }\n\n      // Finally, try parsing it with parseNewick and see if we get an error.\n      try {\n        parseNewick(newickTrimmed);\n      } catch (ex) {\n        errors.push({\n          title: 'Error parsing phylogeny',\n          message: `An error occured while parsing this phylogeny: ${ex.message}`,\n        });\n      }\n\n      return errors;\n    },\n    ...mapState({\n      currentPhyx: state => state.phyx.currentPhyx,\n      loadedPhyx: state => state.phyx.loadedPhyx,\n      selectedPhylogeny: state => state.ui.display.phylogeny,\n    }),\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=script&lang=js&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Phylotree.vue?vue&type=style&index=0&id=4ca24e9a&prod&lang=css&\"","/*\n * Store module for modifying phylogenies.\n */\n\nimport Vue from 'vue';\nimport { has, keys, cloneDeep } from 'lodash';\n\nexport default {\n  mutations: {\n    setPhylogenyProps(state, payload) {\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('setPhylogenyProps needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n      if (has(payload, 'label')) {\n        Vue.set(payload.phylogeny, 'label', payload.label);\n      }\n      if (has(payload, 'description')) {\n        Vue.set(payload.phylogeny, 'description', payload.description);\n      }\n      if (has(payload, 'newick')) {\n        Vue.set(payload.phylogeny, 'newick', payload.newick);\n      }\n      if (has(payload, '@id')) {\n        Vue.set(payload.phylogeny, '@id', payload['@id']);\n      }\n    },\n  },\n  actions: {\n    changePhylogenyId(context, payload) {\n      // When changing a phylogeny ID, care needs to be taken to ensure that:\n      //  (1) duplicate phylogeny IDs are not created within the same file, and\n      //  (2) all current references to this phylogeny continue to make sense.\n\n      // Check arguments.\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('changePhylogenyId needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n\n      if (!has(payload, 'phylogenyId')) {\n        throw new Error('changePhylogenyId needs a new phylogeny ID using the \"phylogenyId\" argument');\n      }\n\n      // What was the previous phylogeny ID?\n      const oldPhylogenyId = context.rootGetters.getPhylogenyId(payload.phylogeny);\n\n      // No need to do anything if they haven't changed.\n      if (oldPhylogenyId === payload.phylogenyId) return;\n\n      // Do any of our current phylogenies have this ID?\n      const phylogenyWithDuplicateID = context.rootState.phyx.currentPhyx.phylogenies.find(phylogeny => has(phylogeny, '@id') && phylogeny['@id'] === payload.phylogenyId);\n      if (phylogenyWithDuplicateID) {\n        throw new Error(`Attempt to change ${oldPhylogenyId} to ${payload.phylogenyId} failed: duplicate phylogeny ID detected.`);\n      }\n\n      // If any phyloreferences refer to oldPhylogenyId, replace it with\n      // references to the new phylogenyId.\n      context.rootState.phyx.currentPhyx.phylorefs.forEach((phyloref) => {\n        if (has(phyloref.expectedResolution || {}, oldPhylogenyId)) {\n          // Copy the expected resolution of oldPhylogenyId into the new phylogenyId.\n          context.commit('setPhylorefProps', {\n            phyloref,\n            phylogenyId: payload.phylogenyId,\n            expectedResolution: phyloref.expectedResolution[oldPhylogenyId],\n          });\n          // Delete the expected resolution of oldPhylogenyId.\n          context.commit('setPhylorefProps', {\n            phyloref,\n            phylogenyId: oldPhylogenyId,\n            expectedResolution: undefined,\n          });\n        }\n      });\n\n      // Change the phylogeny.\n      context.commit('setPhylogenyProps', {\n        phylogeny: payload.phylogeny,\n        '@id': payload.phylogenyId,\n      });\n    },\n  },\n};\n","<template>\n  <!-- About-us modal dialog box: acknowledges funding and links to libraries used -->\n  <div\n    id=\"about-curation-tool\"\n    class=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n  >\n    <div\n      class=\"modal-dialog\"\n      role=\"document\"\n    >\n      <div class=\"modal-content\">\n        <!-- Header of tunit editor modal dialog box -->\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\n            About this tool\n          </h5>\n          <button\n            type=\"button\"\n            class=\"close\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n            <span aria-hidden=\"true\">\n              &times;\n            </span>\n          </button>\n        </div>\n\n        <!-- Body of the about-us modal dialog -->\n        <div class=\"modal-body col-md-12\">\n          <p>\n            Klados was built as part of the\n            <a href=\"https://www.phyloref.org\">\n              Phyloreferencing project\n            </a>,\n            funded by the US National Science Foundation through collaborative\n            grants <a href=\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484\">\n              DBI-1458484\n            </a>\n            and <a href=\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604\">\n              DBI-1458604\n            </a>.\n            See <a href=\"http://www.phyloref.org/about/#funding\">\n              Funding\n            </a> for details.\n          </p>\n\n          <p>Klados uses a number of open-source libraries, including:</p>\n\n          <ul>\n            <li>\n              <a href=\"https://cli.vuejs.org/\">\n                Vue CLI 3\n              </a>\n            </li>\n            <li>\n              <a href=\"https://getbootstrap.com/\">\n                Bootstrap\n              </a>\n            </li>\n            <li>\n              <a href=\"https://jquery.com/\">\n                jQuery\n              </a>\n            </li>\n            <li>\n              <a href=\"https://github.com/veg/phylotree.js\">\n                phylotree.js\n              </a>,\n              published as <a href=\"https://doi.org/10.1186/s12859-018-2283-2\">\n                Shank <em>et al</em>, 2018\n              </a>\n            </li>\n            <li>\n              <a href=\"https://d3js.org/\">\n                D3.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://momentjs.com/\">\n                Moment.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://github.com/eligrey/FileSaver.js\">\n                FileSaver.js\n              </a>\n            </li>\n            <li>\n              <a href=\"https://fontawesome.com/\">\n                Font Awesome\n              </a>\n            </li>\n          </ul>\n        </div>\n\n        <!-- Footer of the about-us modal dialog -->\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-dismiss=\"modal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * A modal for displaying information about Klados\n */\n\nexport default {\n  name: 'AboutCurationToolModal',\n};\n</script>\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Specifier.vue?vue&type=template&id=45ac9538&\"","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=template&id=ae9cde0e&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('ModifiedCard',{attrs:{\"message\":\"This phylogeny has been modified since being loaded. Use 'Save' to save your changes.\",\"compare\":_vm.selectedPhylogeny,\"compare-to\":_vm.loadedPhyx.phylogenies[_vm.currentPhyx.phylogenies.indexOf(_vm.selectedPhylogeny)]}}),_c('div',{staticClass:\"card\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phylogeny information\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('form',[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyId\"}},[_vm._v(\"\\n            Identifier\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.phylogenyId),expression:\"phylogenyId\"}],staticClass:\"form-control\",class:{'border-danger': _vm.phylogenyIdError},attrs:{\"id\":\"phylogenyId\",\"type\":\"text\",\"placeholder\":\"A global or local identifier for this phylogeny, e.g. 'http://doi.org/10.13/49#12' or '#phylogeny1'\"},domProps:{\"value\":(_vm.phylogenyId)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phylogenyId=$event.target.value}}}),(_vm.phylogenyIdError)?_c('p',{staticClass:\"form-text text-danger\"},[_vm._v(\"\\n              \"+_vm._s(_vm.phylogenyIdError)+\"\\n            \")]):_vm._e()])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyLabel\"}},[_vm._v(\"\\n            Label\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phylogenyLabel),expression:\"phylogenyLabel\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"phylogenyLabel\",\"type\":\"text\",\"placeholder\":\"Enter phylogeny name\"},domProps:{\"value\":(_vm.phylogenyLabel)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phylogenyLabel=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 col-form-label\",attrs:{\"for\":\"phylogenyDescription\"}},[_vm._v(\"\\n            Description\\n          \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.phylogenyDescription),expression:\"phylogenyDescription\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"id\":\"phylogenyDescription\",\"type\":\"text\",\"placeholder\":\"Enter phylogeny description\"},domProps:{\"value\":(_vm.phylogenyDescription)},on:{\"input\":function($event){if($event.target.composing)return;_vm.phylogenyDescription=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_c('Citation',{attrs:{\"label\":\"Primary reference phylogeny\",\"object\":_vm.selectedPhylogeny,\"citation-key\":\"primaryPhylogenyCitation\"}}),_c('Citation',{attrs:{\"label\":\"Reference phylogeny\",\"object\":_vm.selectedPhylogeny,\"citation-key\":\"phylogenyCitation\"}}),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-md-2 control-label\",attrs:{\"for\":\"newick\"}},[_vm._v(\"\\n            Newick\\n          \")]),_c('div',{staticClass:\"col-md-10 input-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.phylogenyNewick),expression:\"phylogenyNewick\",modifiers:{\"lazy\":true}}],staticClass:\"form-control\",attrs:{\"rows\":\"5\",\"placeholder\":\"Enter Newick string for phylogeny here\"},domProps:{\"value\":(_vm.phylogenyNewick)},on:{\"change\":function($event){_vm.phylogenyNewick=$event.target.value}}})])])],1)])]),(_vm.phylogenyNewickErrors.length !== 0)?_c('div',{staticClass:\"card border-dark mt-2\"},[_c('h5',{staticClass:\"card-header bg-danger\"},[_vm._v(\"\\n      Errors occurred while parsing Newick string\\n    \")]),_c('div',{staticClass:\"card-body\"},[_vm._l((_vm.phylogenyNewickErrors),function(error,errorIndex){return [_c('p',[_c('strong',[_vm._v(_vm._s(error.title)+\".\")]),_vm._v(\" \"+_vm._s(error.message))])]})],2)]):_vm._e(),(_vm.phylogenyNewickErrors.length === 0)?_c('div',{staticClass:\"card mt-2\"},[_c('h5',{staticClass:\"card-header\"},[_vm._v(\"\\n      Phylogeny visualization\\n    \")]),_c('div',{staticClass:\"card-body\"},[_c('Phylotree',{attrs:{\"phylogeny\":_vm.selectedPhylogeny}})],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export * from \"-!../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopNavigationBar.vue?vue&type=template&id=0af6b974&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylorefView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Phylotree.vue?vue&type=template&id=4ca24e9a&\"\nimport script from \"./Phylotree.vue?vue&type=script&lang=js&\"\nexport * from \"./Phylotree.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Phylotree.vue?vue&type=style&index=0&id=4ca24e9a&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./Specifier.vue?vue&type=template&id=45ac9538&\"\nimport script from \"./Specifier.vue?vue&type=script&lang=js&\"\nexport * from \"./Specifier.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Specifier.vue?vue&type=style&index=0&id=45ac9538&prod&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedIcon.vue?vue&type=script&lang=js&\"","<template>\n  <div\n    v-if=\"dataChanged\"\n    class=\"card mb-2 border-dark\"\n  >\n    <div class=\"card-body bg-warning\">\n      {{ message }}\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Creates a card with a warning if a variable has changed in value as compared\n * to a comparison object.\n *\n * If/when we need to create more kinds of warning cards, we'll probably spin\n * that off as its own component.\n */\n\nimport { isEqual } from 'lodash';\n\nexport default {\n  name: 'ModifiedCard',\n  props: {\n    message: {\n      type: String,\n      default: 'This element has changed! Please remember to save it.',\n    },\n    compare: Object, /* Object to check for changes. */\n    compareTo: Object, /* Changes will be determined by comparing this to this.compare */\n  },\n  computed: {\n    dataChanged() { return !isEqual(this.compare, this.compareTo); },\n  },\n};\n</script>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('nav',{staticClass:\"navbar navbar-expand navbar-dark bg-dark mb-2 fixed-top\"},[_c('a',{staticClass:\"navbar-brand\",attrs:{\"href\":\"index.html\"}},[_vm._v(\"\\n      Klados\\n    \")]),_c('small',{staticClass:\"text-white\"},[_vm._v(_vm._s(_vm.version))]),_vm._m(0)])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"collapse navbar-collapse\"},[_c('ul',{staticClass:\"navbar-nav\"},[_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"href\":\"#\",\"onclick\":\"$('#about-curation-tool').modal()\"}},[_vm._v(\"\\n            About this tool\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://www.phyloref.org/\"}},[_vm._v(\"\\n            Phyloreferencing website\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/phyloref/curation-tool\"}},[_vm._v(\"\\n            Github repository\\n          \")])]),_c('li',{staticClass:\"nav-item\"},[_c('a',{staticClass:\"nav-link\",attrs:{\"target\":\"_blank\",\"href\":\"https://github.com/phyloref/curation-tool/issues\"}},[_vm._v(\"\\n            Report bug\\n          \")])])])])\n}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PhylogenyView.vue?vue&type=script&lang=js&\"","module.exports = {\n  // URL for submitting jobs to JPhyloRef for processing.\n  JPHYLOREF_SUBMISSION_URL: 'https://reasoner.phyloref.org/reason',\n\n  // X-Hub-Signature secret used to communicate with JPhyloRef.\n  JPHYLOREF_X_HUB_SIGNATURE_SECRET: 'undefined',\n\n  /* Open Tree of Life API endpoints used by Klados */\n  // URL to retrieve information about the Open Tree of Life\n  // (https://github.com/OpenTreeOfLife/germinator/wiki/Synthetic-tree-API-v3#about_tree)\n  OPEN_TREE_ABOUT_URL: 'https://api.opentreeoflife.org/v3/tree_of_life/about',\n\n  // URL to retrieve Open Tree of Life Taxonomy IDs corresponding the given taxon names\n  // (https://github.com/OpenTreeOfLife/germinator/wiki/TNRS-API-v3#match_names)\n  OPEN_TREE_TNRS_MATCH_NAMES_URL: 'https://api.opentreeoflife.org/v3/tnrs/match_names',\n\n  // URL to retrieve the Open Tree of Life synthetic tree induced subtree containing particular\n  // Open Tree Taxonomy IDs\n  // (https://github.com/OpenTreeOfLife/germinator/wiki/Synthetic-tree-API-v3#induced_subtree)\n  OPEN_TREE_INDUCED_SUBTREE_URL: 'https://api.opentreeoflife.org/v3/tree_of_life/induced_subtree',\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _vm._m(0)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"about-curation-tool\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n          About this tool\\n        \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\\n            \\n          \")])])]),_c('div',{staticClass:\"modal-body col-md-12\"},[_c('p',[_vm._v(\"\\n          Klados was built as part of the\\n          \"),_c('a',{attrs:{\"href\":\"https://www.phyloref.org\"}},[_vm._v(\"\\n            Phyloreferencing project\\n          \")]),_vm._v(\",\\n          funded by the US National Science Foundation through collaborative\\n          grants \"),_c('a',{attrs:{\"href\":\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458484\"}},[_vm._v(\"\\n            DBI-1458484\\n          \")]),_vm._v(\"\\n          and \"),_c('a',{attrs:{\"href\":\"http://www.nsf.gov/awardsearch/showAward?AWD_ID=1458604\"}},[_vm._v(\"\\n            DBI-1458604\\n          \")]),_vm._v(\".\\n          See \"),_c('a',{attrs:{\"href\":\"http://www.phyloref.org/about/#funding\"}},[_vm._v(\"\\n            Funding\\n          \")]),_vm._v(\" for details.\\n        \")]),_c('p',[_vm._v(\"Klados uses a number of open-source libraries, including:\")]),_c('ul',[_c('li',[_c('a',{attrs:{\"href\":\"https://cli.vuejs.org/\"}},[_vm._v(\"\\n              Vue CLI 3\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://getbootstrap.com/\"}},[_vm._v(\"\\n              Bootstrap\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://jquery.com/\"}},[_vm._v(\"\\n              jQuery\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/veg/phylotree.js\"}},[_vm._v(\"\\n              phylotree.js\\n            \")]),_vm._v(\",\\n            published as \"),_c('a',{attrs:{\"href\":\"https://doi.org/10.1186/s12859-018-2283-2\"}},[_vm._v(\"\\n              Shank \"),_c('em',[_vm._v(\"et al\")]),_vm._v(\", 2018\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://d3js.org/\"}},[_vm._v(\"\\n              D3.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://momentjs.com/\"}},[_vm._v(\"\\n              Moment.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://github.com/eligrey/FileSaver.js\"}},[_vm._v(\"\\n              FileSaver.js\\n            \")])]),_c('li',[_c('a',{attrs:{\"href\":\"https://fontawesome.com/\"}},[_vm._v(\"\\n              Font Awesome\\n            \")])])])]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n          Close\\n        \")])])])])])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div\n    id=\"advanced-options\"\n    class=\"modal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n  >\n    <div\n      class=\"modal-dialog\"\n      role=\"document\"\n    >\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\">\n            Advanced options\n          </h5>\n          <button\n            type=\"button\"\n            class=\"close\"\n            data-dismiss=\"modal\"\n            aria-label=\"Close\"\n          >\n            <span aria-hidden=\"true\">\n              &times;\n            </span>\n          </button>\n        </div>\n\n        <!-- Body of the about-us modal dialog -->\n        <div class=\"modal-body\">\n          <p>\n            The following is a representation of this PHYX in JSON. You\n            can edit the JSON directly if you like.\n          </p>\n\n          <div\n            v-if=\"JSONParsingError\"\n            class=\"card text-white bg-danger mb-2\"\n          >\n            <div class=\"card-body\">\n              <p class=\"card-text\">\n                This JSON could not be parsed: {{ JSONParsingError }}\n              </p>\n            </div>\n          </div>\n\n          <textarea\n            id=\"test-content\"\n            v-model.lazy=\"phyxAsJSON\"\n            style=\"width: 100%; margin: auto;\"\n            rows=\"10\"\n          />\n        </div>\n        <div class=\"modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn btn-info\"\n            @click=\"downloadAsJSONLD()\"\n          >\n            Download as JSON-LD\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary\"\n            data-dismiss=\"modal\"\n          >\n            Close\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * A modal for displaying advanced options, including:\n *  - An interactive display of the Phyx file as a JSON, allowing it to be edited\n *    directly.\n *  - A download button that allows the JSON-LD file to be downloaded for debugging.\n */\n\nimport { PhyxWrapper } from '@phyloref/phyx';\nimport { saveAs } from 'filesaver.js-npm';\n\nexport default {\n  name: 'AdvancedOptionsPanel',\n  data() {\n    return {\n      JSONParsingError: undefined,\n    };\n  },\n  computed: {\n    phyxAsJSON: {\n      get() {\n        // Return the value of the Phyx file as a JSON string.\n        return JSON.stringify(this.$store.state.phyx.currentPhyx, undefined, 4);\n      },\n      set(value) {\n        // Attempt to parse the JSON string and replace the current test file\n        // with that. Note that this won't reset the loaded Phyx, so will appear\n        // as a change to the file.\n        try {\n          const phyx = JSON.parse(value);\n          this.$store.commit('setCurrentPhyx', phyx);\n          this.JSONParsingError = undefined;\n        } catch (ex) {\n          this.JSONParsingError = ex.message;\n        }\n      },\n    },\n  },\n  methods: {\n    downloadAsJSONLD() {\n      // Exports the PHYX file as an OWL/JSON-LD file, which can be opened in\n      // Protege or converted into OWL/XML or other formats.\n      const wrapped = new PhyxWrapper(this.$store.state.phyx.currentPhyx);\n      const content = [JSON.stringify([wrapped.asJSONLD()], undefined, 4)];\n\n      // Save to local hard drive.\n      const jsonldFile = new File(content, 'download.jsonld', { type: 'application/json;charset=utf-8' });\n      saveAs(jsonldFile);\n    },\n  },\n};\n</script>\n","export * from \"-!../../../node_modules/cache-loader/dist/cjs.js?{\\\"cacheDirectory\\\":\\\"node_modules/.cache/vue-loader\\\",\\\"cacheIdentifier\\\":\\\"5cb81d6d-vue-loader-template\\\"}!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/loaders/templateLoader.js??ref--6!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ModifiedCard.vue?vue&type=template&id=3d1fb5ea&\"","import { render, staticRenderFns } from \"./Sidebar.vue?vue&type=template&id=1cf3bd14&\"\nimport script from \"./Sidebar.vue?vue&type=script&lang=js&\"\nexport * from \"./Sidebar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { render, staticRenderFns } from \"./PhylogenyView.vue?vue&type=template&id=a6b14168&\"\nimport script from \"./PhylogenyView.vue?vue&type=script&lang=js&\"\nexport * from \"./PhylogenyView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * The UI Store module handles UI elements, such as which view is currently\n * displayed.\n */\nimport Vue from 'vue';\n\nexport default {\n  state: {\n    // What should be displayed?\n    display: {\n      phyloref: undefined,\n      phylogeny: undefined,\n      specifier: undefined,\n    },\n  },\n  mutations: {\n    changeDisplay(state, newDisplay) {\n      // Change the main view of the UI to select a particular element.\n      // The new view object should contain some combination of the following keys:\n      //  'phyloref': A phyloreference to display.\n      //  'phylogeny': A phylogeny to display.\n      //  'specifier': A specifier to display.\n      Vue.set(state, 'display', newDisplay);\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.dataChanged)?_c('div',{staticClass:\"float-right\",attrs:{\"title\":_vm.message}},[_c('FontAwesomeIcon',{style:({ color: '#FF8200' }),attrs:{\"size\":\"lg\",\"icon\":\"exclamation-circle\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Sidebar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TopNavigationBar.vue?vue&type=template&id=0af6b974&\"\nimport script from \"./TopNavigationBar.vue?vue&type=script&lang=js&\"\nexport * from \"./TopNavigationBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/*\n * Primary store module for the currently loaded Phyx file. We also keep a copy\n * of the Phyx file as it was loaded, allowing modifications to be noted. This\n * module also stores and resets the reasoning results provided by the JPhyloRef\n * server.\n */\n\nimport Vue from 'vue';\nimport jQuery from 'jquery';\nimport { TaxonNameWrapper, PhylorefWrapper, TaxonConceptWrapper } from '@phyloref/phyx';\nimport {\n  has, cloneDeep, isEqual, keys,\n} from 'lodash';\n\n// Get some configuration settings.\nimport {\n  OPEN_TREE_ABOUT_URL,\n  OPEN_TREE_TNRS_MATCH_NAMES_URL,\n  OPEN_TREE_INDUCED_SUBTREE_URL,\n} from '../../config';\n\nexport default {\n  state: {\n    // The currently loaded Phyx file. All methods modify and change this variable.\n    currentPhyx: {\n      phylorefs: [],\n      phylogenies: [],\n    },\n\n    // A backup copy of the previously loaded Phyx file. Where this differs from\n    // currentPhyx, we know that the user has modified something.\n    loadedPhyx: {\n      phylorefs: [],\n      phylogenies: [],\n    },\n  },\n  getters: {\n    loadedPhyxChanged(state) {\n      return !isEqual(state.currentPhyx, state.loadedPhyx);\n    },\n    getDefaultNomenCodeURI(state) {\n      return state.currentPhyx.defaultNomenclaturalCodeURI\n        || TaxonNameWrapper.UNKNOWN_CODE;\n    },\n    getDownloadFilenameForPhyx(state) {\n      // Return a filename to be used to name downloads of this Phyx document.\n\n      // The default download filename to use if no phylorefs are present.\n      const DEFAULT_DOWNLOAD_FILENAME = 'download';\n\n      if (!state.currentPhyx || !state.currentPhyx.phylorefs) {\n        return DEFAULT_DOWNLOAD_FILENAME;\n      }\n\n      // Determine all phyloref labels in this document. Non-Latin characters will be replaced with '_' to avoid\n      // creating filenames using non-ASCII Unicode characters. As per the UI, unlabeled phylorefs will be referred\n      // to as 'Phyloref 1', 'Phyloref 2', and so on.\n      const phylorefLabels = state.currentPhyx.phylorefs.map((p, index) => (has(p, 'label') ? p.label.replaceAll(/\\W/g, '_') : `Phyloref_${index + 1}`));\n\n      // Construct a download filename depending on the number of phylorefs, which is in the form:\n      // - Phyloref_1\n      // - Phyloref_1_and_Phyloref_2\n      // - Phyloref_1_Phyloref_2_and_Phyloref_3\n      // - Phyloref_1_Phyloref_2_and_2_others\n      // - ...\n      if (phylorefLabels.length === 0) return DEFAULT_DOWNLOAD_FILENAME;\n      if (phylorefLabels.length === 1) return phylorefLabels[0];\n      if (phylorefLabels.length === 2) return `${phylorefLabels[0]}_and_${phylorefLabels[1]}`;\n      if (phylorefLabels.length === 3) return `${phylorefLabels[0]}_${phylorefLabels[1]}_and_${phylorefLabels[2]}`;\n      return `${phylorefLabels[0]}_${phylorefLabels[1]}_and_${phylorefLabels.length - 2}_others`;\n    },\n  },\n  mutations: {\n    setCurrentPhyx(state, phyx) {\n      // Replace the current Phyx file using an object. This method does NOT\n      // update the loaded Phyx file, so these changes are treated as changes\n      // made since the file was last loaded.\n      Vue.set(state, 'currentPhyx', phyx);\n    },\n    setLoadedPhyx(state, phyx) {\n      // Replace the current loaded Phyx file using an object. This also updates\n      // the loaded Phyx, so we can check for changes from the loaded file.\n      //\n      // This can be called without an argument to reset the loaded phyx to be\n      // identical to the current Phyx.\n      if (phyx === undefined || phyx === state.currentPhyx) {\n        // A common error is using the same object as the current Phyx and the\n        // loaded Phyx. In that case, we deep-copy loaded Phyx so that modifying\n        // one won't automatically modify the other.\n        Vue.set(state, 'loadedPhyx', JSON.parse(JSON.stringify(state.currentPhyx)));\n      } else {\n        Vue.set(state, 'loadedPhyx', phyx);\n      }\n    },\n    createEmptyPhyloref(state) {\n      // Create a new, empty phyloreference.\n      state.currentPhyx.phylorefs.push({});\n    },\n    createEmptyPhylogeny(state) {\n      // Create a new, empty phylogeny.\n      state.currentPhyx.phylogenies.push({});\n    },\n    createPhylogeny(state, { phylogeny }) {\n      // Create a new phylogeny based on a particular template.\n      state.currentPhyx.phylogenies.push(phylogeny);\n    },\n    deletePhyloref(state, payload) {\n      // Delete a phyloreference.\n      if (!has(payload, 'phyloref')) {\n        throw new Error('deletePhyloref needs a phyloref to modify using the \"phyloref\" argument');\n      }\n\n      const indexOf = (state.currentPhyx.phylorefs || []).indexOf(payload.phyloref);\n      if (indexOf < 0) throw new Error(`Could not delete unknown phyloref: ${JSON.stringify(payload.phyloref)}`);\n\n      state.currentPhyx.phylorefs.splice(indexOf, 1);\n    },\n    deletePhylogeny(state, payload) {\n      // Delete a phylogeny.\n      if (!has(payload, 'phylogeny')) {\n        throw new Error('deletePhylogeny needs a phylogeny to modify using the \"phylogeny\" argument');\n      }\n\n      const indexOf = (state.currentPhyx.phylogenies || []).indexOf(payload.phylogeny);\n      if (indexOf < 0) throw new Error(`Could not delete unknown phylogeny: ${JSON.stringify(payload.phylogeny)}`);\n\n      state.currentPhyx.phylogenies.splice(indexOf, 1);\n    },\n    setDefaultNomenCodeURI(state, payload) {\n      if (!has(payload, 'defaultNomenclaturalCodeURI')) {\n        throw new Error('No default nomenclatural code URI provided to setDefaultNomenCodeURI');\n      }\n\n      Vue.set(state.currentPhyx, 'defaultNomenclaturalCodeURI', payload.defaultNomenclaturalCodeURI);\n    },\n    duplicatePhyloref(state, payload) {\n      if (!has(payload, 'phyloref')) {\n        throw new Error('duplicatePhyloref needs a phyloref to duplicate using the \"phyloref\" argument');\n      }\n\n      let indexOf = (state.currentPhyx.phylorefs || []).indexOf(payload.phyloref);\n      if (indexOf < 0) indexOf = state.currentPhyx.phylorefs.length;\n      state.currentPhyx.phylorefs.splice(indexOf, 0, cloneDeep(payload.phyloref));\n    },\n    setCurator(state, payload) {\n      // Set the curator name, e-mail address or (eventually) ORCID.\n      if (has(payload, 'name')) Vue.set(state.currentPhyx, 'curator', payload.name);\n      if (has(payload, 'email')) Vue.set(state.currentPhyx, 'curatorEmail', payload.email);\n      if (has(payload, 'orcid')) Vue.set(state.currentPhyx, 'curatorORCID', payload.orcid);\n    },\n  },\n  actions: {\n    createPhylogenyFromOpenTree({ commit, state }) {\n      // Create a new, empty phylogeny from the Open Tree of Life using the /induced_subtree endpoint\n      // at https://github.com/OpenTreeOfLife/germinator/wiki/Synthetic-tree-API-v3#induced_subtree\n\n      function createOTTPhylogenyWithCitation(phylogeny) {\n        // Create an OTT phylogeny after querying for the synthetic tree ID.\n        jQuery.ajax({\n          type: 'POST',\n          url: OPEN_TREE_ABOUT_URL,\n          dataType: 'json',\n          error: err => console.log('Could not retrieve Open Tree of Life /about information: ', err),\n          success: (data) => {\n            // Citation as per https://tree.opentreeoflife.org/about/open-tree-of-life, retrieved March 30, 2022.\n            const citation = {\n              type: 'misc',\n              authors: [\n                {\n                  name: 'OpenTree et al',\n                },\n              ],\n              year: data.date_created.substring(0, 4) || new Date().getFullYear(),\n              title: `Open Tree of Life synthetic tree ${data.synth_id || '(unknown synthetic tree version)'} using taxonomy ${data.taxonomy_version || '(unknown taxonomy version)'}`,\n              link: [\n                {\n                  url: 'https://doi.org/10.5281/zenodo.3937741',\n                },\n              ],\n            };\n\n            // Add the citation to the provided phylogeny.\n            const citedPhylogeny = {\n              phylogenyCitation: citation,\n              ...phylogeny,\n            };\n\n            // Now create this phylogeny via Vue.\n            commit('createPhylogeny', { phylogeny: citedPhylogeny });\n          },\n        });\n      }\n\n      // Step 1. Get a list of all taxon names used across all phyloreferences.\n      const taxonConceptNames = (state.currentPhyx.phylorefs || [])\n        .map(phyloref => new PhylorefWrapper(phyloref))\n        .flatMap(wrappedPhyloref => wrappedPhyloref.specifiers)\n        .map(specifier => new TaxonConceptWrapper(specifier))\n        .map(wrappedTC => wrappedTC.nameComplete)\n        .filter(name => name); // Eliminate blank and undefined names\n\n      // Note that we don't assume that these names are at any particular taxonomic level;\n      // thus, if \"Amphibia\" is used as a specifier, we will include Amphibia in the generated\n      // phylogeny.\n\n      if (taxonConceptNames.length === 0) {\n        // If no taxon names are used in any phyloreferences -- if they use non-taxon-name\n        // identifiers or if there are no phyloreferences, say -- we create a new phylogeny\n        // named \"Open Tree of Life\" with a description that tells the user what happened.\n        createOTTPhylogenyWithCitation({\n          label: 'Open Tree of Life',\n          description: 'Attempt to load Open Tree of Life tree failed: no taxon name specifiers present.',\n          newick: '()',\n        });\n        return;\n      }\n\n      // Step 2. Convert the list of taxonomic names into a list of OTT IDs.\n      const namesToQuery = Array.from(new Set(taxonConceptNames));\n\n      // The following method sometimes returns a Promise and sometimes returns nothing,\n      // so it's not a consistent return.\n      // eslint-disable-next-line consistent-return\n      return jQuery.ajax({\n        type: 'POST',\n        url: OPEN_TREE_TNRS_MATCH_NAMES_URL,\n        data: JSON.stringify({ names: namesToQuery }),\n        contentType: 'application/json; charset=utf-8',\n        dataType: 'json',\n        error: err => console.log('Error accessing Open Tree Taxonomy match_names: ', err),\n        success: (data) => {\n          // Go through the `matches` in the returned `results` and pull out the OTT IDs.\n          const ottIds = (data.results || [])\n            .flatMap(r => (r.matches || [])\n              .flatMap((m) => {\n                if ('taxon' in m && 'ott_id' in m.taxon) return [m.taxon.ott_id];\n                return [];\n              }));\n\n          // Try to retrieve the induced subtree including these OTT IDs.\n          return jQuery.ajax({\n            type: 'POST',\n            url: OPEN_TREE_INDUCED_SUBTREE_URL,\n            data: JSON.stringify({\n              ott_ids: ottIds,\n            }),\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json',\n            success: (innerData) => {\n              // If successful, we get back the induced tree as a Newick string.\n              // We use that to create a new phylogeny labeled \"Open Tree of Life\".\n              createOTTPhylogenyWithCitation({\n                label: 'Open Tree of Life',\n                description: `This phylogeny was generated from the Open Tree of Life based on the following studies: ${innerData.supporting_studies}`,\n                newick: innerData.newick,\n              });\n            },\n          }).fail((err) => {\n            // If some OTT ids were not found on the synthetic tree, the OTT API\n            // will return a list of nodes that could not be matched. We can remove\n            // these OTT ids from our list of queries and try again.\n            const regexErrorMessage = /^\\[\\/v3\\/tree_of_life\\/induced_subtree\\] Error: node_id '\\w+' was not found!/;\n            if (regexErrorMessage.test(err.responseJSON.message)) {\n              // Step 3. If the response includes node-not-found errors, we can re-run the query without\n              // the not-found nodes. The response includes an object that lists failed OTT IDs and the\n              // reason they failed. We report this to the user on the console.\n              const unknownOttIdReasons = err.responseJSON.unknown;\n              console.log('The Open Tree synthetic tree does not contain the following nodes: ', unknownOttIdReasons);\n\n              // Remove the unknown OTT ids from the list of OTT ids to be queried.\n              const knownOttIds = ottIds.filter(id => !has(unknownOttIdReasons, `ott${id}`));\n              console.log('Query has been reduced to the following nodes: ', knownOttIds);\n\n              if (knownOttIds.length === 0) {\n                // It may turn out that ALL the OTT IDs are filtered out, in which case we should produce\n                // a phylogeny for the user with a description that explains what happened.\n                createOTTPhylogenyWithCitation({\n                  label: 'Open Tree of Life',\n                  description: 'Attempt to load Open Tree of Life tree failed, as none of the Open Tree taxonomy IDs'\n                      + ` were present on the synthetic tree: ${JSON.stringify(unknownOttIdReasons, undefined, 4)}`,\n                  newick: '()',\n                });\n              } else {\n                // We have a filtered list of OTT IDs to query. Re-POST the request.\n                jQuery.ajax({\n                  type: 'POST',\n                  url: OPEN_TREE_INDUCED_SUBTREE_URL,\n                  data: JSON.stringify({\n                    ott_ids: knownOttIds,\n                  }),\n                  contentType: 'application/json; charset=utf-8',\n                  dataType: 'json',\n                  error: innerErr => console.log('Error accessing Open Tree induced_subtree: ', innerErr),\n                  success: (innerData) => {\n                    // If we get an induced phylogeny as a Newick string, create a phylogeny with that Newick string.\n                    createOTTPhylogenyWithCitation({\n                      label: 'Open Tree of Life',\n                      description: `This phylogeny was generated from the Open Tree of Life based on the following studies: ${innerData.supporting_studies}`,\n                      newick: innerData.newick,\n                    });\n                  },\n                });\n              }\n            } else {\n              // If we got a different error, record it to the Console for future debugging.\n              console.log('Error accessing Open Tree induced_subtree: ', err);\n            }\n          });\n        },\n      });\n    },\n  },\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Citation.vue?vue&type=script&lang=js&\"","<template>\n  <div class=\"col-md-12\">\n    <div class=\"input-group mb-1\">\n      <div class=\"input-group-prepend\">\n        <button\n          class=\"btn btn-outline-secondary dropdown-toggle\"\n          type=\"button\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          {{ specifierClass }}\n        </button>\n        <div class=\"dropdown-menu\">\n          <!-- TODO: remove external reference as a type and add it in as a separate property. -->\n          <a\n            class=\"dropdown-item\"\n            :class=\"{active: specifierClass === 'Taxon'}\"\n            href=\"javascript:;\"\n            @click=\"specifierClass = 'Taxon'\"\n          >Taxon</a>\n          <a\n            class=\"dropdown-item\"\n            :class=\"{active: specifierClass === 'Specimen'}\"\n            href=\"javascript:;\"\n            @click=\"specifierClass = 'Specimen'\"\n          >Specimen</a>\n          <a\n            class=\"dropdown-item\"\n            :class=\"{active: specifierClass === 'External reference'}\"\n            href=\"javascript:;\"\n            @click=\"specifierClass = 'External reference'\"\n          >External reference</a>\n          <a\n            class=\"dropdown-item\"\n            :class=\"{active: specifierClass === 'Apomorphy'}\"\n            href=\"javascript:;\"\n            @click=\"specifierClass = 'Apomorphy'\"\n          >Apomorphy</a>\n        </div>\n      </div>\n      <div\n        v-if=\"specifierClass === 'Taxon'\"\n        class=\"input-group-prepend\"\n      >\n        <button\n          class=\"btn btn-outline-secondary dropdown-toggle\"\n          type=\"button\"\n          data-toggle=\"dropdown\"\n          aria-haspopup=\"true\"\n          aria-expanded=\"false\"\n        >\n          {{ nomenclaturalCodeObj.shortName }}\n        </button>\n        <div class=\"dropdown-menu\">\n          <a\n            v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n            class=\"dropdown-item\"\n            :class=\"{active: enteredNomenclaturalCode === nomenCode.uri }\"\n            href=\"javascript:;\"\n            @click=\"enteredNomenclaturalCode = nomenCode.uri\"\n          >\n            {{ nomenCode.label }}\n          </a>\n        </div>\n      </div>\n      <input\n        v-model=\"specifierLabel\"\n        type=\"text\"\n        class=\"form-control\"\n      >\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-outline-secondary\"\n          :class=\"{active: expand}\"\n          @click=\"expand = !expand\"\n        >\n          {{ (expand) ? 'Collapse' : 'Expand' }}\n        </button>\n      </div>\n      <div class=\"input-group-append\">\n        <button\n          class=\"btn btn-danger\"\n          @click=\"deleteSpecifier()\"\n        >\n          &times;\n        </button>\n      </div>\n    </div>\n    <div\n      v-if=\"expand\"\n      class=\"card mt-1 mb-3\"\n    >\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">\n          Specifier details\n        </h5>\n\n        <!-- Specifier type: internal or external -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"specifier-type\"\n          >\n            Specifier type\n          </label>\n          <div class=\"col-md-10\">\n            <select\n              id=\"specifier-type\"\n              v-model=\"specifierType\"\n              class=\"form-control\"\n            >\n              <option value=\"Internal\">\n                Internal specifier\n              </option>\n              <option value=\"External\">\n                External specifier\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!-- Verbatim specifier -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"verbatim-specifier\"\n          >\n            Verbatim specifier\n          </label>\n          <div class=\"col-md-10\">\n            <input\n              id=\"verbatim-specifier\"\n              v-model=\"enteredVerbatimLabel\"\n              class=\"form-control\"\n              @change=\"updateSpecifier()\"\n            >\n          </div>\n        </div>\n\n        <!-- Specifier class -->\n        <div class=\"form-group row\">\n          <label\n            class=\"col-form-label col-md-2\"\n            for=\"specifier-class\"\n          >\n            Specifier class\n          </label>\n          <div class=\"col-md-10\">\n            <select\n              id=\"specifier-class\"\n              v-model=\"specifierClass\"\n              class=\"form-control\"\n              @change=\"updateSpecifier()\"\n            >\n              <option value=\"Taxon\">\n                Taxon\n              </option>\n              <option value=\"Specimen\">\n                Specimen\n              </option>\n              <option value=\"External reference\">\n                External reference\n              </option>\n              <option value=\"Apomorphy\">\n                Apomorphy\n              </option>\n            </select>\n          </div>\n        </div>\n\n        <!--\n          We provide three different possible displays for the three different\n          types here\n        -->\n        <template v-if=\"specifierClass === 'Taxon'\">\n          <!-- Specifier class -->\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"nomen-code\"\n            >\n              Nomenclatural code\n            </label>\n            <div class=\"col-md-10\">\n              <select\n                id=\"nomen-code\"\n                v-model=\"enteredNomenclaturalCode\"\n                class=\"form-control\"\n              >\n                <option\n                  v-for=\"(nomenCode, nomenCodeIndex) of nomenCodes\"\n                  :value=\"nomenCode.uri\"\n                >\n                  {{ nomenCode.label }}\n                </option>\n              </select>\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"name-complete\"\n            >\n              Binomial/trinomial name\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"name-complete\"\n                v-model.lazy=\"taxonNameWrapped.nameComplete\"\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"genus\"\n            >\n              Genus\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"genus\"\n                v-model=\"taxonNameWrapped.genusPart\"\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"specific-epithet\"\n            >\n              Specific epithet\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"specific-epithet\"\n                v-model=\"taxonNameWrapped.specificEpithet\"\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n\n          <div\n            v-if=\"taxonNameWrapped.infraspecificEpithet\"\n            class=\"form-group row\"\n          >\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"infraspecific-epithet\"\n            >\n              Infraspecific epithet\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"infraspecific-epithet\"\n                v-model=\"taxonNameWrapped.infraspecificEpithet\"\n                class=\"form-control\"\n              >\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'Specimen'\">\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"occurrence-id\"\n            >\n              Occurrence ID\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"occurrence-id\"\n                v-model=\"enteredOccurrenceID\"\n                class=\"form-control\"\n                placeholder=\"Enter the occurrence ID of the specimen here\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"collection-code\"\n            >\n              Institution code\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"collection-code\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.institutionCode\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"collection-code\"\n            >\n              Collection code\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"collection-code\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.collectionCode\"\n              >\n            </div>\n          </div>\n\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"catalog-number\"\n            >\n              Catalog number\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"catalog-number\"\n                readonly\n                class=\"form-control\"\n                :value=\"specimenWrapped.catalogNumber\"\n              >\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'External reference'\">\n          <div class=\"form-group row\">\n            <label\n              class=\"col-form-label col-md-2\"\n              for=\"external-reference\"\n            >\n              External reference\n            </label>\n            <div class=\"col-md-10 input-group\">\n              <input\n                id=\"external-reference\"\n                v-model=\"externalReference\"\n                class=\"form-control\"\n                placeholder=\"Enter URI of external reference here\"\n              >\n              <div class=\"input-group-append\">\n                <a\n                  class=\"btn btn-outline-secondary\"\n                  target=\"_blank\"\n                  :href=\"externalReference\"\n                >\n                  Open in new window\n                </a>\n              </div>\n            </div>\n          </div>\n        </template>\n\n        <template v-if=\"specifierClass === 'Apomorphy'\">\n          <p>\n            Apomorphy-based specifiers are not currently supported. Please enter\n            them into the verbatim label field for now.\n          </p>\n        </template>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/*\n * Displays a specifier as a textfield/expanded field.\n *\n * Here is a quick guide to how this is wired together:\n *  - Individual text fields will update their synthesized field (i.e. editing genus\n *    will update specifierText).\n *  - Editing or otherwise updating the synthesized field will overwrite\n *    locally stored specifier (specifier).\n *  - If our local specifier falls out of sync with the remoteSpecifier, we\n *    overwrite it using the specifier.\n */\n\nimport Vue from 'vue';\nimport {\n  PhylorefWrapper,\n  TaxonomicUnitWrapper,\n  TaxonConceptWrapper,\n  TaxonNameWrapper,\n  SpecimenWrapper,\n} from '@phyloref/phyx';\nimport {\n  has, isEmpty, isEqual, cloneDeep, pickBy, uniqueId,\n} from 'lodash';\n\n// TaxonomicUnitWrapper doesn't yet set a type for apomophies, so\n// we'll set one up ourselves.\nTaxonomicUnitWrapper.TYPE_APOMORPHY = 'http://purl.obolibrary.org/obo/CDAO_0000071';\n\nexport default {\n  name: 'Specifier',\n  props: {\n    specifierIndex: {\n      default: () => uniqueId(),\n    },\n    remoteSpecifier: { /* The specifier to display and edit */\n      type: Object,\n      required: true,\n    },\n    remoteSpecifierId: { /* An ID for this specifier. We recalculate if this ID changes. */\n      type: String,\n      required: false,\n      default: () => uniqueId('remoteSpecifierId'),\n    },\n    phyloref: { /* The phyloreference containing this specifier */\n      type: Object,\n      required: true,\n    },\n  },\n  data() {\n    // All of this will be filled in by mounted().\n    return {\n      expand: false,\n      specifierClass: undefined,\n      specimenWrapped: undefined,\n      taxonNameWrapped: undefined,\n      enteredNomenclaturalCode: this.$store.getters.getDefaultNomenCodeURI,\n      enteredVerbatimLabel: undefined,\n      externalReference: undefined,\n    };\n  },\n  computed: {\n    nomenCodes: () => TaxonNameWrapper.getNomenclaturalCodes(),\n    nomenclaturalCodeObj() {\n      return TaxonNameWrapper.getNomenCodeDetails(this.enteredNomenclaturalCode);\n    },\n    specifier() {\n      // Check the specifierClass before we figure out how to construct the\n      // specifier we might want to overwrite.\n      let result;\n      switch (this.specifierClass) {\n        case 'Taxon':\n          result = TaxonConceptWrapper.fromLabel(\n            this.enteredScientificName,\n            this.enteredNomenclaturalCode,\n          );\n          break;\n\n        case 'Specimen':\n          result = SpecimenWrapper.fromOccurrenceID(this.enteredOccurrenceID);\n          break;\n\n        case 'Apomorphy':\n          result = {\n            '@type': TaxonomicUnitWrapper.TYPE_APOMORPHY,\n          };\n          break;\n\n        case 'External reference':\n          result = {\n            // We store the external reference in the '@id' field.\n            '@id': this.externalReference || this.enteredVerbatimLabel || '',\n          };\n          break;\n\n        default:\n          // Make sure we have a result, even if it's just a blank object.\n          result = {};\n      }\n\n      // Add the entered verbatim label.\n      if (this.enteredVerbatimLabel) {\n        result.label = this.enteredVerbatimLabel;\n      }\n\n      return result;\n    },\n    specifierType: {\n      get() {\n        return new PhylorefWrapper(this.phyloref).getSpecifierType(this.remoteSpecifier);\n      },\n      set(type) {\n        this.$store.commit(\n          'setSpecifierType',\n          {\n            phyloref: this.phyloref,\n            specifier: this.remoteSpecifier,\n            specifierType: type,\n          },\n        );\n      },\n    },\n    specifierLabel: {\n      get() {\n        if (this.enteredVerbatimLabel) return this.enteredVerbatimLabel;\n        if (this.externalReference) return this.externalReference;\n        if (this.specimenWrapped) return this.specimenWrapped.label;\n        if (this.taxonNameWrapped) return this.taxonNameWrapped.label;\n        return '';\n      },\n      set(label) {\n        // 1. Set the verbatim label to this.\n        this.enteredVerbatimLabel = label;\n\n        // 2. Attempt to extract the specifier information from there.\n        switch (this.specifierClass) {\n          case 'Taxon':\n            // Try to extract a taxon name from this.\n            this.taxonNameWrapped = TaxonNameWrapper.fromVerbatimName(\n              label,\n              this.enteredNomenclaturalCode,\n            );\n            break;\n\n          case 'Specimen':\n            this.specimenWrapped = SpecimenWrapper.fromOccurrenceID(\n              label,\n            );\n            break;\n\n          case 'Apomorphy':\n            // For now, we just write apomorphies into the verbatim label.\n            break;\n\n          case 'External reference':\n            this.externalReference = label;\n            break;\n        }\n\n        this.updateSpecifier();\n      },\n    },\n    enteredScientificName: {\n      // TODO: We should want the user if we couldn't parse this; at the moment,\n      // we silently ignore this and no specifier gets written.\n      get() {\n        if (this.taxonNameWrapped) return this.taxonNameWrapped.nameComplete;\n        return '';\n      },\n      set(scname) {\n        // Don't do anything if a scname is not actually set.\n        if (!scname) return;\n\n        this.taxonNameWrapped = new TaxonNameWrapper(TaxonNameWrapper.fromVerbatimName(scname, this.enteredNomenclaturalCode) || {});\n        this.updateSpecifier();\n        this.enteredScientificName = scname;\n      },\n    },\n    enteredOccurrenceID: {\n      get() {\n        if (this.specimenWrapped) return this.specimenWrapped.occurrenceID;\n        return '';\n      },\n      set(occurID) {\n        this.specimenWrapped = new SpecimenWrapper(SpecimenWrapper.fromOccurrenceID(occurID));\n        this.updateSpecifier();\n      },\n    },\n  },\n  watch: {\n    phyloref() {\n      this.recalculateEntered();\n    },\n    remoteSpecifier() {\n      this.recalculateEntered();\n    },\n    remoteSpecifierId() {\n      this.recalculateEntered();\n    },\n    specifierClass() {\n      // If this changes we need to update the specifier!\n      this.updateSpecifier();\n    },\n  },\n  mounted() {\n    this.recalculateEntered();\n  },\n  methods: {\n    getSpecifierClass(tunit) {\n      // Return the specifier class for a tunit.\n      if (tunit.types.length > 0) {\n        switch (tunit.types[0]) {\n          case TaxonomicUnitWrapper.TYPE_TAXON_CONCEPT:\n            return 'Taxon';\n\n          case TaxonomicUnitWrapper.TYPE_SPECIMEN:\n            return 'Specimen';\n\n          case TaxonomicUnitWrapper.TYPE_APOMORPHY:\n            return 'Apomorphy';\n        }\n\n        // If it has an '@id', it is an external reference to that '@id'.\n        if (has(tunit, '@id')) {\n          return 'External reference';\n        }\n      }\n\n      return undefined;\n    },\n    recalculateEntered() {\n      console.log('Recalculating entered values from: ', this.remoteSpecifier);\n\n      // Recalculate the entered values.\n      const tunit = new TaxonomicUnitWrapper(cloneDeep(this.remoteSpecifier || {}));\n\n      // If it has an '@id', it is an external reference to that '@id'.\n      if (has(this.remoteSpecifier, '@id')) {\n        this.specifierClass = 'External reference';\n        this.externalReference = this.remoteSpecifier['@id'];\n        // tunit.label adds '<>s' around the @id. We work around that by trying\n        // to read the label directly.\n        this.enteredVerbatimLabel = this.remoteSpecifier.label || tunit.label;\n      } else {\n        this.enteredVerbatimLabel = tunit.label;\n        this.specifierClass = this.getSpecifierClass(tunit) || 'Taxon';\n      }\n\n      const taxonConceptWrapped = new TaxonConceptWrapper(tunit.taxonConcept);\n      if (taxonConceptWrapped && taxonConceptWrapped.taxonName) {\n        this.taxonNameWrapped = new TaxonNameWrapper(taxonConceptWrapped.taxonName);\n        this.enteredNomenclaturalCode = this.taxonNameWrapped.nomenclaturalCode\n          || this.enteredNomenclaturalCode;\n      }\n\n      if (tunit.specimen) {\n        this.specimenWrapped = new SpecimenWrapper(tunit.specimen);\n      }\n\n      // TODO: what if all fail?\n    },\n    deleteSpecifier() {\n      // Update remoteSpecifier to what we've got currently entered.\n      const confirmed = confirm('Are you sure you want to delete this specifier?');\n      if (confirmed) {\n        console.log('Deleting specifier: ', this.phyloref, this.remoteSpecifier);\n        this.$store.commit('deleteSpecifier', {\n          phyloref: this.phyloref,\n          specifier: this.remoteSpecifier,\n        });\n      }\n    },\n    updateSpecifier() {\n      const result = this.specifier;\n\n      // If our local specifier differs from the remoteSpecifier, update it.\n      if (isEqual(result, this.remoteSpecifier)) return;\n\n      console.log('Updating specifier as ', result, ' differs from ', this.remoteSpecifier);\n      this.$store.commit('setSpecifierProps', {\n        specifier: this.remoteSpecifier,\n        props: result,\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.hand-cursor {\n  cursor: pointer;\n}\n</style>\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]),_c('div',{staticClass:\"col-md-10\"},[(_vm.citations.length === 0)?[_c('a',{staticClass:\"form-control-plaintext\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.citations.push({})}}},[_vm._v(\"\\n        Add citation\\n      \")])]:_vm._e(),_vm._l((_vm.citations),function(citation,citationIndex){return [_c('div',{staticClass:\"input-group\"},[_c('input',{staticClass:\"form-control hand-cursor\",attrs:{\"type\":\"text\",\"readonly\":\"\",\"placeholder\":\"Citation\"},domProps:{\"value\":_vm.wrappedCitation(citation).toString() || 'Empty citation, click to enter'},on:{\"click\":function($event){return _vm.toggleCitationExpanded(citationIndex)}}}),_c('div',{staticClass:\"input-group-append\"},[(_vm.wrappedCitation(citation).url)?_c('a',{staticClass:\"btn btn-primary\",attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).url}},[_vm._v(\"\\n            Open cited work\\n          \")]):_vm._e(),_c('a',{staticClass:\"btn btn-secondary\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.toggleCitationExpanded(citationIndex)}}},[(_vm.citationsExpanded.includes(citationIndex))?[_vm._v(\"\\n              Close\\n            \")]:[_vm._v(\"\\n              Expand\\n            \")]],2),_c('a',{staticClass:\"btn btn-danger\",attrs:{\"href\":\"javascript:;\"},on:{\"click\":function($event){return _vm.deleteCitation(citationIndex)}}},[_c('b-icon',{attrs:{\"icon\":\"trash\"}})],1)])]),(_vm.citationsExpanded.includes(citationIndex))?_c('div',{staticClass:\"card mt-1\"},[_c('div',{staticClass:\"card-body\"},[_c('h5',{staticClass:\"card-title\"},[_vm._v(\"\\n            Citation details\\n          \")]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"citation-type\"}},[_vm._v(\"\\n              Citation type\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.type),expression:\"citation.type\"}],staticClass:\"form-control\",attrs:{\"id\":\"citation-type\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(citation, \"type\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])},function($event){return _vm.updateCitations()}]}},[_c('option',{attrs:{\"value\":\"article\"}},[_vm._v(\"\\n                  Article\\n                \")]),_c('option',{attrs:{\"value\":\"book\"}},[_vm._v(\"\\n                  Book\\n                \")]),_c('option',{attrs:{\"value\":\"book_section\"}},[_vm._v(\"\\n                  Book section\\n                \")]),_c('option',{attrs:{\"value\":\"misc\"}},[_vm._v(\"\\n                  Miscellaneous\\n                \")])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"authors\"}},[_vm._v(\"\\n              Authors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"authors\",\"rows\":\"3\",\"placeholder\":\"Enter authors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).authorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).authorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"editors\"}},[_vm._v(\"\\n              Editors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"editors\",\"rows\":\"2\",\"placeholder\":\"Enter editors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).editorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).editorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"series-editors\"}},[_vm._v(\"\\n              Series editors (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"series-editors\",\"rows\":\"2\",\"placeholder\":\"Enter series editors here\"},domProps:{\"value\":_vm.wrappedCitation(citation).seriesEditorsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).seriesEditorsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations();}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"title\"}},[_vm._v(\"\\n              Title\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.title),expression:\"citation.title\"}],staticClass:\"form-control\",attrs:{\"id\":\"title\",\"type\":\"text\",\"placeholder\":\"Enter title here\"},domProps:{\"value\":(citation.title)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"title\", $event.target.value)}}})])]),(citation.type === 'book_section')?_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"section-title\"}},[_vm._v(\"\\n              Section title\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.section_title),expression:\"citation.section_title\"}],staticClass:\"form-control\",attrs:{\"id\":\"section-title\",\"type\":\"text\",\"placeholder\":\"Enter section title here\"},domProps:{\"value\":(citation.section_title)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"section_title\", $event.target.value)}}})])]):_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"year\"}},[_vm._v(\"\\n              Year\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.year),expression:\"citation.year\"}],staticClass:\"form-control\",attrs:{\"id\":\"year\",\"type\":\"text\",\"placeholder\":\"Enter year here\"},domProps:{\"value\":(citation.year)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"year\", $event.target.value)}}})]),(citation.type !== 'article')?[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"edition\"}},[_vm._v(\"\\n                Edition\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.edition),expression:\"citation.edition\"}],staticClass:\"form-control\",attrs:{\"id\":\"edition\",\"type\":\"text\",\"placeholder\":\"Enter edition here\"},domProps:{\"value\":(citation.edition)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"edition\", $event.target.value)}}})])]:_vm._e()],2),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"pages\"}},[_vm._v(\"\\n              Pages\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.pages),expression:\"citation.pages\"}],staticClass:\"form-control\",attrs:{\"id\":\"pages\",\"type\":\"text\",\"placeholder\":\"Enter pages here\"},domProps:{\"value\":(citation.pages)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"pages\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"figure\"}},[_vm._v(\"\\n              Figure\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.figure),expression:\"citation.figure\"}],staticClass:\"form-control\",attrs:{\"id\":\"figure\",\"type\":\"text\",\"placeholder\":\"Enter figure number here\"},domProps:{\"value\":(citation.figure)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"figure\", $event.target.value)}}})])]),(citation.type === 'article')?[_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-title\"}},[_vm._v(\"\\n                Journal title\\n              \")]),_c('div',{staticClass:\"col-md-10\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.name),expression:\"wrappedCitation(citation).journal.name\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-title\",\"type\":\"text\",\"placeholder\":\"Enter journal title here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.name)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.wrappedCitation(citation).journal, \"name\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-volume\"}},[_vm._v(\"\\n                Volume\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.volume),expression:\"wrappedCitation(citation).journal.volume\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-volume\",\"type\":\"text\",\"placeholder\":\"Enter journal volume number here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.volume)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.wrappedCitation(citation).journal, \"volume\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"journal-issue\"}},[_vm._v(\"\\n                Issue number\\n              \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.wrappedCitation(citation).journal.number),expression:\"wrappedCitation(citation).journal.number\"}],staticClass:\"form-control\",attrs:{\"id\":\"journal-issue\",\"type\":\"text\",\"placeholder\":\"Enter journal issue number here\"},domProps:{\"value\":(_vm.wrappedCitation(citation).journal.number)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.wrappedCitation(citation).journal, \"number\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"issns\"}},[_vm._v(\"\\n                ISSNs (one per line)\\n              \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"issns\",\"rows\":\"1\",\"placeholder\":\"Enter ISSNs here\"},domProps:{\"value\":_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: (_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns || []).length === 0},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":'https://www.worldcat.org/search?q=n2%3A' + _vm.wrappedCitation(_vm.wrappedCitation(citation).journal).issns[0]}},[_vm._v(\"\\n                      Open in new window\\n                    \")])])])])])]:_vm._e(),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"isbns\"}},[_vm._v(\"\\n              ISBNs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"isbns\",\"rows\":\"1\",\"placeholder\":\"Enter ISBNs here\"},domProps:{\"value\":_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: (_vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns || []).length === 0},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":'https://www.worldcat.org/search?q=bn%3A' + _vm.wrappedCitation(_vm.wrappedCitation(citation).journal).isbns[0]}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"publisher\"}},[_vm._v(\"\\n              Publisher\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.publisher),expression:\"citation.publisher\"}],staticClass:\"form-control\",attrs:{\"id\":\"publisher\",\"type\":\"text\",\"placeholder\":\"Enter publisher here\"},domProps:{\"value\":(citation.publisher)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"publisher\", $event.target.value)}}})]),_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"city\"}},[_vm._v(\"\\n              City\\n            \")]),_c('div',{staticClass:\"col-md-4\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(citation.city),expression:\"citation.city\"}],staticClass:\"form-control\",attrs:{\"id\":\"city\",\"type\":\"text\",\"placeholder\":\"Enter publication city here\"},domProps:{\"value\":(citation.city)},on:{\"change\":function($event){return _vm.updateCitations()},\"input\":function($event){if($event.target.composing)return;_vm.$set(citation, \"city\", $event.target.value)}}})])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"doi\"}},[_vm._v(\"\\n              DOIs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"doi\",\"rows\":\"1\",\"placeholder\":\"Enter DOIs here\"},domProps:{\"value\":_vm.wrappedCitation(citation).doisAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).doisAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: !_vm.wrappedCitation(citation).firstDOI},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).firstDOI ? 'http://doi.org/' + _vm.wrappedCitation(citation).firstDOI : undefined}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])]),_c('div',{staticClass:\"form-group row\"},[_c('label',{staticClass:\"col-form-label col-md-2\",attrs:{\"for\":\"urls\"}},[_vm._v(\"\\n              URLs (one per line)\\n            \")]),_c('div',{staticClass:\"col-md-10\"},[_c('div',{staticClass:\"input-group\"},[_c('textarea',{staticClass:\"form-control\",attrs:{\"id\":\"urls\",\"rows\":\"1\",\"placeholder\":\"Enter URLs here\"},domProps:{\"value\":_vm.wrappedCitation(citation).urlsAsStrings.join('\\n')},on:{\"change\":function($event){_vm.wrappedCitation(citation).urlsAsStrings = $event.target.value.split(/\\s*\\n\\s*/); _vm.updateCitations()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('a',{staticClass:\"btn btn-outline-secondary align-middle\",class:{disabled: !_vm.wrappedCitation(citation).firstURL},staticStyle:{\"vertical-align\":\"middle\"},attrs:{\"target\":\"_blank\",\"href\":_vm.wrappedCitation(citation).firstURL}},[_vm._v(\"\\n                    Open in new window\\n                  \")])])])])])],2)]):_vm._e()]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal\",attrs:{\"id\":\"advanced-options\",\"tabindex\":\"-1\",\"role\":\"dialog\"}},[_c('div',{staticClass:\"modal-dialog\",attrs:{\"role\":\"document\"}},[_c('div',{staticClass:\"modal-content\"},[_vm._m(0),_c('div',{staticClass:\"modal-body\"},[_c('p',[_vm._v(\"\\n          The following is a representation of this PHYX in JSON. You\\n          can edit the JSON directly if you like.\\n        \")]),(_vm.JSONParsingError)?_c('div',{staticClass:\"card text-white bg-danger mb-2\"},[_c('div',{staticClass:\"card-body\"},[_c('p',{staticClass:\"card-text\"},[_vm._v(\"\\n              This JSON could not be parsed: \"+_vm._s(_vm.JSONParsingError)+\"\\n            \")])])]):_vm._e(),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.lazy\",value:(_vm.phyxAsJSON),expression:\"phyxAsJSON\",modifiers:{\"lazy\":true}}],staticStyle:{\"width\":\"100%\",\"margin\":\"auto\"},attrs:{\"id\":\"test-content\",\"rows\":\"10\"},domProps:{\"value\":(_vm.phyxAsJSON)},on:{\"change\":function($event){_vm.phyxAsJSON=$event.target.value}}})]),_c('div',{staticClass:\"modal-footer\"},[_c('button',{staticClass:\"btn btn-info\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.downloadAsJSONLD()}}},[_vm._v(\"\\n          Download as JSON-LD\\n        \")]),_c('button',{staticClass:\"btn btn-secondary\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\"}},[_vm._v(\"\\n          Close\\n        \")])])])])])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"modal-header\"},[_c('h5',{staticClass:\"modal-title\"},[_vm._v(\"\\n          Advanced options\\n        \")]),_c('button',{staticClass:\"close\",attrs:{\"type\":\"button\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"\\n            \\n          \")])])])\n}]\n\nexport { render, staticRenderFns }"],"sourceRoot":""}